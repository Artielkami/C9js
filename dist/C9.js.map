{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e259e259207fcda98248","webpack:///./src/index.js","webpack:///./src/charts/C9.BarChart.js","webpack:///./src/charts/C9.Chart.js","webpack:///./src/helper/C9.Helper.js","webpack:///./src/charts/utils/C9.Axis.js","webpack:///./src/charts/utils/C9.Title.js","webpack:///./src/charts/utils/C9.Legend.js","webpack:///./src/charts/utils/C9.Tooltip.js","webpack:///./src/helper/C9.DataAdapter.js","webpack:///./src/charts/C9.DonutChart.js","webpack:///./src/charts/utils/C9.Table.js","webpack:///./src/charts/C9.LineChart.js","webpack:///./src/charts/C9.PieChart.js","webpack:///./src/charts/C9.TimeLine.js","webpack:///./src/map/C9.Map.js","webpack:///./src/C9.css"],"names":["module","exports","BarChart","DonutChart","LineChart","PieChart","TimeLine","Map","DataAdapter","Helper","options","self","config","barWidth","undefined","width","margin","left","right","height","top","bottom","body","type","dataOption","colorRange","da","dataTarget","getDataTarget","dataSource","barChartType","getDataTypeForBarChart","_groupNames","groups","stacks","_isGroup","x","d3","scale","ordinal","rangeRoundBands","y","isLogaric","log","range","linear","minMax","getMinMax","domain","map","d","name","min","max","_xGroup","rangeBand","_barWidth","_x","_y","updateConfig","color","xGroup","bar","selectAll","data","enter","append","attr","bars","style","i","isGroup","group","y1","y0","Math","abs","groupNames","groupNamesOld","newLabel","groupType","axis","update","xGroupOld","midGroup","length","indexOf","exit","remove","transition","duration","updateInteraction","title","legend","draw","updateInteractionForBarChart","lower","upper","d1","floor","toString","split","d2","toFixed","hoverEnable","hover","enable","hoverOptions","selector","selectAllBar","onMouseOverCallback","onMouseOver","callback","onMouseOutCallback","onMouseOut","onClickCallback","click","tooltip","eventFactory","isFunction","call","on","eventType","eventName","newBarWidth","_colorRange","err","newBarColor","_groupType","newGroupType","newX","newY","newXGroup","newGroupNames","_body","Chart","id","template","fadeIn","fadeOut","onMouseMove","show","position","size","textSize","space","backgroundColor","fontColor","format","table","container","headings","serial","plain","file","url","keys","value","time","tick","rotate","count","padding","values","hours","interval","label","text","grid","_id","_width","_height","_margin","merge","_hover","_click","_eventFactory","_dataOption","_dataTarget","_svg","_options","mergeDeep","initConfig","select","svg","_container","newContainer","newId","newWidth","newHeight","_actualWidth","arg","_actualHeight","newColorRange","newMargin","newSvg","newBody","newOptions","newHover","each","loopable","reverse","len","isArray","Object","setValue","key","setPrefix","constPrefix","isEmpty","Util","isObject","object","array","Array","prototype","func","obj1","obj2","obj3","attrname","target","source","get","_key","_data","_keys","_current","_fun","filter","arr","sum","reduce","a","b","guid","replace","c","r","random","v","_temp","_min","_max","forEach","s","push","_newMin","_newMax","dateParser","parse","dateFormatter","shadeColor","p","from","to","sbcRip","l","RGB","slice","parseFloat","parseInt","round","h","f","t","scroll","element","difference","scrollTop","perTick","setTimeout","assign","Axis","_xShow","_xText","_yShow","_yText","_xTick","_yTick","_xGrid","_yGrid","_xType","_yType","xScale","starting","ending","_xAxis","orient","tickFormat","ticks","tickPadding","tickValues","_isLogaricVariant","_yAxis","innerTickSize","outerTickSize","textAnchor","angle","sin","PI","textDx","textY","newXAxis","newYAxis","_xAxisShow","newXAxisShow","_xAxisPadding","newXAxisPadding","_yAxisShow","newYAxisShow","_yAxisPadding","newYAxisPadding","newIsLogaricVariant","_y2AxisShow","newY2AxisShow","_y2AxisPadding","newY2AxisPadding","Title","titleShow","titleText","titlePosition","titleSize","_titleShow","_titleText","_titlePosition","_titleSize","parentNode","node","getComputedTextLength","setYLocation","newTitleShow","newTitleText","newTitlePosition","newTitleSize","newtitleSize","Legend","box","_show","_textSize","_position","_size","_box","_space","_maxWidth","_maxHeight","nest","entries","item","getSize","getBoundingClientRect","getXY","xy","items","itemHeight","numItemsCol","maxWidthCol","n","pos","preItem","newR","prePos","chart","itemEventFactory","dataSet","totalEnable","legendSelector","path","pie","currentData","arc","chartType","chartInnerBefore","innerRadius","chartOuterBefore","radius","outerRadius","chartInnerAfter","chartOuterAfter","selectAllPath","attrTween","interpolate","ease","dataBackup","enableSet","enableSetOld","negElement","posElement","e","updateLegendInteraction","_color","_text","newText","newPosition","newSize","_item","newItem","_domain","newDomain","_itemEventFactory","newItemEventFactory","Tooltip","fontSize","_backgroundColor","_fontColor","_fontSize","divOnHover","getTriangleClass","html","getFormatByChartType","getCoordinate","mouseover","mouseout","mousemove","retrieveValue","_format","valueX","valueY","start","end","event","pageX","pageY","setDefaultFormatByChartType","timeFormat","_groups","_stacks","_timeFormat","_dataSource","_dataRefs","initDataSource","hasPlainData","executePlainData","hasFile","executeFile","_file","getCsv","getTsv","getText","getJson","getXml","getDataTargetForBarChart","getDataTargetForLineChart","getDataTargetForPieChart","getDataTargetForDonutChart","getDataTargetForTimelineChart","index","_stack","_dsArray","_stackItem","_negBase","_posBase","icon","_valueArray","_valueItem","Date","_valueXArray","_valueYArray","_parser","csv","tsv","JSON","json","xml","querySelectorAll","querySelector","textContent","R","showText","_outerRadius","_innerRadius","_showText","layout","sort","arcs","_currentData","updateInteractionForDonutPieChart","_tooltip","_pie","_arc","_legend","Table","_headings","_style","_serial","headTbl","thead","bodyTbl","tbody","hRows","bRows","selectAllRow","point","fill","stroke","opacity","area","line","_point","_area","_line","_interpolate","_bisectDate","bisector","_da","_isTimeDomain","valueXArray","valueYArray","extent","lineGen","areaGen","console","getLineStyle","_d","chartBox","getBBox","actualWidth","actualHeight","hoverLine","hoverCircle","updateInteractionForLineChart","onMouseMoveCallback","selectRectLayer","selectAllCircle","circle","mouse","mouseX","mouseY","curValueX","invert","sameTimeArr","sameTimeValueArr","idx","bisectDate","d0","_hoverLine","_radius","tr","selectedItem","offsetTop","updateInteractionForPieChart","newradius","newShowText","rowSeparator","stack","itemMargin","labelMargin","striped","_starting","_ending","_rowSeparator","_itemHeight","_itemMargin","_labelMargin","_maxStack","_striped","stackList","maxStack","minTime","maxTime","datum","barYAxis","insert","document","createElementNS","ns","prefix","getXPos","getStackPosition","lineYAxis","rowsDown","getStackTextPosition","getXTextPos","selectAllRect","newStack","_stacked","newBackgroundColor","newRowSeparator","newStarting","newEnding","newItemHeight","newItemMargin","newLabelMargin","newMaxStack","newStriped","layers","view","lat","lon","zoom","_view","_markers","markers","_layers","initMapConfig","c9Layers","c9Markers","ol","Vector","c9Objs","initLayer","initMarker","initObj","c9View","View","center","proj","fromLonLat","minZoom","c9Map","interactions","interaction","defaults","doubleClickZoom","layer","setSource","setupSource","createLayer","imgSrc","marker","Feature","geometry","geom","Point","createMarkerStyle","Style","image","Icon","anchor","src","setStyle","addFeature","m","createMarker","img","BingMaps","imagerySet","Stamen","TileJSON","crossOrigin","TileArcGISRest","extractStyles","Cluster","distance","ImageVector","OSM","feature","getTime","listenerKey","animate","vectorContext","frameState","flashGeom","getGeometry","clone","elapsed","elapsedRatio","easing","easeOut","Circle","snapToPixel","Stroke","drawGeometry","Observable","unByKey","render","LEFT_KEY","RIGHT_KEY","DURATION","LOAD_MAP_DELAY","getCoordinatesLonLat","transform","getCoordinates","transformCoordinates","panAnimation","pan","animation","getCenter","beforeRender","setCenter","distanceAndDirection","fCoordinates","sqrt","pow","evt","getTargetElement","cursor","hasFeatureAtPixel","pixel","once","getFeatures","createMarkerEffect","forEachFeatureAtPixel","$","keydown","keydownAnimate","k","selectedFeature","minDistance","Infinity","checkAnimate","keyCode","strokeWidth","strokeColor","fillColor","obj","Polygon","LineString","createObjStyle","Fill","newView","newMarkers","newLayers","newData"],"mappings":"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","file":"C9.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"C9\"] = factory();\n\telse\n\t\troot[\"C9\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e259e259207fcda98248\n **/","// Chart Importer\r\nimport BarChart from './charts/C9.BarChart';\r\nimport DonutChart from './charts/C9.DonutChart';\r\nimport LineChart from './charts/C9.LineChart';\r\nimport PieChart from './charts/C9.PieChart';\r\nimport TimeLine from './charts/C9.TimeLine';\r\n\r\n// Map Importer\r\nimport Map from './map/C9.Map';\r\n\r\n// Helper Importer\r\nimport Helper from './helper/C9.Helper';\r\nimport DataAdapter from './helper/C9.DataAdapter';\r\n\r\n// CSS Importer\r\nimport styles from './C9.css';\r\n\r\nmodule.exports = {\r\n\tBarChart,\r\n\tDonutChart,\r\n\tLineChart,\r\n\tPieChart,\r\n\tTimeLine,\r\n\r\n\tMap,\r\n\t\r\n\tDataAdapter,\r\n\tHelper,\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\nimport Tooltip from './utils/C9.Tooltip';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class BarChart extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n        var self = this;\r\n        var config = {\r\n            barWidth: undefined,\r\n            // groupType: \"stack\"\r\n        };\r\n\r\n        var width        = self.width - self.margin.left - self.margin.right;\r\n        var height       = self.height - self.margin.top - self.margin.bottom;\r\n        // var groupCount   = 0; // use to count how many element in group\r\n        // var groupStart   = 0; // calculate the number of those first element that just have only 1 value\r\n\r\n        self.body.type      = \"bar\";\r\n        // self._groupType     = options.groupType     ||  config.groupType;\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        var da = new DataAdapter(dataOption);\r\n        self.dataTarget = da.getDataTarget(\"bar\");\r\n        self.dataSource = da.dataSource;\r\n        var barChartType = da.getDataTypeForBarChart()\r\n        if (barChartType != \"single\") {\r\n            self._groupNames    = da.groups || da.stacks;  //define group names use for showing legend\r\n            self._isGroup       = barChartType == \"group\";\r\n        }\r\n\r\n        // .1 to make outerPadding, according to: https://github.com/d3/d3/wiki/Ordinal-Scales\r\n        var x = d3.scale.ordinal().rangeRoundBands([0, width], .1);\r\n        var y = options.isLogaric ? d3.scale.log().range([height, 0]) : d3.scale.linear().range([height, 0]);\r\n\r\n        var minMax = Helper.getMinMax(self.dataTarget, barChartType, options.isLogaric);\r\n\r\n        x.domain(self.dataTarget.map(function(d) {\r\n            return d[0].name;\r\n        }));\r\n\r\n        y.domain([minMax.min, minMax.max]);\r\n\r\n        /******** Handle for grouped, stacked bar chart ********/\r\n        if (self._groupNames) {\r\n            self._xGroup = d3.scale.ordinal();\r\n            self._xGroup.domain(self._groupNames).rangeRoundBands([0, x.rangeBand()]);\r\n        }\r\n        \r\n        /**********************************************/\r\n\r\n        // Make flexible width according to barWidth\r\n        config.barWidth      = x.rangeBand();\r\n        self._barWidth       = options.barWidth  ||  config.barWidth;\r\n        self._x              = x;\r\n        self._y              = y;\r\n        self.isLogaric       = options.isLogaric;\r\n        self.updateConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get barWidth() {\r\n        return this._barWidth;\r\n    }\r\n\r\n    get colorRange() {\r\n        var color = this._colorRange;\r\n        if (typeof color == 'string') {\r\n            try {\r\n                return d3.scale[color]();    \r\n            }\r\n            catch(err) {\r\n                return function(i) {\r\n                    return color;\r\n                };\r\n            }\r\n        } else if (typeof color == 'object') {\r\n            return d3.scale.ordinal().range(color);\r\n        }\r\n    }\r\n\r\n    get groupType() {\r\n        return this._groupType;\r\n    }\r\n\r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    \r\n    get xGroup() {\r\n        return this._xGroup;\r\n    }\r\n\r\n    get groupNames() {\r\n        return this._groupNames;\r\n    }\r\n\r\n    get chartType() {\r\n        return this._body.type;\r\n    }\r\n\r\n    get isGroup() {\r\n        return this._isGroup;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set barWidth(newBarWidth) {\r\n        if (newBarWidth) {\r\n            this._barWidth = newBarWidth;\r\n        }\r\n    }\r\n    \r\n    set colorRange(newBarColor) {\r\n        if (newBarColor) {\r\n            this._colorRange = newBarColor;\r\n        }\r\n    }\r\n\r\n    set groupType(newGroupType) {\r\n        if (newGroupType) {\r\n            this._groupType = newGroupType;\r\n        }\r\n    }\r\n\r\n    set x(newX) {\r\n        if (newX) {\r\n            this._x = newX;\r\n        }\r\n    }\r\n\r\n    set y(newY) {\r\n        if (newY) {\r\n            this._y = newY;\r\n        }\r\n    }\r\n\r\n    set xGroup(newXGroup) {\r\n        if (newXGroup) {\r\n            this._xGroup = newXGroup;\r\n        }\r\n    }\r\n\r\n    set groupNames(newGroupNames) {\r\n        if (newGroupNames) {\r\n            this._groupNames = newGroupNames;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n\r\n\r\n\r\n    /**\r\n     * Init Bar Chart Config\r\n     */\r\n    updateConfig(){\r\n        var self  = this,\r\n            color = self.colorRange,\r\n            x     = self._x,\r\n            y     = self._y,\r\n            xGroup= self._xGroup;\r\n\r\n        var bar = self.body\r\n                    .selectAll(\".bar\")\r\n                    .data(self.dataTarget)\r\n                    .enter()\r\n                        .append(\"g\")\r\n                        .attr(\"class\", \"c9-chart-bar c9-custom-bar\")\r\n                        .attr(\"transform\", function(d) { return \"translate(\" + x(d[0].name) + \",0)\"; });\r\n\r\n        var bars = bar.selectAll(\".c9-custom-rect\")\r\n            .data(function(d) { return d; });\r\n\r\n        bars.enter()\r\n            .append(\"rect\")\r\n            .attr(\"class\", \"c9-custom-rect\")\r\n            .style(\"fill\", function (d, i) { return d.color || color(i); })\r\n            .attr(\"x\", function(d) { return self.isGroup ? xGroup(d.group) : undefined; })\r\n            .attr(\"y\", function(d) { return y(d.y1); })\r\n            .attr(\"width\", function(d) { return self.isGroup ? xGroup.rangeBand() : x.rangeBand(); })\r\n            .attr(\"height\", function(d) { return self.isLogaric ? y(y.domain()[0]) - y(d.y0) : y(0) - y(Math.abs(d.y0)); });\r\n    }\r\n\r\n    /**\r\n     * [updateLegendInteraction description]\r\n     * @param  {[type]} data          [description]\r\n     * @param  {[type]} groupNames    [description]\r\n     * @param  {[type]} groupNamesOld [description]\r\n     * @param  {[type]} newLabel      [description]\r\n     * @return {[type]}               [description]\r\n     */\r\n    updateLegendInteraction(data, groupNames, groupNamesOld, newLabel){\r\n        var self = this;\r\n        var type = self.groupType;\r\n\r\n        var y = self.y;\r\n        var minMax = Helper.getMinMax(data, self.isGroup == false ? \"stack\" : null, self.isLogaric);\r\n        y.domain([minMax.min, minMax.max]);\r\n        self.axis.update(null, y, 750);\r\n        \r\n        var xGroup = d3.scale.ordinal();\r\n        xGroup.domain(groupNames).rangeRoundBands([0, self.x.rangeBand()]);\r\n\r\n        var xGroupOld = d3.scale.ordinal();\r\n        xGroupOld.domain(groupNamesOld).rangeRoundBands([0, self.x.rangeBand()]);\r\n\r\n        var midGroup = undefined;\r\n        //check add new label in the middle\r\n        if (groupNames.length > groupNamesOld.length && 0 < groupNames.indexOf(newLabel) && groupNames.indexOf(newLabel) < groupNames.length - 1 )\r\n            midGroup = groupNamesOld[groupNames.indexOf(newLabel)];\r\n\r\n        // self.body.selectAll(\".c9-custom-rect\").transition().duration(750).attr(\"height\", 0).remove();\r\n        self.body.selectAll(\".c9-custom-rect\").data([]).exit().remove();\r\n        self.body.selectAll(\".c9-custom-bar\").data([]).exit().remove();\r\n        var bar = self.body\r\n                    .selectAll(\".c9-chart-bar.c9-custom-bar\")\r\n                    .data(data)\r\n                    .enter()\r\n                    .append(\"g\")\r\n                    .attr(\"class\", \"c9-chart-bar c9-custom-bar\")\r\n                    .attr(\"transform\", function (d, i) { return \"translate(\" + self.x(self.dataTarget[i][0].name) + \",0)\"; });\r\n\r\n        var bars = bar.selectAll(\".c9-custom-rect\")\r\n            .data(function(d) { return d; });\r\n\r\n        bars.enter()\r\n            .append(\"rect\")\r\n            .attr(\"class\", \"c9-custom-rect\")\r\n            .style(\"fill\", function(d) { return d.color; })\r\n            .attr(\"x\", function(d) {\r\n                // use for stack\r\n                if (!self.isGroup) return undefined;\r\n                // use for group\r\n                // group member positioning at the end of groups, so its x is the position of right edge of bar\r\n                if (groupNames.length > groupNamesOld.length && d.group == newLabel && groupNames.indexOf(newLabel) == groupNames.length - 1)\r\n                    return self.x.rangeBand();\r\n                return midGroup ? d.group == newLabel ? xGroupOld(midGroup) : xGroupOld(d.group) : xGroupOld(d.group);\r\n            })\r\n            .attr(\"y\", function(d) { return self.isGroup ? y(d.y1) : self.isLogaric ? y(y.domain()[1]) : y(0); })\r\n            .attr(\"width\", function(d) {\r\n                return !self.isGroup ? self.x.rangeBand() : d.group == newLabel ? 0 : xGroupOld.rangeBand();\r\n            })\r\n            .attr(\"height\", function(d) { return self.isLogaric ? y(y.domain()[0]) - y(d.y0) : self.isGroup ? y(0) - y(Math.abs(d.y0)) : 0; });\r\n\r\n        bars.transition().duration(750)\r\n            .attr(\"x\", function(d) { return !self.isGroup ? undefined : xGroup(d.group); })\r\n            .attr(\"width\", function(d) { return !self.isGroup ? self.x.rangeBand() : xGroup.rangeBand(); })\r\n            .attr(\"y\", function(d) { return y(d.y1); })\r\n            .attr(\"height\", function(d) { return self.isLogaric ? y(y.domain()[0]) - y(d.y0) : y(0) - y(Math.abs(d.y0)); });\r\n            \r\n        self.updateInteraction();\r\n    }\r\n\r\n    /**\r\n     * [Main draw function of Bar Chart]\r\n     * @return {[type]} [description]\r\n     */\r\n    draw() {\r\n        var self = this;\r\n        self.axis    = new Axis(self.options.axis, self.body, self.dataTarget, self.width - self.margin.left - self.margin.right, self.height - self.margin.top - self.margin.bottom, self.x, self.y);\r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);\r\n        var legend  = new Legend(self.options.legend, self.body, self.dataTarget);\r\n        \r\n        legend.draw();\r\n        legend.updateInteractionForBarChart(self);\r\n\r\n        self.updateInteraction();\r\n    }\r\n\r\n    /**\r\n     * Retrieve value from upper and lower bounds of each stack\r\n     * @param  {String} lower Lower bound of value\r\n     * @param  {String} upper Upper bound of value\r\n     * @return {String}       Value to return\r\n     */\r\n    retrieveValue(lower, upper) {\r\n        var d1 = Math.floor(lower) === lower ? 0 : lower.toString().split(\".\")[1].length;\r\n        var d2 = Math.floor(upper) === upper ? 0 : upper.toString().split(\".\")[1].length;\r\n        return d1 > d2 ? (upper - lower).toFixed(d1) : (upper - lower).toFixed(d2);\r\n    }\r\n    \r\n    /**\r\n     * Select all bars as type RECT in Bar Chart via its CLASS\r\n     */\r\n    selectAllBar() {\r\n        var self = this;\r\n\r\n        return self.body.selectAll('.c9-custom-rect');\r\n    }\r\n\r\n    /**\r\n     * Update Interaction: Hover\r\n     * @return {} \r\n     */\r\n    updateInteraction() {\r\n        var self = this,\r\n            hoverEnable     = self.hover.enable,\r\n            hoverOptions    = self.hover.options,\r\n            selector        = self.selectAllBar(),\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback  = self.click.callback;\r\n\r\n        var tooltip = new Tooltip(self.options.tooltip);\r\n\r\n        // Update Event Factory\r\n        self.eventFactory = {\r\n            'click': function(d) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, d);\r\n                }\r\n            },\r\n            'mouseover': function(d) {\r\n                if (!hoverEnable) return;\r\n                \r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, d);\r\n                }\r\n\r\n                tooltip.draw(d, self, 'mouseover');\r\n            },\r\n            'mouseout': function(d) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, d);\r\n                }\r\n\r\n                tooltip.draw(d, self, 'mouseout');\r\n            }\r\n        }\r\n\r\n        selector.on(self.eventFactory);\r\n    }\r\n\r\n    /**\r\n     * Custom Event Listener\r\n     * @param  {[type]}   eventType [description]\r\n     * @param  {Function} callback  [description]\r\n     * @return {[type]}             [description]\r\n     */\r\n    on(eventType, callback) {\r\n        super.on(eventType, callback);\r\n        \r\n        var self = this;\r\n        var selector    = self.selectAllBar();\r\n\r\n        // Update Event Factory\r\n        let eventFactory = {\r\n            'click.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            },\r\n            'mouseover.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            },\r\n            'mouseout.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            }\r\n        }\r\n\r\n        let eventName = eventType + '.event';\r\n\r\n        selector.on(eventName, eventFactory[eventName]);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.BarChart.js\n **/","import Helper from '../helper/C9.Helper';\r\n\r\nexport default class Chart {\r\n    constructor(options) {\r\n        var self    = this;\r\n        var config  = {\r\n            // container\r\n            id: \"body\",\r\n            // size (width, height), margin, padding\r\n            width: 960,\r\n            height: 480,\r\n            margin: {\r\n                top: 20,\r\n                right: 20,\r\n                bottom: 70,\r\n                left: 40,\r\n            },\r\n            // interaction in chart\r\n            hover: {\r\n                enable: true,\r\n                options: {\r\n                    template: '',\r\n                    onMouseOver: {\r\n                        fadeIn: 200,\r\n                        callback: function(data) {\r\n                            // console.dir(data);\r\n                        },\r\n                    },\r\n                    onMouseOut: {\r\n                        fadeOut: 500,\r\n                        callback: function(data) {\r\n                            // console.dir(data);\r\n                        },\r\n                    },\r\n                    onMouseMove: {\r\n                        callback: function(data) {\r\n                            // console.dir(data);\r\n                        },\r\n                    }\r\n                }\r\n            },\r\n\r\n            click: {\r\n                callback: function(data) {\r\n                    // console.dir(data);\r\n                },\r\n            },\r\n\r\n            // legend\r\n            legend: {\r\n                show      : false,\r\n                position  : \"top\",\r\n                size      : 10,\r\n                textSize  : \"12px\",\r\n                margin    : [5, 5, 5, 5],\r\n                space     : 10,\r\n            },\r\n\r\n            // tooltip\r\n            tooltip: {\r\n                show: true,\r\n                position: 'left', // [top, right, bottom, left]\r\n                backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                fontColor: '#fff',\r\n                format: null\r\n            },\r\n\r\n            // table \r\n            table: {\r\n                container: \"body\",\r\n                show: true,\r\n                headings: [\"Name\", \"Value\"],\r\n                style: \"default\", // \"strip\", \"border\"\r\n                serial: true,\r\n                hover: {\r\n                    enable: true,\r\n                    callback: null\r\n                },\r\n                click: {\r\n                    enable: true,\r\n                    callback: null\r\n                }\r\n            },\r\n\r\n            // color range\r\n            colorRange: \"category20\",\r\n\r\n            // data\r\n            data: {\r\n                // ALL OPTIONS AVAILABLE IN DATA CONFIG\r\n                plain: [],\r\n                file: {\r\n                    type: null,\r\n                    url: null,\r\n                },\r\n                keys: {\r\n                    name: \"name\",\r\n                    value: \"value\",\r\n                    time: \"time\"\r\n                },\r\n                groups: [],\r\n                stacks: [],\r\n            },\r\n\r\n            axis: {\r\n                x: {\r\n                    tick: {\r\n                        rotate: 0,\r\n                        count: 10,\r\n                        size: 6,\r\n                        padding: 3,\r\n                        format: undefined,\r\n                        values: [],\r\n                        //the following use for timeline chart\r\n                        type: d3.time.hours,\r\n                        interval: 1\r\n                    },\r\n                    label: {\r\n                        text: \"Name\",\r\n                        position: \"default\"\r\n                    },\r\n                    show: false,\r\n                    grid: false,\r\n                    type: \"\"\r\n                },\r\n                y: {\r\n                    tick: {\r\n                        rotate: 0,\r\n                        count: 10,\r\n                        size: 6,\r\n                        padding: 3,\r\n                        format: undefined,\r\n                        values: []\r\n                    },\r\n                    label: {\r\n                        text: \"Value\",\r\n                        position: \"default\"\r\n                    },\r\n                    show: false,\r\n                    grid: false,\r\n                    type: \"\"\r\n                }\r\n            }\r\n        };\r\n\r\n        self._id        = options.id        || config.id;\r\n        self._width     = options.width     || config.width;\r\n        self._height    = options.height    || config.height;\r\n        self._colorRange= options.colorRange|| config.colorRange;\r\n\r\n        \r\n        self._margin    = Helper.merge(options.margin, config.margin);\r\n        self._hover     = Helper.merge(options.hover, config.hover);\r\n        self._click     = Helper.merge(options.click, config.click);\r\n\r\n        // Main factory contains all interactions\r\n        self._eventFactory = null;\r\n        \r\n        self._dataOption= Helper.merge(options.data, config.data);\r\n        self._dataTarget= null;\r\n\r\n        // Skeleton: \r\n        // SVG\r\n        // ---BODY (g)\r\n        // -------BlaBla\r\n        self._svg       = null;\r\n        self._body      = null;\r\n        self._options   = options;\r\n\r\n        self._options.table     = Helper.merge(options.table, config.table);\r\n        self._options.tooltip   = Helper.merge(options.tooltip, config.tooltip);\r\n        self._options.legend   = Helper.merge(options.legend, config.legend);\r\n        self._options.axis   = Helper.mergeDeep(config.axis, options.axis);\r\n\r\n        self.initConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get container() {\r\n        return this._container;\r\n    }\r\n    \r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    get actualWidth() {\r\n        return this._actualWidth;\r\n    }\r\n\r\n    get actualHeight() {\r\n        return this._actualHeight;\r\n    }\r\n\r\n    /**\r\n     * If colorRange is Array of color then scale range according to it\r\n     * If colorRange is a String like \"category20\", \"category20b\", etc. then scale using d3.scale.category\r\n     */\r\n    get colorRange() {\r\n        if (typeof this._colorRange == 'string') {\r\n            return d3.scale[this._colorRange]();\r\n        } else if (typeof this._colorRange == 'object') {\r\n            return d3.scale.ordinal().range(this._colorRange);\r\n        }\r\n    }\r\n\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n\r\n    get dataOption() {\r\n        return this._dataOption;\r\n    }\r\n\r\n    get svg() {\r\n        return this._svg;\r\n    }\r\n\r\n    get body() {\r\n        return this._body;\r\n    }\r\n\r\n    get options() {\r\n        return this._options;\r\n    }\r\n\r\n    get hover() {\r\n        return this._hover;\r\n    }\r\n\r\n    get click() {\r\n        return this._click;\r\n    }\r\n\r\n    get dataTarget() {\r\n        return this._dataTarget;\r\n    }\r\n\r\n    get eventFactory() {\r\n        return this._eventFactory;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n    \r\n    \r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set container(newContainer) {\r\n        if (newContainer) {\r\n            this._container = newContainer;\r\n        }\r\n    }\r\n    \r\n    set id(newId) {\r\n        if (newId) {\r\n            this._id = newId;\r\n        }\r\n    }\r\n\r\n    set width(newWidth) {\r\n        if (newWidth) {\r\n            this._width = newWidth;\r\n        }\r\n    }\r\n\r\n    set height(newHeight) {\r\n        if (newHeight) {\r\n            this._height = newHeight;\r\n        }\r\n    }\r\n\r\n    set actualWidth(arg) {\r\n        if (arg) {\r\n            this._actualWidth = arg;\r\n        }\r\n    }\r\n\r\n    set actualHeight(arg) {\r\n        if (arg) {\r\n            this._actualHeight = arg;\r\n        }\r\n    }\r\n\r\n    set colorRange(newColorRange) {\r\n        if (newColorRange) {\r\n            this._colorRange = newColorRange;\r\n        }\r\n    }\r\n\r\n    set margin(newMargin) {\r\n        if (newMargin) {\r\n            this._margin = newMargin;\r\n        }\r\n    }\r\n\r\n    set dataOption(arg) {\r\n        if (arg) {\r\n            this._dataOption = arg;\r\n        }\r\n    }\r\n\r\n    set svg(newSvg) {\r\n        if (newSvg) {\r\n            this._svg = newSvg;\r\n        }\r\n    }\r\n\r\n    set body(newBody) {\r\n        if (newBody) {\r\n            this._body = newBody;\r\n        }\r\n    }\r\n\r\n    set options(newOptions) {\r\n        if (newOptions) {\r\n            this._options = newOptions;\r\n        }\r\n    }\r\n\r\n    set hover(newHover) {\r\n        if (newHover) {\r\n            this._hover = newHover;\r\n        }\r\n    }\r\n\r\n    set click(arg) {\r\n        if (arg) {\r\n            this._click = arg;\r\n        }\r\n    }\r\n\r\n    set dataTarget(arg) {\r\n        if (arg) {\r\n            this._dataTarget = arg;\r\n        }\r\n    }\r\n\r\n    set eventFactory(arg) {\r\n        if (arg) {\r\n            this._eventFactory = arg;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    /**\r\n     * Init & Update Parent Chart Config\r\n     */\r\n    initConfig() {\r\n        var margin  = this.margin,\r\n            id      = this.id,\r\n            width   = this.width - margin.left - margin.right,\r\n            height  = this.height - margin.top - margin.bottom;\r\n\r\n        this.container = d3.select(id);\r\n\r\n        this.svg = d3.select(id)\r\n            .append(\"svg\")\r\n            .style('overflow', 'visible') // to overwrite overflow: hidden by Boostrap as default\r\n            .attr(\"width\", width + margin.left + margin.right)\r\n            .attr(\"height\", height + margin.top + margin.bottom);\r\n\r\n        this.body = this.svg\r\n                    .append(\"g\")\r\n                    .attr('class', 'c9-chart c9-custom-container')\r\n                    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n                  \r\n    }\r\n\r\n    /**\r\n     * Custom Event Listener\r\n     */\r\n    on(eventType, callback) {\r\n\r\n    }\r\n\r\n    /*=====  End of Main Functions  ======*/\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.Chart.js\n **/","var Helper = {\r\n    \r\n    each: function(loopable, callback, self, reverse) {\r\n        // Check to see if null or undefined firstly.\r\n        var i, len;\r\n        if (self.isArray(loopable)) {\r\n            len = loopable.length;\r\n            if (reverse) {\r\n                for (i = len - 1; i >= 0; i--) {\r\n                    callback.call(self, loopable[i], i);\r\n                }\r\n            } else {\r\n                for (i = 0; i < len; i++) {\r\n                    callback.call(self, loopable[i], i);\r\n                }\r\n            }\r\n        } else if (typeof loopable === 'object') {\r\n            var keys = Object.keys(loopable);\r\n            len = keys.length;\r\n            for (i = 0; i < len; i++) {\r\n                callback.call(self, loopable[keys[i]], keys[i]);\r\n            }\r\n        }\r\n    },\r\n\r\n    // setDefaultConfig: function() {\r\n    //     var self = this;\r\n\r\n    //     if (self.defaultConfig == null || self.defaultConfig === undefined) {\r\n    //         return;\r\n    //     } else {\r\n    //         self.lastConfig = self.merge(Chart._options, Chart);\r\n    //         self.each(self.lastConfig, function(value, index) {\r\n    //             // var prefixCfg = self.setPrefix(index);\r\n    //             self.setValue(self.lastConfig[index], index);\r\n    //         }, self);\r\n    //     }\r\n    // }\r\n\r\n    setValue: function(value, key) {\r\n        var self = this;\r\n        self[key] = value;\r\n    },\r\n\r\n    setPrefix: function(config) {\r\n        var constPrefix = '_';\r\n        if (config) {\r\n            return constPrefix + config;\r\n        }\r\n    },\r\n\r\n    isEmpty: function(value) {\r\n        return value === null || value === undefined || (Util.isArray(value) && value.length === 0) || (Util.isArray(value) && Util.isEmpty(value[0]));\r\n    },\r\n\r\n    isObject: function(object) {\r\n        return !Util.isEmpty(object) && typeof(object) === 'object';\r\n    },\r\n\r\n    isArray: function(array) {\r\n        return !Util.isEmpty(array) && (Array.isArray(array) || Object.prototype.toString.call(array) === '[object Array]');\r\n    },\r\n\r\n    isFunction: function(func) {\r\n        return !Util.isEmpty(func) && typeof(func) === 'function';\r\n    },\r\n\r\n    merge: function(obj1,obj2){\r\n        var obj3 = {};\r\n        for (var attrname in obj2) { if (!Util.isEmpty(obj2[attrname])) obj3[attrname] = obj2[attrname]; }\r\n        for (var attrname in obj1) { if (!Util.isEmpty(obj1[attrname])) obj3[attrname] = obj1[attrname]; }\r\n        return obj3;\r\n    },\r\n\r\n    mergeDeep: function(target, source) {\r\n        return mergeDeep(target, source);\r\n    },\r\n\r\n    get: function(_key, _data){\r\n        var _keys = _key.split(\".\");\r\n        var _current = _data;\r\n        var self = this;\r\n        \r\n        for(var i=0, len=_keys.length; i<len; i++){\r\n            var _fun = _keys[i].split(\"|\");\r\n            \r\n            if(_fun && _fun.length == 2){\r\n                _keys[i] = _fun[0];\r\n                _fun = _fun[1];\r\n            }\r\n            else{\r\n                _fun = null;\r\n            }\r\n            \r\n            if('undefined' == typeof(_current[_keys[i]])){\r\n                return '';\r\n            }\r\n            else{\r\n                _current = _current[_keys[i]];\r\n            }\r\n            \r\n            if(null !== _fun){\r\n                _current = self.filter[_fun].call(this, _current);\r\n            }\r\n        }\r\n        \r\n        return _current;\r\n    },\r\n\r\n    max: function(arr) {\r\n        return Math.max(...arr);\r\n    }, \r\n\r\n    min: function(arr) {\r\n        return Math.min(...arr);\r\n    }, \r\n\r\n    sum: function(arr) {\r\n        return arr.reduce(function(a, b) { return a + b; }, 0);\r\n    },\r\n\r\n    guid: function() {\r\n        return 'c9-xxxxxx-4xxx-yxxx'.replace(/[xy]/g, function(c) {\r\n            let r = Math.random()*16|0, \r\n                v = c == 'x' ? r : (r&0x3|0x8);\r\n            return v.toString(16);\r\n        });\r\n    },\r\n\r\n    getMinMax: function(data, type, isLogaric) {\r\n        var self  = this;\r\n        var _temp = new Array();\r\n        var _min  = 0,\r\n            _max  = 0;\r\n        if (type == \"stack\")\r\n            data.forEach(function (d){\r\n                d.forEach(function (s){\r\n                    if (s.y0 > 0)\r\n                        _temp.push(s.y1);\r\n                    else\r\n                        _temp.push(s.y1 + s.y0);\r\n                })\r\n            })\r\n        else\r\n            data.forEach(function (d){\r\n                d.forEach(function (s){\r\n                    _temp.push(s.y0);\r\n                })\r\n            });\r\n\r\n        var _newMin = self.min(_temp);\r\n        var _newMax = self.max(_temp);\r\n        if (_newMin < _min || isLogaric)\r\n            _min = _newMin;\r\n        if (_newMax > _max)\r\n            _max = _newMax;\r\n\r\n        return {min: _min, max: _max};\r\n    },\r\n    dateParser: function(format) {\r\n        return d3.time.format(format).parse;\r\n    },\r\n    dateFormatter: function(format) {\r\n        return d3.time.format(format);\r\n    },\r\n    // Convert color 'from' to 'to' (if any) in propotion of 'p'\r\n    // Use to lighten/darken specific color\r\n    shadeColor: function(p, from, to) {\r\n        if(typeof(p)!=\"number\"||p<-1||p>1||typeof(from)!=\"string\"||(from[0]!='r'&&from[0]!='#')||(typeof(to)!=\"string\"&&typeof(to)!=\"undefined\"))return null; //ErrorCheck\r\n        if(!this.sbcRip)this.sbcRip=function(d){\r\n            var l=d.length,RGB=new Object();\r\n            if(l>9){\r\n                d=d.split(\",\");\r\n                if(d.length<3||d.length>4)return null;//ErrorCheck\r\n                RGB[0]=i(d[0].slice(4)),RGB[1]=i(d[1]),RGB[2]=i(d[2]),RGB[3]=d[3]?parseFloat(d[3]):-1;\r\n            }else{\r\n                if(l==8||l==6||l<4)return null; //ErrorCheck\r\n                if(l<6)d=\"#\"+d[1]+d[1]+d[2]+d[2]+d[3]+d[3]+(l>4?d[4]+\"\"+d[4]:\"\"); //3 digit\r\n                d=i(d.slice(1),16),RGB[0]=d>>16&255,RGB[1]=d>>8&255,RGB[2]=d&255,RGB[3]=l==9||l==5?r(((d>>24&255)/255)*10000)/10000:-1;\r\n            }\r\n            return RGB;}\r\n        var i=parseInt,r=Math.round,h=from.length>9,h=typeof(to)==\"string\"?to.length>9?true:to==\"c\"?!h:false:h,b=p<0,p=b?p*-1:p,to=to&&to!=\"c\"?to:b?\"#000000\":\"#FFFFFF\",f=sbcRip(from),t=sbcRip(to);\r\n        if(!f||!t)return null; //ErrorCheck\r\n        if(h)return \"rgb(\"+r((t[0]-f[0])*p+f[0])+\",\"+r((t[1]-f[1])*p+f[1])+\",\"+r((t[2]-f[2])*p+f[2])+(f[3]<0&&t[3]<0?\")\":\",\"+(f[3]>-1&&t[3]>-1?r(((t[3]-f[3])*p+f[3])*10000)/10000:t[3]<0?f[3]:t[3])+\")\");\r\n        else return \"#\"+(0x100000000+(f[3]>-1&&t[3]>-1?r(((t[3]-f[3])*p+f[3])*255):t[3]>-1?r(t[3]*255):f[3]>-1?r(f[3]*255):255)*0x1000000+r((t[0]-f[0])*p+f[0])*0x10000+r((t[1]-f[1])*p+f[1])*0x100+r((t[2]-f[2])*p+f[2])).toString(16).slice(f[3]>-1||t[3]>-1?1:3);\r\n    },\r\n    //smooth scroll c9 table\r\n    scroll: function(element, to, duration) {\r\n        var self = this;\r\n        if (duration <= 0) return;\r\n        var difference = to - element.scrollTop;\r\n        var perTick = difference / duration * 10;\r\n\r\n        setTimeout(function() {\r\n            element.scrollTop = element.scrollTop + perTick;\r\n            if (element.scrollTop === to) return;\r\n            self.scroll(element, to, duration - 10);\r\n        }, 10);\r\n    }   \r\n};\r\n\r\nvar Util = {\r\n    isEmpty: function(value) {\r\n        return value === null || value === undefined;\r\n    },\r\n\r\n    isArray: function(array) {\r\n        return Array.isArray(array) || Object.prototype.toString.call(array) === '[object Array]';\r\n    },\r\n\r\n    isObject: function(object) {\r\n        return (object && typeof object === 'object' && !Array.isArray(object));\r\n    }\r\n};\r\n\r\nfunction mergeDeep(target, source) {\r\n    if (Util.isObject(target) && Util.isObject(source)) {\r\n        for (const key in source) {\r\n            if (Util.isObject(source[key])) {\r\n                if (!target[key]) Object.assign(target, {\r\n                    [key]: {}\r\n                });\r\n                mergeDeep(target[key], source[key]);\r\n            } else {\r\n                Object.assign(target, {\r\n                    [key]: source[key]\r\n                });\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n}\r\n\r\nmodule.exports = Helper;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helper/C9.Helper.js\n **/","'use strict';\r\nimport Helper from '../../helper/C9.Helper';\r\n\r\nexport default class Axis {\r\n    constructor(options, body, data, width, height, x, y) {\r\n        var config = {\r\n            x: {\r\n                tick: {\r\n                    rotate: 0,\r\n                    count: 10,\r\n                    size: 6,\r\n                    padding: 3,\r\n                    format: undefined,\r\n                    values: [],\r\n                    //the following use for timeline chart\r\n                    type: d3.time.hours,\r\n                    interval: 1\r\n                },\r\n                label: {\r\n                    text: \"Name\",\r\n                    position: \"default\"\r\n                },\r\n                show: false,\r\n                grid: false,\r\n                type: \"\"\r\n            },\r\n            y: {\r\n                tick: {\r\n                    rotate: 0,\r\n                    count: 10,\r\n                    size: 6,\r\n                    padding: 3,\r\n                    format: undefined,\r\n                    values: []\r\n                },\r\n                label: {\r\n                    text: \"Value\",\r\n                    position: \"default\"\r\n                },\r\n                show: false,\r\n                grid: false,\r\n                type: \"\"\r\n            }\r\n        };\r\n        \r\n        this._xShow         = options.x.show      || config.x.show;\r\n        this._xText         = options.x.text      || config.x.text;\r\n        this._yShow     = options.y.show      || (body.type == \"timeline\" ? false : config.y.show);\r\n        this._yText     = options.y.text      || config.y.text;\r\n        // this._isLogaricVariant     = options.isLogaric      || config.isLogaric;\r\n        this._xTick    = options.x.tick      || config.x.tick;\r\n        this._yTick    = options.y.tick    || config.y.tick;\r\n        this._xGrid     = options.x.grid      || config.x.grid;\r\n        this._yGrid     = options.y.grid      || config.y.grid;\r\n        this._xType     = options.x.type      || config.x.type;\r\n        this._yType     = options.y.type      || config.y.type;\r\n        this._x             = x;\r\n        this._y             = y;\r\n\r\n        // x.domain(data.map(function(d) {\r\n        //     return d.name || d[0].name;\r\n        // }));\r\n\r\n        // y.domain([\r\n        //     d3.min(data, function(d) {\r\n        //         return d.value;\r\n        //     }), \r\n        //     d3.max(data, function(d) {\r\n        //         return d.value;\r\n        //     })\r\n        // ]);\r\n\r\n        if (body.type == \"timeline\") {\r\n\r\n            var xScale = d3.time.scale()\r\n                .domain([options.starting, options.ending])\r\n                .range([0, width]);\r\n            this._xAxis = d3.svg.axis()\r\n                .scale(xScale)\r\n                .orient(\"bottom\")\r\n                .tickFormat(this._xTick.format === undefined ? d3.time.format(\"%I %p\") : this._xTick.format)\r\n                // .tickSize(options.tickFormat === undefined ? 6 : options.tickFormat.tickSize)\r\n                .ticks(this._xTick.type, this._xTick.interval);\r\n            delete options.starting;\r\n            delete options.ending;\r\n\r\n        } else {\r\n\r\n            this._xAxis = d3.svg.axis()\r\n                .scale(this._x)\r\n                .orient(\"bottom\")\r\n                .tickPadding(this._xTick.padding)\r\n                .ticks(this._xTick.count)\r\n                .tickValues(this._xTick.values.length > 0 ? this._xTick.values : undefined)\r\n                .tickFormat(this._xType == \"timeseries\" ? this._xTick.format || d3.time.format(\"%Y-%m-%d\") : this._xTick.format ? this._xTick.format : undefined);\r\n\r\n            // In LOG scale, can't specify default number of ticks\r\n            // must be filter with tickFormat instead\r\n            // refer: https://github.com/d3/d3/wiki/Quantitative-Scales#log_ticks\r\n            if (this._isLogaricVariant) {\r\n                this._yAxis = d3.svg.axis()\r\n                    .scale(this._y)\r\n                    .orient(\"left\")\r\n                    .tickPadding(this._yTick.padding)\r\n                    .ticks(this._yTick.count, this._yType == \"timeseries\" ? this._yTick.format || \"%Y-%m-%d\" : this._yTick.format ? this._yTick.format : undefined)\r\n                    .tickValues(this._yTick.values.length > 0 ? this._yTick.values : undefined);\r\n            } else {\r\n                this._yAxis = d3.svg.axis()\r\n                    .scale(this._y)\r\n                    .orient(\"left\")\r\n                    .tickPadding(this._yTick.padding)\r\n                    .ticks(this._yTick.count)\r\n                    .tickValues(this._yTick.values.length > 0 ? this._yTick.values : undefined)\r\n                    .tickFormat(this._yType == \"timeseries\" ? this._yTick.format || d3.time.format(\"%Y-%m-%d\") : this._yTick.format ? this._yTick.format : undefined);\r\n            }\r\n        }\r\n\r\n        if (body.type != \"timeline\") {\r\n            // Grid\r\n            if (this._xGrid) {\r\n                // Select CURRENT svg container, to make this axis outside\r\n                // as a SEPARATED component, just like AXIS, of CHART\r\n                // d3.select(this._svg[0][0].parentNode)\r\n                this._xAxis.innerTickSize(-height)\r\n                    .outerTickSize(0);\r\n            }\r\n\r\n            if (this._yGrid) {\r\n                // Select CURRENT svg container, to make this axis outside\r\n                // as a SEPARATED component, just like AXIS, of CHART\r\n                // d3.select(this._svg[0][0].parentNode)\r\n                this._yAxis.innerTickSize(-width)\r\n                    .outerTickSize(0);\r\n            }\r\n        }\r\n\r\n        this._body    = body;\r\n        this._data   = data;\r\n        this._width  = width;   // TODO : ADD Getter/setter\r\n        this._height  = height;\r\n\r\n        var textAnchor = function(angle) {\r\n            var sin = Math.sin(angle * Math.PI / 180).toFixed(15);\r\n            return sin == 0 ? \"middle\" : (sin > 0 ? \"start\" : \"end\");\r\n        };\r\n\r\n        var textDx = function(angle) {\r\n            var sin = Math.sin(angle * Math.PI / 180).toFixed(15);\r\n            return 8 * sin;\r\n        };\r\n\r\n        var textY = function(angle) {\r\n            return 11.5 - 2.5 * (angle / 15) * (angle > 0 ? 1 : -1);\r\n        };\r\n\r\n        //draw x axis\r\n        this._body.append(\"g\")\r\n            .attr(\"class\", \"x axis\")\r\n            .attr(\"transform\", \"translate(0,\" + (height) + \")\")\r\n            .call(this._xAxis);\r\n        //draw tick\r\n        d3.select(\".x.axis\").selectAll(\"text\")\r\n            .style(\"text-anchor\", textAnchor(this._xTick.rotate))\r\n            .attr(\"y\", textY(this._xTick.rotate))\r\n            .attr(\"x\", 0)\r\n            .attr(\"dy\", \".71em\")\r\n            .attr(\"dx\", textDx(this._xTick.rotate))\r\n            .attr(\"transform\", \"rotate(\" + this._xTick.rotate + \")\");\r\n        //draw label\r\n        d3.select(\".x.axis\")\r\n            .append(\"text\")\r\n            .attr(\"dx\", \"-.8em\")\r\n            .attr(\"dy\", \"-.55em\")\r\n            .attr(\"x\", width + 20)\r\n            .attr(\"y\", 10)\r\n            .style(\"text-anchor\", \"start\")\r\n            .text(this._xText);\r\n\r\n        //hide x axis\r\n        if (!this._xShow) {\r\n            d3.select(\".x.axis>.domain\").style(\"display\", \"none\");\r\n            if (!this._xGrid) d3.selectAll(\".x.axis>g.tick>line\").style(\"display\", \"none\");\r\n        }\r\n\r\n        if (body.type != \"timeline\") {\r\n            this._body.append(\"g\")\r\n                .attr(\"class\", \"y axis\")\r\n                .call(this._yAxis);\r\n            d3.select(\".y.axis\")\r\n                .append(\"text\")\r\n                .attr(\"y\", -10)\r\n                .attr(\"dy\", \".10\")\r\n                .style(\"text-anchor\", \"end\")\r\n                .text(this._yText);\r\n\r\n            if (!this._yShow) {\r\n                d3.select(\".y.axis>.domain\").style(\"display\", \"none\");\r\n                if (!this._yGrid) d3.selectAll(\".y.axis>g.tick>line\").style(\"display\", \"none\");\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n            TODO:\r\n            - Add y2-axis\r\n        **/\r\n            \r\n    }\r\n\r\n    update(x, y, duration) {\r\n        if (x) {\r\n            this._x = x;\r\n            this._body.select('.x.axis').transition().duration(duration).call(this._xAxis);\r\n        }\r\n        if (y) {\r\n            this._y = y;\r\n            this._body.select(\".y.axis\").transition().duration(duration).call(this._yAxis);\r\n        }\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    \r\n    get xAxis() {\r\n        return this._xAxis;\r\n    }\r\n\r\n    get yAxis() {\r\n        return this._yAxis;\r\n    }\r\n\r\n    get xAxisShow() {\r\n        return this._xAxisShow;\r\n    }\r\n\r\n    get xAxisPadding() {\r\n        return this._xAxisPadding;\r\n    }\r\n\r\n    get yAxisShow() {\r\n        return this._yAxisShow;\r\n    }\r\n\r\n    get yAxisPadding() {\r\n        return this._yAxisPadding;\r\n    }\r\n\r\n    get isLogaricVariant() {\r\n        return this._isLogaricVariant;\r\n    }\r\n\r\n    get y2AxisShow() {\r\n        return this._y2AxisShow;\r\n    }\r\n\r\n    get y2AxisPadding() {\r\n        return this._y2AxisPadding;\r\n    }\r\n    \r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    \r\n    set xAxis(newXAxis) {\r\n        if (newXAxis) {\r\n            this._xAxis = newXAxis;\r\n        }\r\n    }\r\n\r\n    set yAxis(newYAxis) {\r\n        if (newYAxis) {\r\n            this._yAxis = newYAxis;\r\n        }\r\n    }\r\n\r\n    set xAxisShow(newXAxisShow) {\r\n        if (newXAxisShow) {\r\n            this._xAxisShow = newXAxisShow;\r\n        }\r\n    }\r\n\r\n    set xAxisPadding(newXAxisPadding) {\r\n        if (newXAxisPadding) {\r\n            this._xAxisPadding = newXAxisPadding;\r\n        }\r\n    }\r\n\r\n    set yAxisShow(newYAxisShow) {\r\n        if (newYAxisShow) {\r\n            this._yAxisShow = newYAxisShow;\r\n        }\r\n    }\r\n\r\n    set yAxisPadding(newYAxisPadding) {\r\n        if (newYAxisPadding) {\r\n            this._yAxisPadding = newYAxisPadding;\r\n        }\r\n    }\r\n\r\n    set isLogaricVariant(newIsLogaricVariant) {\r\n        if (newIsLogaricVariant) {\r\n            this._isLogaricVariant = newIsLogaricVariant;\r\n        }\r\n    }\r\n\r\n    set y2AxisShow(newY2AxisShow) {\r\n        if (newY2AxisShow) {\r\n            this._y2AxisShow = newY2AxisShow;\r\n        }\r\n    }\r\n\r\n    set y2AxisPadding(newY2AxisPadding) {\r\n        if (newY2AxisPadding) {\r\n            this._y2AxisPadding = newY2AxisPadding;\r\n        }\r\n    }\r\n    \r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Axis.js\n **/","'use strict';\r\n\r\nexport default class Title {\r\n    constructor(options, body, width, height, margin) {\r\n        var config = {\r\n            titleShow      : true,\r\n            titleText      : \"Sample Chart\",\r\n            titlePosition  : 'top',\r\n            titleSize      : \"14px\"\r\n        };\r\n\r\n        this._titleShow     = options.titleShow       || config.titleShow;\r\n        this._titleText     = options.titleText       || config.titleText;\r\n        this._titlePosition = options.titlePosition   || config.titlePosition;\r\n        this._titleSize     = options.titleSize       || config.titleSize;\r\n\r\n        this._body    = body;\r\n\r\n        if (this._titleShow) {\r\n            var self = this;\r\n            // Select CURRENT body container, to make this axis outside\r\n            // as a SEPARATED component, just like AXIS, of CHART\r\n            var text = d3.select(self._body[0][0].parentNode)\r\n                .append(\"g\")\r\n                    .attr('class', 'c9-custom-title c9-custom-title-container')\r\n                    .append(\"text\")\r\n                        .attr(\"class\", \"c9-custom-title c9-custom-title-text\");\r\n\r\n                // Get title width: text.node().getComputedTextLength()           \r\n                text.attr(\"x\", (((width - text.node().getComputedTextLength()) / 2)))           \r\n                    .attr(\"y\", this.setYLocation(height, margin))\r\n                    .attr(\"text-anchor\", \"middle\")  \r\n                    .style(\"font-size\", this._titleSize)  \r\n                    .text(this._titleText);\r\n        }\r\n            \r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    \r\n    get titleShow() {\r\n        return this._titleShow;\r\n    }\r\n\r\n    get titleText() {\r\n        return this._titleText ;\r\n    }\r\n\r\n    get titlePosition() {\r\n        return this._titlePosition;\r\n    }\r\n\r\n    get titleSize() {\r\n        return this._titleSize;\r\n    }\r\n    \r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    \r\n    set titleShow(newTitleShow) {\r\n        if (newTitleShow) {\r\n            this._titleShow = newTitleShow;\r\n        }\r\n    }\r\n\r\n    set titleText(newTitleText) {\r\n        if (newTitleText) {\r\n            this._titleText = newTitleText;\r\n        }\r\n    }\r\n\r\n    set titlePosition(newTitlePosition) {\r\n        if (newTitlePosition) {\r\n            this._titlePosition = newTitlePosition;\r\n        }\r\n    }\r\n\r\n    set titleSize(newTitleSize) {\r\n        if (newTitleSize) {\r\n            this._titleSize = newtitleSize;\r\n        }\r\n    }\r\n    \r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    setYLocation(height, margin) {\r\n        if (this.titlePosition === 'top') {\r\n            return (margin.top / 2);\r\n        } else if (this.titlePosition === 'bottom') {\r\n            return (height - margin.bottom / 2);\r\n        }\r\n    }\r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Title.js\n **/","import Helper from '../../helper/C9.Helper';\r\n\r\nexport default class Legend {\r\n    constructor(options, body, data) {\r\n        var config = {\r\n            show      : false,\r\n            position  : \"top\",\r\n            box : false,\r\n            size      : 10,\r\n            textSize  : \"12px\",\r\n            margin    : [5, 5, 5, 5],\r\n            space     : 10,\r\n            // legendStyle     : \"rect\" // TODO: Allow user to choose type of legend (circle, rect, etc.)\r\n        };\r\n\r\n        var self = this;\r\n\r\n        self._show         = options.show ? options.show : config.show;\r\n        self._textSize     = options.textSize   || config.textSize;\r\n        self._position     = options.position   || config.position;\r\n        self._size         = options.size       || config.size;\r\n        self._box          = options.box        || config.box;\r\n        self._margin       = options.margin     || config.margin;\r\n        self._space        = options.space      || config.space;\r\n        // self._legendStyle        = options.legendStyle      || config.legendStyle;\r\n\r\n        self._options   = options;\r\n        self._body      = body;\r\n        self._maxWidth  = d3.select(body[0][0].parentNode).attr('width');\r\n        self._maxHeight  = d3.select(body[0][0].parentNode).attr('height');\r\n        // self._color     = color;\r\n        self._data      = data;\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get data() {\r\n        return this._data;\r\n    }\r\n\r\n    get body() {\r\n        return this._body;\r\n    }\r\n\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    \r\n    get show() {\r\n        return this._show;\r\n    }\r\n\r\n    get text() {\r\n        return this._text ;\r\n    }\r\n\r\n    get position() {\r\n        return this._position;\r\n    }\r\n\r\n    get size() {\r\n        return this._size;\r\n    }\r\n\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n\r\n    get space() {\r\n        return this._space;\r\n    }\r\n\r\n    get textSize() {\r\n        return this._textSize;\r\n    }\r\n\r\n    get item() {\r\n        return this._item;\r\n    }\r\n\r\n    get domain() {\r\n        return this._domain;\r\n    }\r\n\r\n    get itemEventFactory() {\r\n        return this._itemEventFactory;\r\n    }\r\n    \r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set data(arg) {\r\n        if (arg) {\r\n            this._data = arg;\r\n        }\r\n    }\r\n\r\n    set text(newText) {\r\n        if (newText) {\r\n            this._text = newText;\r\n        }\r\n    }\r\n\r\n    set position(newPosition) {\r\n        if (newPosition) {\r\n            this._position = newPosition;\r\n        }\r\n    }\r\n\r\n    set size(newSize) {\r\n        if (newSize) {\r\n            this._size = newSize;\r\n        }\r\n    }\r\n\r\n    set margin(arg) {\r\n        if (arg) {\r\n            this._margin = arg;\r\n        }\r\n    }\r\n\r\n    set space(arg) {\r\n        if (arg) {\r\n            this._space = arg;\r\n        }\r\n    }\r\n\r\n    set item(newItem) {\r\n        if (newItem) {\r\n            this._item = newItem;\r\n        }\r\n    }\r\n\r\n    set domain(newDomain) {\r\n        if (newDomain) {\r\n            this._domain = newDomain;\r\n        }\r\n    }\r\n\r\n    set itemEventFactory(newItemEventFactory) {\r\n        if (newItemEventFactory) {\r\n            this._itemEventFactory = newItemEventFactory;\r\n        }\r\n    }\r\n    \r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    draw () {\r\n        var self = this;\r\n\r\n        if (self.show) {\r\n            // var color = self.color;\r\n            // TODO: Remove these conditional checks by getData for general purposes\r\n            var domain = [];\r\n\r\n            if (self._body.type == \"bar\") {\r\n                self.data = self.data[self.data.reduce((p, c, i, a) => a[p].length > c.length ? p : i, 0)];\r\n            }\r\n            else if (self._body.type == \"line\") {\r\n                self.data = d3.nest()\r\n                    .key(function(d) { return d.name; })\r\n                    .entries(self.data);\r\n                self.data.forEach(function(d) {\r\n                    d.color = d.values[0].color;\r\n                })\r\n            }\r\n\r\n            // Legend will be appended in main SVG container\r\n            var container = d3.select(self._body[0][0].parentNode)\r\n                .append(\"g\")\r\n                .attr(\"class\", \"c9-custom-legend c9-custom-legend-container\");\r\n            \r\n            // var legendBox = legendContainer.selectAll(\".c9-custom-legend.c9-custom-legend-box\").data([true]).enter();\r\n\r\n            self.item = container.selectAll(\"g.c9-custom-legend.c9-custom-legend-item\")\r\n                // .data(color.domain())\r\n                .data(self.data)\r\n                .enter().append(\"g\")\r\n                .attr(\"class\", \"c9-custom-legend c9-custom-legend-item\")\r\n                .attr('data-ref', function(d) { return d['data-ref']; })\r\n                .attr('data-enable', function(d) { return d['enable']; })\r\n                \r\n\r\n            self.item.append('rect')\r\n                .attr('class', 'c9-custom-legend c9-custom-legend-rect')\r\n                .attr('width', self.size)\r\n                .attr('height', self.size)\r\n                .attr('r', self.size)\r\n                .attr('fill', function(d){ return d.color; })\r\n                .attr('stroke', function(d){ return d.color; });\r\n\r\n            self.item.append('rect')\r\n                .attr('width', 5)\r\n                .attr('height', self.size)\r\n                .attr('x', self.size)\r\n                .attr('y', 0)\r\n                .attr('opacity', 0);\r\n\r\n            self.item.append('text')\r\n                .attr('class', 'c9-custom-legend c9-custom-legend-text')\r\n                .attr('x', self.size + 5)\r\n                .attr('y', self.size)\r\n                .style('font-size', self.textSize)\r\n                // .attr('text-anchor', 'middle')\r\n                .text(function(d) { return self._body.type == \"bar\" ? d.group : d.name || d.key; });\r\n\r\n            //caculate position for legend\r\n            var getSize = function(item) { return item.getBoundingClientRect() };\r\n            var getXY = function(item) { var xy = d3.select(item).attr('transform').split(','); return {x: parseFloat(xy[0].replace('translate(', '')), y: parseFloat(xy[1].replace(')', ''))}; };\r\n            var r = 0; // current row\r\n            var items = d3.selectAll(\".c9-custom-legend-item\")[0];\r\n            var itemHeight = getSize(items[0]).height;\r\n            var numItemsCol = Math.floor((self._maxHeight - self.margin[0] - self.margin[2]) / (itemHeight + self.space));\r\n            if (self.space > itemHeight) numItemsCol++;\r\n            var maxWidthCol = new Array(Math.floor(items.length / numItemsCol));\r\n\r\n            items.forEach(function (i, n) {\r\n                var pos = Math.floor(n / numItemsCol);\r\n                var width = getSize(i).width;\r\n                if (maxWidthCol[pos] == undefined || width > maxWidthCol[pos]) maxWidthCol[pos] = width;\r\n            });\r\n\r\n            if  (self.position == \"bottom\"){\r\n                /************ BOTTOM ***************/\r\n                self.item.attr(\"transform\", function(d, i) {\r\n                    if (i > 0) {\r\n                        var item  = items[i];\r\n                        var preItem  = items[i - 1];\r\n                        var newR = Math.floor((getXY(preItem).x + getSize(preItem).width + self.space + getSize(item).width + self.margin[1]) / self._maxWidth);\r\n                        if (newR > 0) r++;\r\n                        return \"translate(\" + (newR > 0 ? self.margin[3] : getXY(preItem).x + getSize(preItem).width + self.space) + \",\" + (self._maxHeight - self.margin[0] - itemHeight - r * (itemHeight + self.space)) + \")\";\r\n                    }\r\n                    else\r\n                        return \"translate(\" + self.margin[3] + \",\" + (self._maxHeight - self.margin[0] - itemHeight) + \")\";\r\n                });\r\n            } else if (self.position == \"left\") {\r\n                /************ LEFT ***************/\r\n                self.item.attr(\"transform\", function(d, i) {\r\n                    var pos = Math.floor(i / numItemsCol);\r\n\r\n                    if (i > 0) {\r\n                        var prePos = Math.floor((i - 1) / numItemsCol);\r\n                        var item  = items[i];\r\n                        var preItem  = items[i - 1];\r\n                        return \"translate(\" + (pos > prePos ? (maxWidthCol[pos] + self.space + getXY(preItem).x) : getXY(preItem).x) + \",\" + (pos > prePos ? self.margin[0] : getXY(preItem).y + getSize(preItem).height + self.space) + \")\";\r\n                    }\r\n                    else\r\n                        return \"translate(\" + self.margin[3] + \",\" + self.margin[0] + \")\";\r\n                });\r\n            } else if (self.position == \"right\") {\r\n                /************ RIGHT ***************/\r\n                self.item.attr(\"transform\", function(d, i) {\r\n                    var pos = Math.floor(i / numItemsCol);\r\n                    if (i > 0) {\r\n                        var prePos = Math.floor((i - 1) / numItemsCol);\r\n                        var item  = items[i];\r\n                        var preItem  = items[i - 1];\r\n                        return \"translate(\" + (pos > prePos ? (getXY(preItem).x - self.space - maxWidthCol[pos]) : getXY(preItem).x) + \",\" + (pos > prePos ? self.margin[0] : getXY(preItem).y + getSize(preItem).height + self.space) + \")\";\r\n                    }\r\n                    else\r\n                        return \"translate(\" + (self._maxWidth - self.margin[3] - maxWidthCol[pos]) + \",\" + self.margin[0] + \")\";\r\n                });\r\n            } else {\r\n                /************ TOP ***************/\r\n                self.item.attr(\"transform\", function(d, i) {\r\n                    if (i > 0) {\r\n                        var item  = items[i];\r\n                        var preItem  = items[i - 1];\r\n                        var newR = Math.floor((getXY(preItem).x + getSize(preItem).width + self.space + getSize(item).width + self.margin[1]) / self._maxWidth);\r\n                        if (newR > 0) r++;\r\n                        return \"translate(\" + (newR > 0 ? self.margin[3] : getXY(preItem).x + getSize(preItem).width + self.space) + \",\" + (self.margin[0] + r * (itemHeight + self.space)) + \")\";\r\n                    }\r\n                    else\r\n                        return \"translate(\" + self.margin[3] + \",\" + self.margin[0] + \")\";\r\n                });\r\n            }\r\n            \r\n            // if (self._legendBox && legendDomain.length > 0) {\r\n            //     var box = legendContainer[0][0].getBBox();\r\n            //     legendBox.attr(\"class\", \".c9-custom-legend.c9-custom-legend-box\")\r\n            //         .attr(\"x\", 0)\r\n            //         .attr(\"y\", 0)\r\n            //         .attr(\"width\", box.width + self._legendMargin[1] + self._legendMargin[3])\r\n            //         .attr(\"height\", box.height + self._legendMargin[2] + self._legendMargin[0])\r\n            //         .style(\"fill\", \"none\")\r\n            //         .style(\"stroke\", color);\r\n            // }\r\n        }\r\n        \r\n    }\r\n\r\n    /**\r\n     * Update interaction event dispatchers for legend\r\n     * For: Donut Chart, Pie Chart\r\n     */\r\n    updateInteractionForLineChart(chart) {\r\n\r\n        var self = this;\r\n\r\n        var hoverOptions        = chart.hover.options,\r\n            hoverEnable         = chart.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = chart.click.callback;\r\n\r\n        self.itemEventFactory = {\r\n\r\n            'click': function(item) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, item);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                var enable = true,\r\n                    dataSet = self.data;\r\n                var totalEnable = d3.sum(dataSet.map(function(d) {\r\n                    return (d.enable) ? 1 : 0;\r\n                }));\r\n\r\n                // Add pointer to cursor\r\n                selector.style('cursor', 'pointer');\r\n\r\n                // If current selector is disabled, then turn it on back\r\n                // Else, set enable to false\r\n                if (selector.style('opacity') == '0.1') {\r\n                    selector.style('opacity', '1.0');\r\n                } else {\r\n                    if (totalEnable < 2) return;\r\n                    selector.style('opacity', '0.1');\r\n                    enable = false;\r\n                }\r\n\r\n            },\r\n\r\n            'mouseover': function(item) {\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n            },\r\n\r\n            'mouseout': function(item) {\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n                var selector = d3.select(\"path[data-ref='\" + item['data-ref'] + \"']\");\r\n\r\n            }\r\n        \r\n        };\r\n\r\n        if (self.show)\r\n            self.item.on(self.itemEventFactory);\r\n    }\r\n\r\n    /**\r\n     * Update interaction event dispatchers for legend\r\n     * For: Donut Chart, Pie Chart\r\n     */\r\n    updateInteractionForDonutPieChart(chart, path, pie, currentData, arc) {\r\n\r\n        var self = this;\r\n\r\n        var hoverOptions        = chart.hover.options,\r\n            hoverEnable         = chart.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = chart.click.callback;\r\n\r\n        var chartType = chart.chartType;\r\n\r\n        var chartInnerBefore    = chartType == 'pie' ?  0 : chart.innerRadius,\r\n            chartOuterBefore    = chartType == 'pie' ?  chart.radius : chart.outerRadius,\r\n            chartInnerAfter     = chartType == 'pie' ?  0 : chart.innerRadius,\r\n            chartOuterAfter     = chartType == 'pie' ?  chart.radius * 1.2 : chart.outerRadius * 1.2;\r\n\r\n        self.itemEventFactory = {\r\n\r\n            'click': function(item) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, item);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                var enable = true,\r\n                    dataSet = self.data;\r\n                var totalEnable = d3.sum(dataSet.map(function(d) {\r\n                    return (d.enable) ? 1 : 0;\r\n                }));\r\n\r\n                // Add pointer to cursor\r\n                selector.style('cursor', 'pointer');\r\n\r\n                // If current selector is disabled, then turn it on back\r\n                // Else, set enable to false\r\n                if (selector.attr('data-enable') == 'false') {\r\n                    selector.attr('data-enable', true);\r\n                    selector.attr('opacity', '1.0');\r\n                } else {\r\n                    if (totalEnable < 2) return;\r\n                    selector.attr('data-enable', false);\r\n                    selector.attr('opacity', '0.1');\r\n                    enable = false;\r\n                }\r\n\r\n                /*----------  Reset opacity after click  ----------*/\r\n                \r\n                self.item.each(function() {\r\n                    if (d3.select(this).attr('data-ref') !== item['data-ref'] && d3.select(this).attr('data-enable') == 'true') {\r\n                        d3.select(this).attr('opacity', '1.0');\r\n                    }\r\n                });\r\n\r\n                chart.selectAllPath().each(function(){\r\n                    if (d3.select(this).attr('data-ref') !== item['data-ref']) {\r\n                        d3.select(this).attr('opacity', '1.0');\r\n                    }\r\n                });\r\n                /*----------  End Reset opacity after click  ----------*/\r\n                \r\n\r\n                chart.pie.value(function(d) {\r\n                    if (d.name == item.name) d.enable = enable;\r\n                    return (d.enable) ? d.value : 0;\r\n                });\r\n\r\n                path = path.data(chart.pie(dataSet));\r\n\r\n                path.transition()\r\n                    .duration(500)\r\n                    .attrTween('d', function(d) {\r\n                        var interpolate = d3.interpolate(chart.currentData, d);\r\n                        // Returns an interpolator between the two arbitrary values a and b. \r\n                        // The interpolator implementation is based on the type of the end value b.\r\n                        chart.currentData = interpolate(0);\r\n                        return function(t) {\r\n                            return arc(interpolate(t));\r\n                        };\r\n                    })\r\n                    // Remove stroke when re-draw arcs to avoid duplicate strokes\r\n                    .attr('stroke', 'none');;\r\n                \r\n            },\r\n\r\n            'mouseover': function(item) {\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n                if (legendSelector.attr('data-enable') == 'true') {\r\n                    // For Legend\r\n                    self.item.each(function() {\r\n                        if (d3.select(this).attr('data-ref') !== item['data-ref'] && d3.select(this).attr('data-enable') == 'true') {\r\n                            d3.select(this).attr('opacity', '0.3');\r\n                        }\r\n                    });\r\n\r\n                    // For Chart\r\n                    chart.selectAllPath().each(function(){\r\n                        if (d3.select(this).attr('data-ref') !== item['data-ref']) {\r\n                            d3.select(this).attr('opacity', '0.3');\r\n                        }\r\n                    });\r\n\r\n                    var selector = d3.select(\"path[data-ref='\" + item['data-ref'] + \"']\");\r\n\r\n                    selector\r\n                        .transition()\r\n                            .duration(500)\r\n                            .ease('bounce')\r\n                            .attr('d', d3.svg.arc()\r\n                                .innerRadius(chartInnerAfter)\r\n                                .outerRadius(chartOuterAfter)\r\n                            );\r\n                }\r\n\r\n                \r\n\r\n            },\r\n\r\n            'mouseout': function(item) {\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n                // if (legendSelector.attr('data-enable') == 'true') {\r\n                    // For Legend\r\n                    self.item.each(function() {\r\n                        if (d3.select(this).attr('data-ref') !== item['data-ref'] && d3.select(this).attr('data-enable') == 'true') {\r\n                            d3.select(this).attr('opacity', '1.0');\r\n                        }\r\n                    });\r\n\r\n                    // For Chart\r\n                    chart.selectAllPath().each(function(){\r\n                        if (d3.select(this).attr('data-ref') !== item['data-ref']) {\r\n                            d3.select(this).attr('opacity', '1.0');\r\n                        }\r\n                    });\r\n\r\n                    var selector = d3.select(\"path[data-ref='\" + item['data-ref'] + \"']\");\r\n\r\n                    selector\r\n                        .transition()\r\n                            .duration(500)\r\n                            .ease('bounce')\r\n                            .attr('d', d3.svg.arc()\r\n                                .innerRadius(chartInnerBefore)\r\n                                .outerRadius(chartOuterBefore)\r\n                            );\r\n                // }\r\n\r\n                \r\n\r\n            }\r\n        \r\n        };\r\n\r\n        if (self.show)\r\n            self.item.on(self.itemEventFactory);\r\n    }\r\n\r\n    /**\r\n     * Update interaction for barchart\r\n     * @param  {[type]} chart       [description]\r\n     * @return {[type]}             [description]\r\n     */\r\n    updateInteractionForBarChart(chart) {\r\n\r\n        var self = this;\r\n\r\n        var hoverOptions        = chart.hover.options,\r\n            hoverEnable         = chart.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = chart.click.callback;\r\n\r\n        self.itemEventFactory = {\r\n\r\n            'click': function(item) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, item);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                var enable = true,\r\n                    dataBackup = chart.dataTarget,\r\n                    dataSet = self.data;\r\n                var totalEnable = d3.sum(dataSet.map(function(d) {\r\n                    return (d.enable) ? 1 : 0;\r\n                }));\r\n\r\n                var enableSet = [];\r\n                var enableSetOld = [];\r\n                var data = [];\r\n                // Add pointer to cursor\r\n                selector.style('cursor', 'pointer');\r\n\r\n                // If current selector is disabled, then turn it on back\r\n                // Else, set enable to false\r\n                if (selector.attr('data-enable') == 'false') {\r\n                    selector.attr('data-enable', 'true');\r\n                    selector.style('opacity', '1.0');\r\n                } else {\r\n                    if (totalEnable < 2) return;\r\n                    selector.attr('data-enable', 'false');\r\n                    selector.style('opacity', '0.1');\r\n                    enable = false;\r\n                }\r\n\r\n                //set current data for legend\r\n                self.data.forEach(function(d, i) {\r\n                    if (d.enable)\r\n                        enableSetOld.push(d.group);\r\n                    if (d.group == item.group)\r\n                        d.enable = enable;\r\n                    if (d.enable)\r\n                        enableSet.push(d.group);\r\n                });\r\n\r\n                dataBackup.forEach(function (d){\r\n                    var negElement = [];\r\n                    var posElement = [];\r\n                    d.forEach(function (s){\r\n                        enableSet.forEach(function (e, i) {\r\n                            if (e == s.group) {\r\n                                if (s.y0 < 0) negElement.push({e: s, s: i});\r\n                                else posElement.push({e: s, s: i})\r\n                            }\r\n                        });\r\n                    });\r\n                    if (!chart.isGroup) {\r\n                        if (negElement.length > 0) {\r\n                            if (negElement[0].e.y1 < 0) negElement[0].e.y1 = 0;\r\n                            for (var i = 1; i < negElement.length; i++) {\r\n                                negElement[i].e.y1 = negElement[i-1].e.y1 + negElement[i-1].e.y0;\r\n                            };\r\n                        }\r\n                        if (posElement.length > 0) {\r\n                            if (posElement[0].e.y1 - posElement[0].e.y0 != 0) posElement[0].e.y1 = posElement[0].e.y0;\r\n                            for (var i = 1; i < posElement.length; i++) {\r\n                                posElement[i].e.y1 = posElement[i-1].e.y1 + posElement[i].e.y0;\r\n                            };\r\n                        }\r\n                    }\r\n                    var element = new Array(negElement.length + posElement.length);\r\n                    for (var i = 0; i < negElement.length; i++) {\r\n                        element[negElement[i].s] = negElement[i].e;\r\n                    };\r\n                    for (var i = 0; i < posElement.length; i++) {\r\n                        element[posElement[i].s] = posElement[i].e;\r\n                    };\r\n                    data.push(element);\r\n                });\r\n\r\n                chart.updateLegendInteraction(data, enableSet, enableSetOld, item.group);\r\n                \r\n            },\r\n\r\n            'mouseover': function(item) {\r\n                var selector = d3.select(this);\r\n                selector.style('cursor', 'pointer');\r\n                if (selector.attr('data-enable') == 'true')\r\n                    d3.selectAll('.c9-custom-bar>.c9-custom-rect')\r\n                        .filter(function (d){ return d.group != item.group; })\r\n                        .attr('opacity', 0.3);\r\n            },\r\n\r\n            'mouseout': function(item) {\r\n                d3.select(this).style('cursor', 'pointer');\r\n                d3.selectAll('.c9-custom-bar>.c9-custom-rect')\r\n                    .filter(function (d){ return d.group != item.group; })\r\n                    .attr('opacity', 1);\r\n            }\r\n        \r\n        };\r\n        if (self.show)\r\n            self.item.on(self.itemEventFactory);\r\n\r\n    }\r\n    \r\n\r\n    setYLocation (height, margin) {\r\n        if (this.position === 'top') {\r\n            return (margin.top / 2);\r\n        } else if (this.position === 'bottom') {\r\n            return (height - margin.bottom / 2);\r\n        }\r\n    \r\n    }\r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Legend.js\n **/","import Helper from '../../helper/C9.Helper';\r\n\r\nexport default class Tooltip {\r\n    constructor(options) {\r\n        var self = this;\r\n\r\n        var config = {\r\n            show: true,\r\n            position: 'left', // [top, right, bottom, left]\r\n            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n            fontColor: '#fff',\r\n            fontSize: '11px',\r\n            // format: {\r\n            //     title: function(d) {\r\n            //         return 'Title ' + d;\r\n            //     },\r\n            //     detail: function(d) {\r\n            //         return 'Detail ' + d;\r\n            //     }\r\n            // }\r\n            // format: null\r\n        };\r\n\r\n        self._show              = options.show || config.show;\r\n        self._position          = options.position || config.position;\r\n        self._backgroundColor   = options.backgroundColor || config.backgroundColor;\r\n        self._fontColor         = options.fontColor || config.fontColor;\r\n        self._fontSize          = options.fontSize || config.fontSize;\r\n\r\n        self._options            = options;\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get show() {\r\n        return this._show;\r\n    }\r\n\r\n    get position() {\r\n        return this._position;\r\n    }\r\n\r\n    get backgroundColor() {\r\n        return this._backgroundColor;\r\n    }\r\n\r\n    get fontColor() {\r\n        return this._fontColor;\r\n    }\r\n\r\n    get fontSize() {\r\n        return this._fontSize;\r\n    }\r\n\r\n    get format() {\r\n        return this._format;\r\n    }\r\n\r\n    get eventFactory() {\r\n        return this._eventFactory;\r\n    }\r\n\r\n    get options() {\r\n        return this._options;\r\n    }\r\n\r\n\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set show(arg) {\r\n        if (arg) {\r\n            this._show = arg;\r\n        }\r\n    }\r\n\r\n    set position(arg) {\r\n        if (arg) {\r\n            this._position = arg;\r\n        }\r\n    }\r\n\r\n    set backgroundColor(arg) {\r\n        if (arg) {\r\n            this._backgroundColor = arg;\r\n        }\r\n    }\r\n\r\n    set fontColor(arg) {\r\n        if (arg) {\r\n            this._fontColor = arg;\r\n        }\r\n    }\r\n\r\n    set fontSize(arg) {\r\n        if (arg) {\r\n            this._fontSize = arg;\r\n        }\r\n    }\r\n\r\n    set format(arg) {\r\n        if (arg) {\r\n            this._format = arg;\r\n        }\r\n    }\r\n\r\n    set eventFactory(arg) {\r\n        if (arg) {\r\n            this._eventFactory = arg;\r\n        }\r\n    }\r\n\r\n    set options(arg) {\r\n        if (arg) {\r\n            this._options = arg;\r\n        }\r\n    }\r\n\r\n\r\n    /*=====  End of Setter  ======*/\r\n\r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n\r\n    /**\r\n     * [draw description]\r\n     * @return {[type]} [description]\r\n     */\r\n    draw(data, chart, eventType) {\r\n        var self = this;\r\n\r\n        var format = self.format;\r\n\r\n        // First of all, remove all exisiting tooltips\r\n        d3.select(chart.id).selectAll('.c9-custom-tooltip-container').remove();\r\n\r\n        var selector = d3.select(chart.id);\r\n\r\n        // TODO: Add margin to tooltip configs\r\n        // Default: (100, 100) relative to mouse coordinate and chart margin transformation\r\n        var divOnHover = selector.append('div')\r\n                            .attr('class', function() { \r\n                                return 'c9-custom-tooltip-container ' + self.getTriangleClass(); \r\n                            })\r\n                            // .attr(\"transform\", function() { return 'translate(' + (d3.mouse(this)[0] - 100) +\",\"+ (d3.mouse(this)[1] - 100) + ')'; })\r\n                            .style('display', 'none')\r\n                            .style('position', 'absolute')\r\n                            .style('pointer-events', 'all')\r\n                            .style('background-color', self.backgroundColor)\r\n                            .style('color', self.fontColor)\r\n                            .style('font-size', self.fontSize);\r\n                            // .style('width', '100px')\r\n                            // .style('height', '50px')\r\n                            // .html(function() {\r\n                            //     return self.getFormatByChartType(chart, data);\r\n                            // });\r\n\r\n        self.eventFactory = {\r\n\r\n            'mouseover': function(_data) {\r\n                divOnHover\r\n                    .html(function() {\r\n                        return self.getFormatByChartType(chart, _data);\r\n                    })\r\n                    .transition()\r\n                    // .style('left', function() {return d3.mouse(this)[0] + 'px';})\r\n                    .style('left', function() {\r\n                        return self.getCoordinate()['left'];\r\n                    })\r\n                    // .style('top', function() {return d3.mouse(this)[1]  + 'px';})\r\n                    .style('top', function() {\r\n                        return self.getCoordinate()['top'];\r\n                    })\r\n                    .duration(200)\r\n                    .style(\"display\", 'block')\r\n                    .style('pointer-events', 'none');\r\n            },\r\n\r\n            'mousemove': function(_data) {\r\n                divOnHover\r\n                    .html(function() {\r\n                        return self.getFormatByChartType(chart, _data);\r\n                    })\r\n                    .transition()\r\n                    // .style('left', function() {return d3.mouse(this)[0] + 'px';})\r\n                    .style('left', function() {\r\n                        return self.getCoordinate()['left'];\r\n                    })\r\n                    // .style('top', function() {return d3.mouse(this)[1]  + 'px';})\r\n                    .style('top', function() {\r\n                        return self.getCoordinate()['top'];\r\n                    })\r\n                    .duration(200)\r\n                    .style(\"display\", 'block')\r\n                    .style('pointer-events', 'none');\r\n            },\r\n\r\n            'mouseout': function(_data) {\r\n                divOnHover\r\n                    .transition()\r\n                    .duration(200)      \r\n                    .style('display', 'none');\r\n\r\n            }\r\n\r\n        };\r\n\r\n        if (self.show) {\r\n\r\n            switch(eventType) {\r\n                case 'mouseover':\r\n                    self.eventFactory.mouseover(data);\r\n                    break;\r\n                case 'mouseout':\r\n                    self.eventFactory.mouseout(data);\r\n                    break;\r\n                case 'mousemove':\r\n                    self.eventFactory.mousemove(data);\r\n                    break;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    getTriangleClass() {\r\n        var self = this;\r\n        let r ;\r\n\r\n        switch(self.position) {\r\n            case 'top':\r\n                r = 'c9-tooltip-top';\r\n                break;\r\n            case 'right':\r\n                r = 'c9-tooltip-right';\r\n                break;\r\n            case 'bottom':\r\n                r = 'c9-tooltip-bottom';\r\n                break;\r\n            case 'left':\r\n                r = 'c9-tooltip-left';\r\n                break;\r\n        }\r\n        return r;\r\n    }\r\n\r\n    setDefaultFormatByChartType(chart, data) {\r\n        // if (Helper.isEmpty(data)) { console.log(data);return false;}\r\n        var self = this;\r\n\r\n        let chartType = chart.body.type, format;\r\n\r\n        switch(chartType) {\r\n            case 'bar':\r\n                format = function(data) {\r\n                    return '<strong>' + data.name + '</strong>' + '<br><span>' + chart.retrieveValue(data.y0, data.y1) + '</span>'\r\n                };\r\n                break;\r\n            case 'pie':\r\n                format = function(data) {\r\n                    return '<strong>' + data.data.name + '</strong>' + '<br><span>' + data.data.value + '</span>' \r\n                };\r\n                break;\r\n            case 'donut':\r\n                format = function(data) {\r\n                    return '<strong>' + data.data.name + '</strong>' + '<br><span>' + data.data.value + '</span>' \r\n                };\r\n                break;\r\n            case 'line':\r\n                format = function(data) {\r\n                    let _format = '';\r\n                    data.forEach(function(d, i){\r\n                        _format += '<strong>' + d.name + '</strong>' + '<br><span> Value X: ' + d.valueX + '</span>' + '<br><span> Value Y: ' + d.valueY + '</span><br>';    \r\n                    });\r\n                    return _format;\r\n                };\r\n                break;\r\n            case 'timeline':\r\n                format = function(data) {\r\n                    return '<strong>' + data.name + '</strong>' + '<br><span>' + data.start, data.end + '</span>' \r\n                };\r\n                break;\r\n        }\r\n\r\n        // Update format for tooltip based on chart type\r\n        self.format     = self.options.format || format;\r\n        // console.log(self.format);\r\n\r\n    }\r\n\r\n    getCoordinate() {\r\n        var self = this;\r\n        let r ;\r\n\r\n        switch(self.position) {\r\n            case 'top':\r\n                r = {\r\n                    'left': (d3.event.pageX - 50) + 'px',\r\n                    'top': (d3.event.pageY - 50) + 'px'\r\n                };\r\n                break;\r\n            case 'right':\r\n                r = {\r\n                    'left': (d3.event.pageX - 50) + 'px',\r\n                    'top': (d3.event.pageY - 50) + 'px'\r\n                };\r\n                break;\r\n            case 'bottom':\r\n                r = {\r\n                    'left': (d3.event.pageX - 50) + 'px',\r\n                    'top': (d3.event.pageY + 50) + 'px'\r\n                };\r\n                break;\r\n            case 'left':\r\n                r = {\r\n                    'left': (d3.event.pageX + 50) + 'px',\r\n                    'top': (d3.event.pageY - 50) + 'px'\r\n                };\r\n                break;\r\n        }\r\n        return r;\r\n    }\r\n\r\n    getFormatByChartType(chart, data) {\r\n        var self = this;\r\n\r\n        self.setDefaultFormatByChartType(chart, data);\r\n\r\n        let r = self.format(data);\r\n\r\n        return r;\r\n    }\r\n\r\n\r\n    /*=====  End of Main Functions  ======*/\r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Tooltip.js\n **/","import Helper from './C9.Helper';\r\n\r\nexport default class DataAdapter {\r\n\r\n    constructor(options) {\r\n\r\n        var self = this;\r\n\r\n        var config = {\r\n            // ALL OPTIONS AVAILABLE IN DATA CONFIG\r\n            keys: {\r\n                name: \"name\",\r\n                value: \"value\",\r\n                x: \"value.x\",\r\n                y: \"value\"\r\n            },\r\n            groups: [],\r\n            stacks: [],\r\n            timeFormat: false,\r\n\r\n            // NO NEED TO ADD TO DATA OPTIONS\r\n            // Just use to define default parameters\r\n            colorRange: null,\r\n        };\r\n\r\n        self._keys      = Helper.merge(options.keys, config.keys);\r\n        self._groups    = options.groups    || config.groups;\r\n        self._stacks    = options.stacks    || config.stacks;\r\n        self._timeFormat    = options.timeFormat    || config.timeFormat;\r\n        self._colorRange= options.colorRange|| config.colorRange;\r\n\r\n        self._dataSource = null;\r\n        self._dataTarget = []; // Initialize new Array to use Array methods\r\n        self._dataRefs = [];\r\n        self.initDataSource(options);\r\n\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get keys() {\r\n        return this._keys;\r\n    }\r\n\r\n    get dataSource() {\r\n        return this._dataSource;\r\n    }\r\n\r\n    get dataTarget() {\r\n        return this._dataTarget;\r\n    }\r\n\r\n    get groups() {\r\n        return this._groups;\r\n    }\r\n\r\n    get stacks() {\r\n        return this._stacks;\r\n    }\r\n\r\n    get colorRange() {\r\n        return this._colorRange;\r\n    }\r\n\r\n    get timeFormat() {\r\n        return this._timeFormat;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set keys(arg) {\r\n        if (arg) {\r\n            this._keys = arg;\r\n        }\r\n    }\r\n\r\n    set dataSource(arg) {\r\n        if (arg) {\r\n            this._dataSource = arg;\r\n        }\r\n    }\r\n\r\n    set dataTarget(arg) {\r\n        if (arg) {\r\n            this._dataTarget = arg;\r\n        }\r\n    }\r\n\r\n    set groups(arg) {\r\n        if (arg) {\r\n            this._groups = arg;\r\n        }\r\n    }\r\n\r\n    set stacks(arg) {\r\n        if (arg) {\r\n            this._stacks = arg;\r\n        }\r\n    }\r\n\r\n    set colorRange(arg) {\r\n        if (arg) {\r\n            this._colorRange = arg;\r\n        }\r\n    }\r\n\r\n    set timeFormat(arg) {\r\n        if (arg) {\r\n            this._timeFormat = arg;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n\r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    initDataSource(options) {\r\n        var self = this;\r\n\r\n        if (self.hasPlainData(options)) {\r\n            self.executePlainData(options);\r\n        } else if (self.hasFile(options)) {\r\n            self.executeFile(options);\r\n        }\r\n    }\r\n\r\n    hasPlainData(options) {\r\n        return options.plain && Helper.isArray(options.plain);\r\n    }\r\n\r\n    hasFile(options) {\r\n        return options.file && Helper.isObject(options.file);\r\n    }\r\n\r\n    executePlainData(options) {\r\n        var self = this;\r\n\r\n        self._dataSource = options.plain;\r\n    }\r\n\r\n    executeFile(options) {\r\n        var self = this;\r\n\r\n        self._file  = Helper.merge(options.file, config.file);\r\n\r\n        if (self._file && self._file.type) {\r\n\r\n            switch(self._file.type) {\r\n                case \"csv\":\r\n                    self._dataSource = self.getCsv();\r\n                    break;\r\n                case \"tsv\":\r\n                    self._dataSource = self.getTsv();\r\n                    break;\r\n                case \"text\":\r\n                    self._dataSource = self.getText();\r\n                    break;\r\n                case \"json\":\r\n                    self._dataSource = self.getJson();\r\n                    break;\r\n                case \"xml\":\r\n                    self._dataSource = self.getXml();\r\n                    break;\r\n                case \"xhr\":\r\n                    self._dataSource = self.getJson();\r\n                    break;\r\n                default:\r\n                    self._dataSource = self.getJson();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getDataTypeForBarChart() {\r\n        var self = this;\r\n\r\n        if (!Helper.isEmpty(self.groups) && Helper.isArray(self.groups)) {\r\n            return \"group\";\r\n        } else if (!Helper.isEmpty(self.stacks) && Helper.isArray(self.stacks)) {\r\n            return \"stack\";\r\n        }\r\n\r\n        return \"single\";\r\n    }\r\n\r\n    getDataTarget(chartType) {\r\n        var self = this;\r\n\r\n        switch(chartType) {\r\n            case \"bar\":\r\n                return self.getDataTargetForBarChart();\r\n                break;\r\n\r\n            case \"line\":\r\n                return self.getDataTargetForLineChart();\r\n                break;\r\n\r\n            case \"pie\":\r\n                return self.getDataTargetForPieChart();\r\n                break;\r\n\r\n            case \"donut\":\r\n                return self.getDataTargetForDonutChart();\r\n                break;\r\n\r\n            case \"timeline\":\r\n                return self.getDataTargetForTimelineChart();\r\n                break;\r\n            default:\r\n                return self.dataSource;\r\n                break;\r\n        }\r\n    }\r\n\r\n    getName(v) {\r\n        return v.name; \r\n    }\r\n\r\n    getValue(v) {\r\n        var self = this;\r\n\r\n        return Helper.get(self.keys, v);\r\n    }\r\n\r\n    /*=====  End of Main Functions  ======*/\r\n\r\n    /*=================================================\r\n    =            Normalize Data For Charts            =\r\n    =================================================*/\r\n    getDataTargetForBarChart() {\r\n        var self = this;\r\n\r\n        switch(self.getDataTypeForBarChart()) {\r\n            case \"single\":\r\n                self.dataSource.forEach(function(data, index) {\r\n                    let _stack = [];\r\n                    let _data = {\r\n                        \"max\": Helper.get(self.keys.value, data),\r\n                        \"stack\": [{\r\n                            \"name\" : Helper.get(self.keys.name, data),\r\n                            \"y0\" : 0,\r\n                            \"y1\" : Helper.get(self.keys.value, data),\r\n                            \"enable\" : true,\r\n                        }]\r\n                    };\r\n                    self.dataTarget.push(_data);\r\n                });\r\n\r\n                return self.dataTarget;\r\n                break;\r\n\r\n            case \"group\":\r\n                var groups = self.groups;\r\n\r\n                // Iterate over each group\r\n                self.dataSource.forEach(function(data, index) {\r\n                    let _dsArray    = Helper.get(self.keys.value, data);\r\n\r\n                    let _stack      = [],\r\n                        _stackItem = {\r\n                            \"color\": \"#ffffff\",\r\n                            \"y0\": 0,\r\n                            \"y1\": 1,\r\n                            \"group\": \"\",\r\n                            \"name\": \"\",\r\n                            \"data-ref\": \"\",\r\n                            \"enable\"    : true,\r\n                        },\r\n                        color = self.colorRange;\r\n\r\n                    // Iterate each single bar in a group\r\n                    if (Helper.isArray(_dsArray)) {\r\n                        _dsArray.forEach(function(d, i) {\r\n                            _stackItem = {\r\n                                \"color\": color(i),\r\n                                \"y0\": d,\r\n                                \"y1\": d > 0 ? d : 0,\r\n                                \"group\": groups[i] || i,\r\n                                \"name\": Helper.get(self.keys.name, data),\r\n                                \"data-ref\": Helper.guid(),\r\n                                \"enable\"    : true,\r\n                            };\r\n                            _stack.push(_stackItem);\r\n                        });\r\n                    } else {\r\n                        _stackItem = {\r\n                            \"color\": color(0),\r\n                            \"y0\": _dsArray,\r\n                            \"y1\": _dsArray > 0 ? _dsArray : 0,\r\n                            \"group\": groups[0] || 0,\r\n                            \"name\": Helper.get(self.keys.name, data),\r\n                            \"data-ref\": Helper.guid(),\r\n                            \"enable\"    : true,\r\n                        };\r\n                        _stack.push(_stackItem);\r\n                    }\r\n\r\n                    self.dataTarget.push(_stack);\r\n                });\r\n\r\n                return self.dataTarget;\r\n                break;\r\n\r\n            case \"stack\":\r\n                var stacks = self.stacks;\r\n\r\n                // Iterate over each group\r\n                self.dataSource.forEach(function(data, index) {\r\n                    let _dsArray    = Helper.get(self.keys.value, data);\r\n\r\n                    let _stack      = [],\r\n                        _stackItem = {\r\n                            \"color\": \"#ffffff\",\r\n                            \"y0\": 0,\r\n                            \"y1\": 1,\r\n                            \"group\": \"\",\r\n                            \"name\": \"\",\r\n                            \"data-ref\": \"\",\r\n                            \"enable\"    : true,\r\n                        },\r\n                        color = self.colorRange;\r\n\r\n                    // Iterate each single bar in a group\r\n                    if (Helper.isArray(_dsArray)) {\r\n                        let _negBase = 0;\r\n                        let _posBase = 0;\r\n                        _dsArray.forEach(function(d, i) {\r\n                            _stackItem = {\r\n                                \"color\": color(i),\r\n                                \"y0\": d,\r\n                                \"y1\": d > 0 ? d + _posBase : _negBase,\r\n                                \"group\": stacks[i] || i,\r\n                                \"name\": Helper.get(self.keys.name, data),\r\n                                \"data-ref\": Helper.guid(),\r\n                                \"enable\"    : true,\r\n                            };\r\n                            _stack.push(_stackItem);\r\n                            if (d > 0) _posBase += d;\r\n                            else _negBase += d;\r\n                        });\r\n                    } else {\r\n                        _stackItem = {\r\n                            \"color\": color(0),\r\n                            \"y0\": _dsArray,\r\n                            \"y1\": _dsArray > 0 ? _dsArray : 0,\r\n                            \"group\": stacks[0] || 0,\r\n                            \"name\": Helper.get(self.keys.name, data),\r\n                            \"data-ref\": Helper.guid(),\r\n                            \"enable\"    : true,\r\n                        };\r\n                        _stack.push(_stackItem);\r\n                    }\r\n\r\n                    self.dataTarget.push(_stack);\r\n                });\r\n\r\n                return self.dataTarget;\r\n                break;\r\n\r\n            default:\r\n                return self.dataSource;\r\n                break;\r\n        }\r\n    \r\n    }\r\n\r\n    getDataTargetForPieChart() {\r\n        var self = this;\r\n\r\n        let color = self.colorRange;\r\n        self.dataSource.forEach(function(data, index) {\r\n            let _data = {\r\n                \"color\"     : color(index),\r\n                \"name\"      : Helper.get(self.keys.name, data),\r\n                \"value\"     : Helper.get(self.keys.value, data),\r\n                \"data-ref\"  : Helper.guid(),\r\n                \"enable\"    : true,\r\n            };\r\n            self.dataTarget.push(_data);\r\n        });\r\n\r\n        return self.dataTarget;\r\n\r\n    }\r\n\r\n    getDataTargetForDonutChart() {\r\n        var self = this;\r\n\r\n        let color = self.colorRange;\r\n        self.dataSource.forEach(function(data, index) {\r\n            let _data = {\r\n                \"color\"     : color(index),\r\n                \"data-ref\"  : Helper.guid(),\r\n                \"enable\"    : true,\r\n                \"name\"      : Helper.get(self.keys.name, data),\r\n                \"value\"     : Helper.get(self.keys.value, data),\r\n            };\r\n\r\n            self.dataTarget.push(_data);\r\n        });\r\n\r\n        return self.dataTarget;\r\n\r\n    }\r\n\r\n    getDataTargetForTimelineChart() {\r\n        var self = this;\r\n\r\n        let color = self.colorRange;\r\n\r\n        self.dataSource.forEach(function(data, index) {\r\n\r\n            let _data = {\r\n                // \"color\"     : color(index),\r\n                \"icon\"      : data.icon,\r\n                \"name\"      : Helper.get(self.keys.name, data),\r\n                \"value\"     : [],\r\n                \"data-ref\"  : Helper.guid(),\r\n                \"enable\"    : true,\r\n            };\r\n\r\n            let _dsArray    = Helper.get(self.keys.value, data),\r\n                _valueArray = [],\r\n                _valueItem  = {\r\n                    \"name\": Helper.get(self.keys.name, data),\r\n                    \"start\": null ,\r\n                    \"end\": null ,\r\n                    \"color\": \"#fff\",\r\n                    \"data-ref\": null,\r\n                    \"enable\": true\r\n                };\r\n\r\n            if (Helper.isArray(_dsArray)) {\r\n                _dsArray.forEach(function(d, i) {\r\n                    _valueItem = {\r\n                        \"name\": Helper.get(self.keys.name, data),\r\n                        \"start\": new Date(d.start),\r\n                        \"end\": new Date(d.end) ,\r\n                        \"color\": color(index),\r\n                        \"data-ref\": Helper.guid(),\r\n                        \"enable\": true,\r\n                    };\r\n                    _valueArray.push(_valueItem);\r\n                });\r\n            } else {\r\n                _valueItem = {\r\n                    \"name\": Helper.get(self.keys.name, data),\r\n                    \"start\": new Date(d.start),\r\n                    \"end\": new Date(d.end) ,\r\n                    \"color\": color(index),\r\n                    \"data-ref\": Helper.guid(),\r\n                    \"enable\": true,\r\n                };\r\n                _valueArray.push(_valueItem);\r\n            }\r\n            _data.value = _valueArray;\r\n\r\n            self.dataTarget.push(_data);\r\n        });\r\n        return self.dataTarget;\r\n\r\n    }\r\n    \r\n    getDataTargetForLineChart() {\r\n        var self = this;\r\n\r\n        let color = self.colorRange;\r\n        self.dataSource.forEach(function(data, index) {\r\n            let _data = {\r\n                \"color\"     : color(index),\r\n                \"name\"      : Helper.get(self.keys.name, data),\r\n                \"value\"    : [],\r\n                \"data-ref\"  : Helper.guid(),\r\n                \"enable\"    : true,\r\n            };\r\n\r\n            let _valueXArray = Helper.get(self.keys.x, data),\r\n                _valueYArray = Helper.get(self.keys.y, data),\r\n                _valueArray = [],\r\n                _valueItem  = {\r\n                    \"name\"  : Helper.get(self.keys.name, data),\r\n                    \"valueX\": null,\r\n                    \"valueY\": null,\r\n                    \"data-ref\": Helper.guid(),\r\n                    \"enable\": true\r\n                };\r\n\r\n            if (Helper.isArray(_valueYArray)) {\r\n                /**\r\n                 *\r\n                 * CASE 1: [{name:, value: []}, {}, ..]\r\n                 *\r\n                 */\r\n                \r\n                if (!Helper.isArray(_valueXArray)) {\r\n                    _valueYArray.forEach(function(d, i) {\r\n                        _valueItem = {\r\n                            \"name\"  : Helper.get(self.keys.name, data),\r\n                            \"valueX\": i,\r\n                            \"valueY\": d,\r\n                            \"data-ref\": Helper.guid(),\r\n                            \"enable\": true\r\n                        };\r\n                        _valueArray.push(_valueItem);\r\n                    });\r\n                } else \r\n\r\n                /**\r\n                 *\r\n                 * CASE 2: [{name:, value: {x: [], y:[]}, {}, ..]\r\n                 *\r\n                 */\r\n                \r\n                if (Helper.isArray(_valueXArray) && !self.timeFormat) {\r\n                    _valueYArray.forEach(function(d, i) {\r\n                        _valueItem = {\r\n                            \"name\"  : Helper.get(self.keys.name, data),\r\n                            \"valueX\": !Helper.isEmpty(_valueXArray[i]) ? _valueXArray[i] : i,\r\n                            \"valueY\": d,\r\n                            \"data-ref\": Helper.guid(),\r\n                            \"enable\": true\r\n                        };\r\n                        _valueArray.push(_valueItem);\r\n                    });\r\n                } else \r\n\r\n                /**\r\n                 *\r\n                 * CASE 3: [{name:, value: {x: [], y:[]}, {}, ..] with config `timeFormat`\r\n                 *\r\n                 */\r\n                \r\n                if (Helper.isArray(_valueXArray) && self.timeFormat) {\r\n                    let _parser = Helper.dateParser(self.timeFormat);\r\n\r\n                    _valueYArray.forEach(function(d, i) {\r\n                        _valueItem = {\r\n                            \"name\"  : Helper.get(self.keys.name, data),\r\n                            \"valueX\": !Helper.isEmpty(_valueXArray[i]) ? _parser(_valueXArray[i]) : i,\r\n                            \"valueY\": d,\r\n                            \"data-ref\": Helper.guid(),\r\n                            \"enable\": true\r\n                        };\r\n                        _valueArray.push(_valueItem);\r\n                    });\r\n                }\r\n            }\r\n\r\n            _data.value = _valueArray;\r\n\r\n            self.dataTarget.push(_data);\r\n        });\r\n\r\n        return self.dataTarget;\r\n\r\n    }\r\n    /*=====  End of Normalize Data For Charts  ======*/\r\n    \r\n    /*=============================\r\n    =            Utils            =\r\n    =============================*/\r\n    // getBarColorForBarChart() {\r\n    //     var self = this;\r\n\r\n    //     var color = self.colorRange;\r\n    //     if (typeof color == 'string') {\r\n    //         try {\r\n    //             return d3.scale[color]();    \r\n    //         }\r\n    //         catch(err) {\r\n    //             return function(i) {\r\n    //                 return color;\r\n    //             };\r\n    //         }\r\n    //     } else if (typeof color == 'object') {\r\n    //         return d3.scale.ordinal().range(color);\r\n    //     }\r\n    // }\r\n    \r\n    \r\n    /*=====  End of Utils  ======*/\r\n    \r\n\r\n    /*=============================================\r\n    =            Data Input From Files            =\r\n    =============================================*/\r\n    \r\n    getCsv() {\r\n\r\n        var self = this;\r\n\r\n        d3.csv(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            return data;\r\n        });\r\n\r\n    }\r\n\r\n    getTsv() {\r\n\r\n        var self = this;\r\n\r\n        d3.tsv(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            return data;\r\n        });\r\n\r\n    }\r\n\r\n    getText() {\r\n\r\n        var self = this;\r\n\r\n        d3.text(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            return JSON.parse(data);\r\n        });\r\n\r\n    }\r\n\r\n    getJson() {\r\n        var self = this;\r\n\r\n        d3.json(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            return data;\r\n        });\r\n    }\r\n\r\n    getXml() {\r\n        var self = this;\r\n\r\n        d3.xml(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            // Convert the XML document to an array of objects.\r\n            // Note that querySelectorAll returns a NodeList, not a proper Array,\r\n            // so we must use map.call to invoke array methods.\r\n            data = [].map.call(data.querySelectorAll(\"data\"), function(d) {\r\n                return {\r\n                    name: d.querySelector(\"name\").textContent,\r\n                    value: d.querySelector(\"value\").textContent\r\n                };\r\n            });\r\n\r\n            return data;\r\n        });\r\n    }\r\n    \r\n    /*=====  End of Data Input From Files  ======*/\r\n    \r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/helper/C9.DataAdapter.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\nimport Table from './utils/C9.Table';\r\nimport Tooltip from './utils/C9.Tooltip';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class DonutChart extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n        var self = this;\r\n        var R = Math.min(self.width - self.margin.left - self.margin.right, self.height - self.margin.top - self.margin.bottom) / 2;\r\n        var config = {\r\n            outerRadius: R,\r\n            innerRadius: R > 80 ? R - 80 : R - 40,\r\n            showText: true // show/hide text on middle or each donut\r\n        };\r\n\r\n        self._outerRadius   = options.outerRadius || config.outerRadius;\r\n        self._innerRadius   = options.innerRadius || config.innerRadius;\r\n        self._showText      = options.showText || config.showText;\r\n        self.body.type      = 'donut';\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        var da = new DataAdapter(dataOption);\r\n        self.dataTarget     = da.getDataTarget(\"donut\");\r\n\r\n        self.updateConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get outerRadius() {\r\n        return this._outerRadius;\r\n    }\r\n\r\n    get innerRadius() {\r\n        return this._innerRadius;\r\n    }\r\n\r\n    get showText() {\r\n        return this._showText;\r\n    }\r\n\r\n    get tooltip() {\r\n        return this._tooltip;\r\n    }\r\n\r\n    get pie() {\r\n        return this._pie;\r\n    }\r\n\r\n    get arc() {\r\n        return this._arc;\r\n    }\r\n\r\n    get currentData() {\r\n        return this._currentData;\r\n    }\r\n\r\n    get chartType() {\r\n        return this._body.type;\r\n    }\r\n\r\n    get legend() {\r\n        return this._legend;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set outerRadius(arg) {\r\n        if (arg) {\r\n            this._outerRadius = arg;\r\n        }\r\n    }\r\n\r\n    set innerRadius(arg) {\r\n        if (arg) {\r\n            this._innerRadius = arg;\r\n        }\r\n    }\r\n\r\n    set showText(arg) {\r\n        if (arg) {\r\n            this._showText = arg;\r\n        }\r\n    }\r\n\r\n    set tooltip(arg) {\r\n        if (arg) {\r\n            this._tooltip = arg;\r\n        }\r\n    }\r\n\r\n    set pie(arg) {\r\n        if (arg) {\r\n            this._pie = arg;\r\n        }\r\n    }\r\n\r\n    set arc(arg) {\r\n        if (arg) {\r\n            this._arc = arg;\r\n        }\r\n    }\r\n\r\n    set currentData(arg) {\r\n        if (arg) {\r\n            this._currentData = arg;\r\n        }\r\n    }\r\n\r\n    set legend(arg) {\r\n        if (arg) {\r\n            this._legend = arg;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    /**\r\n     * Update Donut Chart Config\r\n     */\r\n    updateConfig() {\r\n        var self = this;\r\n\r\n        // chartInnerAfter, chartOuterAfter define easing radius of donut chart during animation\r\n        // TODO: Add configs allow users to define these radius\r\n        var width   = self.width - self.margin.left - self.margin.right,\r\n            height  = self.height - self.margin.top - self.margin.bottom,\r\n            color   = self.colorRange,\r\n            chartInnerBefore = self.innerRadius,\r\n            chartOuterBefore = self.outerRadius,\r\n            chartInnerAfter = self.innerRadius,\r\n            chartOuterAfter = self.outerRadius * 1.2;\r\n\r\n        var hoverOptions        = self.hover.options,\r\n            hoverEnable         = self.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback  = self.click.callback;\r\n\r\n        var tooltip = new Tooltip(self.options.tooltip);\r\n\r\n        // Main Event Dispatch for paths in donut chart\r\n        self._eventFactory = {\r\n            'click': function(d, i) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, d);\r\n                }\r\n            },\r\n\r\n            'mouseover': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, d);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                selector.transition()\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerAfter)\r\n                            .outerRadius(chartOuterAfter)\r\n                        );\r\n\r\n                // For legend\r\n                if (self.legend.item)\r\n                    self.legend.item.each(function() {\r\n                        if (d3.select(this).attr('data-ref') !== d.data['data-ref'] && d3.select(this).attr('data-enable') == 'true') {\r\n                            d3.select(this).attr('opacity', '0.3');\r\n                        }\r\n                    });\r\n\r\n                // For Chart\r\n                self.selectAllPath().each(function(){\r\n                    if (d3.select(this).attr('data-ref') !== d.data['data-ref']) {\r\n                        d3.select(this).attr('opacity', '0.3');\r\n                    }\r\n                });\r\n\r\n                // For Tooltip\r\n                tooltip.draw(d, self, 'mouseover');\r\n            },\r\n            \r\n            'mouseout': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, d);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                selector.transition()\r\n                        .duration(500)\r\n                        .ease('bounce')\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerBefore)\r\n                            .outerRadius(chartOuterBefore)\r\n                        );\r\n\r\n                // For legend\r\n                if (self.legend.item)\r\n                self.legend.item.each(function() {\r\n                    if (d3.select(this).attr('data-ref') !== d.data['data-ref'] && d3.select(this).attr('data-enable') == 'true') {\r\n                        d3.select(this).attr('opacity', '1.0');\r\n                    }\r\n                });\r\n\r\n                // For Chart\r\n                self.selectAllPath().each(function(){\r\n                    if (d3.select(this).attr('data-ref') !== d.data['data-ref']) {\r\n                        d3.select(this).attr('opacity', '1.0');\r\n                    }\r\n                });\r\n\r\n                // For Tooltip\r\n                tooltip.draw(d, self, 'mouseout');\r\n            }\r\n\r\n        };\r\n\r\n        self.arc = d3.svg.arc()\r\n                    .outerRadius(self.outerRadius)\r\n                    .innerRadius(self.innerRadius);\r\n\r\n        //we can sort data here\r\n        self.pie = d3.layout.pie()\r\n                    .sort(null)\r\n                    .value(function(d) { return d.value; });\r\n\r\n        //draw chart\r\n        var arcs = self.body\r\n                    .append('g')\r\n                        .attr('class', 'c9-chart c9-custom-arc-container')\r\n                        .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\r\n                        .selectAll('.c9-chart-donut.c9-custom-arc')\r\n                        .data(self.pie(self.dataTarget)).enter()\r\n                        .append('g')\r\n                            .attr('class', 'c9-chart-donut c9-custom-arc');\r\n\r\n        // Append main path contains donut\r\n        // TODO: add a unique class to allow Legend could find selected donut/pie\r\n        arcs.append('path')\r\n                .attr('class', 'c9-chart-donut c9-custom-path')\r\n                .attr('data-ref', function(d) { return d.data['data-ref']; })\r\n                .attr('d', self.arc)\r\n                .attr('fill', function(d, i) { return color(i); })\r\n                .attr('stroke', '#ffffff')\r\n                .each(function(d) { self._currentData = d; }); \r\n                // Current data used for calculate interpolation \r\n                // between current arc vs disabled arc\r\n\r\n\r\n        // Append middle text display name\r\n        // if (self.showText) {\r\n        //     arcs.append('text')\r\n        //             .attr('class', 'c9-chart-donut c9-custom-text')\r\n        //             .attr('transform', function(d) { return 'translate(' + self.arc.centroid(d) + ')'; })\r\n        //             .attr('dy', '.35em')\r\n        //             .attr('text-anchor', 'middle')\r\n        //             .text(function(d) { return d.data.name; });\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * Main draw function of Donut Chart\r\n     */\r\n    draw() {\r\n\r\n        var self = this;\r\n        \r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);\r\n        var legend  = new Legend(self.options.legend, self.body, self.dataTarget);\r\n\r\n        self.legend = legend;\r\n        \r\n        // Draw legend\r\n        legend.draw();\r\n        legend.updateInteractionForDonutPieChart(self, self.selectAllPath(), self.pie, self.currentData, self.arc);\r\n\r\n        // Update interaction of this own chart\r\n        self.updateInteraction();\r\n\r\n    }\r\n\r\n    /**\r\n     * Select all path as type PATH in Donut Chart via its CLASS\r\n     */\r\n    selectAllPath() {\r\n        var self = this;\r\n\r\n        return self.body\r\n                // .selectAll('g')\r\n                    .selectAll('path.c9-chart-donut.c9-custom-path');\r\n    }\r\n\r\n    /**\r\n     * Update Interaction: Hover\r\n     * @return {} \r\n     */\r\n    updateInteraction() {\r\n        var self    = this,\r\n            selector= self.selectAllPath();\r\n\r\n        selector.on(self._eventFactory);\r\n    }\r\n\r\n    /**\r\n     * Custom Event Listener\r\n     * @param  {[type]}   eventType [description]\r\n     * @param  {Function} callback  [description]\r\n     * @return {[type]}             [description]\r\n     */\r\n    on(eventType, callback) {\r\n        super.on(eventType, callback);\r\n        \r\n        var self = this;\r\n        var selector    = self.selectAllPath();\r\n\r\n        // Update Event Factory\r\n        let eventFactory = {\r\n            'click.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            },\r\n            'mouseover.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            },\r\n            'mouseout.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            }\r\n        }\r\n\r\n        let eventName = eventType + '.event';\r\n\r\n        selector.on(eventName, eventFactory[eventName]);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.DonutChart.js\n **/","import Helper from '../../helper/C9.Helper';\r\n\r\nexport default class Table {\r\n    constructor(options, body, data) {\r\n        var config = {\r\n            container: \"body\",\r\n            show: false,\r\n            headings: [\"Name\", \"Value\"],\r\n            style: \"stripe\", // || \"stripe\"\r\n            serial: true,\r\n            hover: {\r\n                enable: true,\r\n                callback: null\r\n            },\r\n            click: {\r\n                enable: true,\r\n                callback: null\r\n            }\r\n        };\r\n\r\n        var self = this;\r\n\r\n        self._container = options.container || config.container;\r\n        self._show = options.show ? options.show : config.show;\r\n        self._headings = options.headings || config.headings;\r\n        self._style = options.style || config.style;\r\n        self._serial = options.serial || config.serial;\r\n        self._hover = Helper.merge(options.hover, config.hover);\r\n        self._click = Helper.merge(options.click, config.click);\r\n\r\n        self._data = data;\r\n        self._body = body;\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get data() {\r\n        return this._data;\r\n    }\r\n\r\n    get body() {\r\n        return this._body;\r\n    }\r\n\r\n    get container() {\r\n        return this._container;\r\n    }\r\n\r\n    get show() {\r\n        return this._show;\r\n    }\r\n\r\n    get headings() {\r\n        return this._headings;\r\n    }\r\n\r\n    get style() {\r\n        return this._style;\r\n    }\r\n\r\n    get serial() {\r\n        return this._serial;\r\n    }\r\n\r\n    get hover() {\r\n        return this._hover;\r\n    }\r\n\r\n    get click() {\r\n        return this._click;\r\n    }\r\n\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set data(arg) {\r\n        if (arg) {\r\n            this._data = arg;\r\n        }\r\n    }\r\n\r\n    set body(arg) {\r\n        if (arg) {\r\n            this._body = arg;\r\n        }\r\n    }\r\n\r\n    set container(arg) {\r\n        if (arg) {\r\n            this._container = arg;\r\n        }\r\n    }\r\n\r\n    set show(arg) {\r\n        if (arg) {\r\n            this._show = arg;\r\n        }\r\n    }\r\n\r\n    set headings(arg) {\r\n        if (arg) {\r\n            this._headings = arg;\r\n        }\r\n    }\r\n\r\n    set style(arg) {\r\n        if (arg) {\r\n            this._style = arg;\r\n        }\r\n    }\r\n\r\n    set serial(arg) {\r\n        if (arg) {\r\n            this._serial = arg;\r\n        }\r\n    }\r\n\r\n    set hover(arg) {\r\n        if (arg) {\r\n            this._hover = arg;\r\n        }\r\n    }\r\n\r\n    set click(arg) {\r\n        if (arg) {\r\n            this._click = arg;\r\n        }\r\n    }\r\n\r\n    /*=====  End of Setter  ======*/\r\n\r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    draw() {\r\n        var self = this;\r\n\r\n        if (self.show) {\r\n\r\n            var headTbl = d3.select(self.container).append(\"table\").attr('class', 'c9-table c9-table-header'),\r\n                thead = headTbl.append(\"thead\"),\r\n\r\n                bodyTbl = d3.select(self.container)\r\n                                .append(\"div\").attr('class', 'c9-table-container')\r\n                                    .append(\"table\").attr('class', function() {\r\n                                        if (self.style === 'default') return 'c9-table c9-table-body';\r\n                                        else if (self.style === 'stripe') return 'c9-table c9-table-body c9-stripe';\r\n                                    }),\r\n                tbody = bodyTbl.append(\"tbody\");\r\n\r\n            // Append serial no heading\r\n            // Bind each statistic to a line of the table\r\n            // Show serial no.\r\n            var hRows = thead.append(\"tr\");\r\n\r\n            if (self.serial) {\r\n                hRows.append(\"th\")\r\n                    .text(\"#\");\r\n            }\r\n\r\n            hRows.selectAll(\"thead\")\r\n                .data(self.headings)\r\n                .enter()\r\n                .append(\"th\")\r\n                    .text(function(d) {\r\n                        return d;\r\n                    });\r\n\r\n            \r\n\r\n\r\n            // Bind each statistic to a line of the table\r\n            // Show serial no.\r\n            var bRows = tbody\r\n                .selectAll(\"tr\")\r\n                .data(self.data)\r\n                    .enter()\r\n                        .append(\"tr\")\r\n                        .attr(\"data-ref\", function (d){ return d[\"data-ref\"] });\r\n\r\n            if (self.serial) {\r\n                bRows.append(\"td\")\r\n                    .text(function(d, i) {\r\n                        return i + 1;\r\n                    });\r\n            }\r\n\r\n\r\n            // Add statistic names to each row\r\n            bRows.append(\"td\")\r\n                    .text(function(d) {\r\n                        return d.name;\r\n                    });\r\n\r\n\r\n            // Add values to each row\r\n            bRows.append(\"td\")\r\n                    .text(function(d) {\r\n                        return d.value;\r\n                    });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    updateInteractionForPieChart(chart) {\r\n\r\n        var self = this;\r\n\r\n        var hoverOptions        = chart.hover.options,\r\n            hoverEnable         = chart.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = chart.click.callback;\r\n\r\n        var chartType = chart.chartType;\r\n\r\n        var chartInnerBefore    = chartType == 'pie' ?  0 : chart.innerRadius,\r\n            chartOuterBefore    = chartType == 'pie' ?  chart.radius : chart.outerRadius,\r\n            chartInnerAfter     = chartType == 'pie' ?  0 : chart.innerRadius,\r\n            chartOuterAfter     = chartType == 'pie' ?  chart.radius * 1.2 : chart.outerRadius * 1.2;\r\n        self.itemEventFactory = {\r\n\r\n            'click': function(item) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, item);\r\n                }\r\n\r\n                // var selector = d3.select(this);\r\n                // var enable = true,\r\n                //     dataSet = self.data;\r\n                // var totalEnable = d3.sum(dataSet.map(function(d) {\r\n                //     return (d.enable) ? 1 : 0;\r\n                // }));\r\n\r\n                // // Add pointer to cursor\r\n                // selector.style('cursor', 'pointer');\r\n\r\n                // // If current selector is disabled, then turn it on back\r\n                // // Else, set enable to false\r\n                // if (selector.style('opacity') == '0.1') {\r\n                //     selector.style('opacity', '1.0');\r\n                // } else {\r\n                //     if (totalEnable < 2) return;\r\n                //     selector.style('opacity', '0.1');\r\n                //     enable = false;\r\n                // }\r\n\r\n            },\r\n\r\n            'mouseover': function(item) {\r\n                if (!item)\r\n                    return;\r\n\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n                // if (legendSelector.attr('enable') == 'true') {\r\n\r\n                    // For Chart\r\n                    chart.selectAllPath().each(function(){\r\n                        if (d3.select(this).attr('data-ref') !== item['data-ref']) {\r\n                            d3.select(this).attr('opacity', '0.3');\r\n                        }\r\n                    });\r\n\r\n                    var selector = d3.select(\"path[data-ref='\" + item['data-ref'] + \"']\");\r\n\r\n                    selector\r\n                        .transition()\r\n                            .duration(500)\r\n                            .ease('bounce')\r\n                            .attr('d', d3.svg.arc()\r\n                                .innerRadius(chartInnerAfter)\r\n                                .outerRadius(chartOuterAfter)\r\n                            );\r\n                // }\r\n\r\n            },\r\n\r\n            'mouseout': function(item) {\r\n                if (!item)\r\n                    return;\r\n                \r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n                chart.selectAllPath().each(function(){\r\n                    if (d3.select(this).attr('data-ref') !== item['data-ref']) {\r\n                        d3.select(this).attr('opacity', '1.0');\r\n                    }\r\n                });\r\n\r\n                var selector = d3.select(\"path[data-ref='\" + item['data-ref'] + \"']\");\r\n\r\n                selector\r\n                    .transition()\r\n                        .duration(500)\r\n                        .ease('bounce')\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerBefore)\r\n                            .outerRadius(chartOuterBefore)\r\n                        );\r\n            }\r\n        \r\n        };\r\n\r\n        if (self.show)\r\n            self.selectAllRow().on(self.itemEventFactory);\r\n    }\r\n    /*=====  End of Main Functions  ======*/\r\n    selectAllRow(){\r\n        return d3.selectAll(\".c9-table tr\");\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Table.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\nimport Table from './utils/C9.Table';\r\nimport Tooltip from './utils/C9.Tooltip';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class LineChart extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n\r\n        var self    = this;\r\n\r\n        var config  = {\r\n            point: {\r\n                show: true,\r\n                fill: \"steelblue\",\r\n                stroke: \"#d26b5f\",\r\n                'stroke-width': 2,\r\n                opacity: 1.0,\r\n                radius: 5,\r\n            },\r\n            area: {\r\n                show: true\r\n            },\r\n            line: {\r\n                style: \"solid\", // \"dash\", \"dot\"\r\n                width: 2\r\n            },\r\n            interpolate: \"linear\", // refer: https://www.dashingd3js.com/svg-paths-and-d3js\r\n        };\r\n\r\n        self._point         = Helper.merge(options.point, config.point);\r\n        self._area          = Helper.merge(options.area, config.area);\r\n        self._line          = Helper.merge(options.line, config.line);\r\n        self._interpolate   = options.interpolate           ||  config.interpolate;\r\n\r\n        self.body.type = \"line\";\r\n        self._bisectDate = d3.bisector(function(d) { return d.valueX; }).left;;\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        self._da = new DataAdapter(dataOption);\r\n        self.dataTarget     = self._da.getDataTarget(\"line\");\r\n\r\n        self._isTimeDomain = self._da.timeFormat;\r\n\r\n        self.updateConfig();\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n\r\n    get point() {\r\n        return this._point;\r\n    }\r\n\r\n    get area() {\r\n        return this._area;\r\n    }\r\n\r\n    get line() {\r\n        return this._line;\r\n    }\r\n\r\n    get interpolate() {\r\n        return this._interpolate;\r\n    }\r\n    \r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    get isTimeDomain() {\r\n        return this._isTimeDomain;\r\n    }\r\n\r\n    get da() {\r\n        return this._da;\r\n    }\r\n\r\n    get bisectDate() {\r\n        return this._bisectDate;\r\n    }\r\n\r\n    get hoverLine() {\r\n        return this._hoverLine;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n\r\n    set point(arg) {\r\n        if (arg) {\r\n            this._point = arg;\r\n        }\r\n    }\r\n\r\n    set area(arg) {\r\n        if (arg) {\r\n            this._area = arg;\r\n        }\r\n    }\r\n\r\n    set line(arg) {\r\n        if (arg) {\r\n            this._line = arg;\r\n        }\r\n    }\r\n\r\n    set interpolate(arg) {\r\n        if (arg) {\r\n            this._interpolate = arg;\r\n        }\r\n    }\r\n\r\n    set x(arg) {\r\n        if (arg) {\r\n            this._x = arg;\r\n        }\r\n    }\r\n\r\n    set y(arg) {\r\n        if (arg) {\r\n            this._y = arg;\r\n        }\r\n    }\r\n\r\n    set isTimeDomain(arg) {\r\n        if (arg) {\r\n            this._isTimeDomain = arg;\r\n        }\r\n    }\r\n\r\n    set da(arg) {\r\n        if (arg) {\r\n            this._da = arg;\r\n        }\r\n    }\r\n\r\n    set bisectDate(arg) {\r\n        if (arg) {\r\n            this._bisectDate = arg;\r\n        }\r\n    }\r\n\r\n    set hoverLine(arg) {\r\n        if (arg) {\r\n            this._hoverLine = arg;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n\r\n    /**\r\n     * First init Line Chart\r\n     */\r\n    updateConfig() {\r\n        var self = this;\r\n\r\n        var da = self._da;\r\n\r\n        var width   = self.width - self.margin.left - self.margin.right,\r\n            height  = self.height - self.margin.top - self.margin.bottom;\r\n\r\n        var x = (self._isTimeDomain) ? d3.time.scale().range([0, width]) : d3.scale.linear().range([0, width]),\r\n            y = d3.scale.linear().range([height, 0]);\r\n\r\n        var valueXArray = d3.merge(self.dataTarget.map(function(data) {\r\n            return data.value.map(function(d) {\r\n                return d.valueX;\r\n            })\r\n        }));\r\n\r\n        var valueYArray = d3.merge(self.dataTarget.map(function(data) {\r\n            return data.value.map(function(d) {\r\n                return d.valueY;\r\n            })\r\n        }));\r\n\r\n        x.domain(d3.extent(valueXArray));\r\n\r\n        y.domain(d3.extent(valueYArray));\r\n\r\n        // Update domain if all values positive / negative\r\n        if (y.domain()[0] > 0 && y.domain()[1] > 0) {\r\n            y.domain([0, y.domain()[1]]);\r\n        } else if (y.domain()[0] < 0 && y.domain()[1] < 0) {\r\n            y.domain([y.domain()[0], 0]);\r\n        }\r\n\r\n\r\n\r\n        self._x = x;\r\n        self._y = y;\r\n\r\n        var lineGen = d3.svg.line()\r\n                        .x(function(d) { return x(d.valueX); })\r\n                        .y(function(d) { return y(d.valueY); })\r\n                        .interpolate(self.interpolate);\r\n\r\n        var areaGen = d3.svg.area()\r\n                .x(function(d) { return x(d.valueX); })\r\n                .y0(function(d) { return y(d.valueY); })\r\n                .y1(height)\r\n                .interpolate(self.interpolate);\r\n\r\n        self.dataTarget.forEach(function(d,i) {\r\n            if (self.area.show) {\r\n                self.body.append('path')\r\n                    .attr('class', 'c9-chart-line c9-path-area-custom')\r\n                    .attr('d', areaGen(d.value))\r\n                    .attr('data-ref', 'c9-'+d['data-ref'])\r\n                    .style('fill', d.color)\r\n                    .style('stroke', 'none')\r\n                    .style('opacity', '0.1');\r\n            }\r\n\r\n            self.body\r\n                .append('path')\r\n                .attr('class', 'c9-chart-line c9-path-line-custom')\r\n                .attr('d', lineGen(d.value))\r\n                .attr('data-ref', 'c9-'+d['data-ref'])\r\n                .style('stroke', d.color)\r\n                .style('stroke-dasharray', function() {\r\n                    console.log(self.getLineStyle());\r\n                    return self.getLineStyle();\r\n                })\r\n                .style('stroke-width', self.line.width)\r\n                .style('fill', 'none');\r\n\r\n            if (self.point.show) {\r\n                self.body.selectAll(\"dot\")\r\n                    .data(d.value)\r\n                    .enter()\r\n                    .append(\"circle\")\r\n                    .attr('class', 'c9-chart-line c9-circle-custom')\r\n                    .attr(\"r\", self.point.radius)\r\n                    .attr(\"cx\", function(_d) { return x(_d.valueX); })\r\n                    .attr(\"cy\", function(_d) { return y(_d.valueY); })\r\n                    .attr(\"data-ref\", function (d) { return d[\"data-ref\"]; })\r\n                    .style(\"fill\", self.point.fill) \r\n                    .style(\"stroke\", self.point.stroke)\r\n                    .style(\"stroke-width\", self.point['stroke-width'])\r\n                    .style(\"opacity\", self.point.opacity);\r\n            }\r\n\r\n        });\r\n\r\n        // Draw axis before rect-overlay\r\n        var axis    = new Axis(self.options.axis, self.body, self.data, self.width - self.margin.left - self.margin.right, self.height - self.margin.top - self.margin.bottom, self._x, self._y);\r\n\r\n        // Set actual size for chart after initialization\r\n        var chartBox = self.body.node().getBBox();\r\n        self.actualWidth = chartBox.width - 4 * self.point.radius;\r\n        self.actualHeight = chartBox.height;\r\n\r\n\r\n        //** Create a invisible rect for mouse tracking\r\n        self.body.append('rect')\r\n            .attr('class', 'c9-chart-line c9-rect-overlay')\r\n            // .attr('width', self.actualWidth)\r\n            // .attr('height', self.actualHeight)\r\n            .attr('width', width)\r\n            .attr('height', height)\r\n            .style('fill', 'none')\r\n            .style('pointer-events', 'all');\r\n\r\n\r\n\r\n        //** Hover line & invisible rect\r\n\r\n        //** Add the line to the group\r\n        self.hoverLine = self.body.append('g')\r\n            .attr('class', 'c9-chart-line c9-comparator-line')\r\n            .append('line')\r\n            .style('stroke', 'grey')\r\n            .style('stroke-opacity', 0);\r\n\r\n        self.hoverCircle = self.hoverLine.append('circle')\r\n                .attr('class', 'c9-chart-line c9-comparator-line')\r\n                .attr('r', self.point.radius);\r\n    }\r\n\r\n    /**\r\n     * Main draw function of Line Chart\r\n     */\r\n    draw() {\r\n        var self = this;\r\n\r\n        // var axis    = new Axis(self.options.axis, self.body, self.data, self.width - self.margin.left - self.margin.right, self.height - self.margin.top - self.margin.bottom, self._x, self._y);\r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);\r\n        var legend  = new Legend(self.options.legend, self.body, self.dataTarget);\r\n\r\n        // Draw legend\r\n        legend.draw();\r\n        legend.updateInteractionForLineChart(self);\r\n\r\n        self.updateInteraction();\r\n    }\r\n\r\n    /**\r\n     * Select all circle as type CIRCLE in Line Chart via its CLASS\r\n     */\r\n    selectAllCircle() {\r\n        var self = this;\r\n\r\n        return self.body\r\n                .selectAll('circle.c9-chart-line.c9-circle-custom');\r\n    }\r\n\r\n    /**\r\n     * Select all rect as type RECT in Line Chart via its CLASS\r\n     */\r\n    selectRectLayer() {\r\n        var self = this;\r\n\r\n        return d3\r\n                .selectAll('svg rect.c9-chart-line.c9-rect-overlay');\r\n    }\r\n\r\n    /**\r\n     * Update Interaction: Hover\r\n     */\r\n    updateInteraction() {\r\n        var self = this,\r\n            hoverEnable     = self.hover.enable,\r\n            hoverOptions    = self.hover.options,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onMouseMoveCallback  = hoverOptions.onMouseMove.callback,\r\n            onClickCallback  = self.click.callback;\r\n\r\n        var tooltip = new Tooltip(self.options.tooltip);\r\n\r\n        var selector        = self.selectRectLayer();\r\n\r\n        // Update Event Factory\r\n        self.eventFactory = {\r\n            // 'click': function(d) {\r\n            //     if (Helper.isFunction(onClickCallback)) {\r\n            //         onClickCallback.call(this, d);\r\n            //     }\r\n            // },\r\n            // 'mouseover': function(d) {\r\n            //     if (!hoverEnable) return;\r\n                \r\n            //     if (Helper.isFunction(onMouseOverCallback)) {\r\n            //         onMouseOverCallback.call(this, d);\r\n            //     }\r\n\r\n            //     // tooltip.draw(d, self, 'mouseover');\r\n            // },\r\n            'mouseout': function(d) {\r\n                if (!hoverEnable) return;\r\n\r\n                // if (Helper.isFunction(onMouseOutCallback)) {\r\n                //     onMouseOutCallback.call(this, d);\r\n                // }\r\n\r\n                self.hoverLine.style('stroke-opacity', 0);\r\n\r\n                // Remove circle style before\r\n                self.selectAllCircle()[0].forEach(function(circle) {\r\n                    d3.select(circle)\r\n                        .style('fill', self.point.fill)\r\n                        .style('fill-opacity', self.point.opacity);\r\n                }); \r\n\r\n                tooltip.draw(d, self, 'mouseout');\r\n            },\r\n            'mousemove': function(d) {\r\n                if (!hoverEnable) return;\r\n\r\n\r\n                var mouse   = d3.mouse(this),\r\n                    mouseX  = mouse[0],\r\n                    mouseY  = mouse[1],\r\n\r\n                    curValueX   = self.x.invert(mouseX);\r\n\r\n                var sameTimeArr = [],\r\n                    sameTimeValueArr = [];\r\n\r\n                self.dataTarget.forEach(function(d, i) {\r\n                    sameTimeArr[i] = d.value;\r\n                    sameTimeArr[i].sort(function(a, b) { return a.valueX - b.valueX; });\r\n                    var idx = self._isTimeDomain ? self.bisectDate(sameTimeArr[i], new Date(curValueX)) : self.bisectDate(sameTimeArr[i], curValueX);\r\n                    \r\n                    var d0, d1;\r\n                    \r\n                    d0 = (idx === 0) ? sameTimeArr[i][idx] : sameTimeArr[i][idx - 1];\r\n                    d1 = sameTimeArr[i][idx];\r\n\r\n                    // work out which date value is closest to the mouse\r\n                    sameTimeValueArr[i] = (curValueX - d0.valueX > d1.valueX - curValueX) ? d1 : d0;\r\n                });\r\n\r\n                if (Helper.isFunction(onMouseMoveCallback)) {\r\n                    onMouseMoveCallback.call(this, sameTimeValueArr);\r\n                }\r\n                \r\n                var x = self.x(sameTimeValueArr[0].valueX);\r\n                var y = self.y(sameTimeValueArr[0].valueY);\r\n\r\n                // Remove circle style before\r\n                self.selectAllCircle()[0].forEach(function(circle) {\r\n                    d3.select(circle)\r\n                        .style('fill', self.point.fill)\r\n                        .style('fill-opacity', self.point.opacity);\r\n                }); \r\n\r\n                // Update circle style after mouse move\r\n                for (let i=0; i < sameTimeValueArr.length; i++) {\r\n                    let circle = d3.select(\"circle[data-ref='\" + sameTimeValueArr[i]['data-ref'] + \"']\");\r\n                    circle\r\n                    .style('fill', 'steelblue')\r\n                    .style('fill-opacity', 1);\r\n                }\r\n\r\n                // focus.select('#focusCircle')\r\n                //     .attr('cx', x)\r\n                //     .attr('cy', y);\r\n                self.hoverLine\r\n                    .attr('x1', x).attr('y1', self.y(self.y.domain()[0]))\r\n                    .attr('x2', x).attr('y2', self.y(self.y.domain()[1]))\r\n                    .style('stroke-opacity', 1);\r\n                // self.hoverLine\r\n                //     .attr('x1', self.x(self.x.domain()[0])).attr('y1', y)\r\n                //     .attr('x2', self.x(self.x.domain()[1])).attr('y2', y)\r\n                //     .attr('stroke-opacity', 1);\r\n\r\n                //** Display Hover line\r\n                // self.hoverLine\r\n                //     .attr('x1', self.x(sameTimeValueArr[0].valueX))\r\n                //     .attr('x2', self.x(sameTimeValueArr[0].valueX))\r\n                //     .attr('stroke-opacity', 1);\r\n\r\n                tooltip.draw(sameTimeValueArr, self, 'mousemove');\r\n            }\r\n        }\r\n\r\n        selector.on(self.eventFactory);\r\n    }\r\n\r\n    getLineStyle() {\r\n        var self = this;\r\n\r\n        let r;\r\n\r\n        switch(self.line.style) {\r\n            case 'dot':\r\n                r = \"1, 1\";\r\n                break;\r\n            case 'solid':\r\n                r = 'none';\r\n                break;\r\n            case 'dash':\r\n                r = \"3, 3\";\r\n                break;\r\n            default:\r\n                r = 'none';\r\n                break;\r\n        }\r\n\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     * Custom Event Listener\r\n     * @param  {[type]}   eventType [description]\r\n     * @param  {Function} callback  [description]\r\n     * @return {[type]}             [description]\r\n     */\r\n    on(eventType, callback) {\r\n        super.on(eventType, callback);\r\n        \r\n        var self = this;\r\n        var selector    = self.selectRectLayer();\r\n\r\n        // Update Event Factory\r\n        let eventFactory = {\r\n            'mousemove.event': function(d) {\r\n\r\n                var mouse   = d3.mouse(this),\r\n                    mouseX  = mouse[0],\r\n                    mouseY  = mouse[1],\r\n\r\n                    curValueX   = self.x.invert(mouseX);\r\n\r\n                var sameTimeArr = [],\r\n                    sameTimeValueArr = [];\r\n\r\n                self.dataTarget.forEach(function(d, i) {\r\n                    sameTimeArr[i] = d.value;\r\n                    sameTimeArr[i].sort(function(a, b) { return a.valueX - b.valueX; });\r\n                    var idx = self._isTimeDomain ? self.bisectDate(sameTimeArr[i], new Date(curValueX)) : self.bisectDate(sameTimeArr[i], curValueX);\r\n                    \r\n                    var d0, d1;\r\n                    \r\n                    d0 = (idx === 0) ? sameTimeArr[i][idx] : sameTimeArr[i][idx - 1];\r\n                    d1 = sameTimeArr[i][idx];\r\n\r\n                    // work out which date value is closest to the mouse\r\n                    sameTimeValueArr[i] = (curValueX - d0.valueX > d1.valueX - curValueX) ? d1 : d0;\r\n                });\r\n\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, sameTimeValueArr);\r\n                }\r\n            }\r\n        }\r\n\r\n        let eventName = eventType + '.event';\r\n\r\n        selector.on(eventName, eventFactory[eventName]);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.LineChart.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\nimport Table from './utils/C9.Table';\r\nimport Tooltip from './utils/C9.Tooltip';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class PieChart extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n\r\n        var self = this;\r\n\r\n        var R = Math.min(self.width - self.margin.left - self.margin.right, self.height - self.margin.top - self.margin.bottom) / 2;\r\n        var config = {\r\n            radius: R,\r\n            showText: true\r\n        };\r\n\r\n        self._radius    = options.radius || config.radius;\r\n        self._showText  = options.showText || config.showText;\r\n\r\n        self.body.type  = 'pie';\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        var da = new DataAdapter(dataOption);\r\n        self.dataTarget     = da.getDataTarget(\"pie\");\r\n\r\n        self.updateConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get radius() {\r\n        return this._radius;\r\n    }\r\n\r\n    get showText() {\r\n        return this._showText;\r\n    }\r\n\r\n    get pie() {\r\n        return this._pie;\r\n    }\r\n\r\n    get arc() {\r\n        return this._arc;\r\n    }\r\n\r\n    get currentData() {\r\n        return this._currentData;\r\n    }\r\n\r\n    get chartType() {\r\n        return this._body.type;\r\n    }\r\n\r\n    get legend() {\r\n        return this._legend;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set radius(newradius) {\r\n        if (newradius) {\r\n            this._radius = newradius;\r\n        }\r\n    }\r\n\r\n    set showText(newShowText) {\r\n        if (newShowText) {\r\n            this._showText = newShowText;\r\n        }\r\n    }\r\n\r\n    set pie(arg) {\r\n        if (arg) {\r\n            this._pie = arg;\r\n        }\r\n    }\r\n\r\n    set arc(arg) {\r\n        if (arg) {\r\n            this._arc = arg;\r\n        }\r\n    }\r\n\r\n    set currentData(arg) {\r\n        if (arg) {\r\n            this._currentData = arg;\r\n        }\r\n    }\r\n\r\n    set legend(arg) {\r\n        if (arg) {\r\n            this._legend = arg;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    /**\r\n     * Update Donut Chart Config\r\n     */\r\n    updateConfig() {\r\n        var self = this;\r\n\r\n        // chartInnerAfter, chartOuterAfter define easing radius of pie chart during animation\r\n        // TODO: Add configs allow users to define these radius\r\n        var width   = self.width - self.margin.left - self.margin.right,\r\n            height  = self.height - self.margin.top - self.margin.bottom,\r\n            color   = self.colorRange,\r\n            chartInnerBefore = 0,\r\n            chartOuterBefore = self.radius,\r\n            chartInnerAfter = 0,\r\n            chartOuterAfter = self.radius * 1.2;\r\n\r\n        var hoverOptions        = self.hover.options,\r\n            hoverEnable         = self.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = self.click.callback;\r\n\r\n        var tooltip = new Tooltip(self.options.tooltip);\r\n\r\n        // Main Event Dispatch for paths in pie chart\r\n        self.eventFactory = {\r\n            'click': function(d, i) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, d);\r\n                }\r\n            },\r\n\r\n            'mouseover': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, d);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                selector.transition()\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerAfter)\r\n                            .outerRadius(chartOuterAfter)\r\n                        );\r\n\r\n                // For legend\r\n                if (self.legend.show)\r\n                    self.legend.item.each(function() {\r\n                        if (d3.select(this).attr('data-ref') !== d.data['data-ref'] && d3.select(this).attr('data-enable') == 'true') {\r\n                            d3.select(this).attr('opacity', '0.3');\r\n                        }\r\n                    });\r\n\r\n                // For Table\r\n                if (self.table.show) {\r\n                    var tr = d3.selectAll('.c9-table-container>.c9-table-body tr');\r\n                    tr.filter(function(i) { return i['data-ref'] != d.data['data-ref'] }).selectAll('td').style('opacity', '0.5');\r\n                    var selectedItem = tr.filter(function(i) { return i['data-ref'] == d.data['data-ref'] });\r\n                    //set its style and scroll to its pos\r\n                    selectedItem.selectAll('td').style('opacity', '1');\r\n                    Helper.scroll(d3.select('.c9-table-container')[0][0], selectedItem[0][0].offsetTop, 200);\r\n                }\r\n\r\n                // For Chart\r\n                self.selectAllPath().each(function(){\r\n                    if (d3.select(this).attr('data-ref') !== d.data['data-ref']) {\r\n                        d3.select(this).attr('opacity', '0.3');\r\n                    }\r\n                });\r\n\r\n                // For Tooltip\r\n                tooltip.draw(d, self, 'mouseover');\r\n            },\r\n            \r\n            'mouseout': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, d);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                selector.transition()\r\n                        .duration(500)\r\n                        .ease('bounce')\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerBefore)\r\n                            .outerRadius(chartOuterBefore)\r\n                        );\r\n\r\n                // For legend\r\n                if (self.legend.item)\r\n                    self.legend.item.each(function() {\r\n                        if (d3.select(this).attr('data-ref') !== d.data['data-ref'] && d3.select(this).attr('data-enable') == 'true') {\r\n                            d3.select(this).attr('opacity', '1.0');\r\n                        }\r\n                    });\r\n\r\n                // For Table\r\n                if (self.table.show) \r\n                    d3.selectAll('.c9-table-container>.c9-table-body tr').filter(function(i) { return i['data-ref'] != d.data['data-ref'] }).selectAll('td').style('opacity', '1');\r\n                \r\n\r\n                // For Chart\r\n                self.selectAllPath().each(function(){\r\n                    if (d3.select(this).attr('data-ref') !== d.data['data-ref']) {\r\n                        d3.select(this).attr('opacity', '1.0');\r\n                    }\r\n                });\r\n\r\n                // For Tooltip\r\n                tooltip.draw(d, self, 'mouseout');\r\n            }\r\n\r\n        };\r\n\r\n        self.arc = d3.svg.arc()\r\n                    .innerRadius(0)\r\n                    .outerRadius(self.radius);\r\n\r\n        //we can sort data here\r\n        self.pie = d3.layout.pie()\r\n                    .sort(null)\r\n                    .value(function(d) { return d.value; });\r\n\r\n        //draw chart\r\n        var arcs = self.body\r\n                    .append('g')\r\n                        .attr('class', 'c9-chart c9-custom-arc-container')\r\n                        .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\r\n                        .selectAll('.c9-chart-pie.c9-custom-arc')\r\n                        .data(self.pie(self.dataTarget)).enter()\r\n                        .append('g')\r\n                            .attr('class', 'c9-chart-pie c9-custom-arc');\r\n\r\n        // Append main path contains pie\r\n        arcs.append('path')\r\n                .attr('class', 'c9-chart-pie c9-custom-path')\r\n                .attr('data-ref', function(d) { return d.data['data-ref']; })\r\n                .attr('d', self.arc)\r\n                .attr('fill', function(d, i) { return color(i); })\r\n                .attr('stroke', '#ffffff')\r\n                .each(function(d) { self._currentData = d; }); \r\n                // Current data used for calculate interpolation \r\n                // between current arc vs disabled arc\r\n\r\n\r\n        // Append middle text display name\r\n        // if (self.showText) {\r\n        //     arcs.append('text')\r\n        //             .attr('class', 'c9-chart-pie c9-custom-text')\r\n        //             .attr('transform', function(d) { return 'translate(' + self.arc.centroid(d) + ')'; })\r\n        //             .attr('dy', '.35em')\r\n        //             .attr('text-anchor', 'middle')\r\n        //             .text(function(d) { return d.data.name; });\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * Main draw function of Donut Chart\r\n     */\r\n    draw() {\r\n\r\n        var self = this;\r\n        \r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);\r\n        var legend  = new Legend(self.options.legend, self.body, self.dataTarget);\r\n        var table   = new Table(self.options.table, self.body, self.dataTarget);\r\n\r\n        self.legend = legend;\r\n        self.table = table;\r\n        // Draw legend\r\n        legend.draw();\r\n        legend.updateInteractionForDonutPieChart(self, self.selectAllPath(), self.pie, self.currentData, self.arc);    \r\n        \r\n        // Draw table\r\n        table.draw();\r\n        table.updateInteractionForPieChart(self);\r\n        // Update interaction of this own chart\r\n        self.updateInteraction();\r\n\r\n    }\r\n\r\n    /**\r\n     * Select all path as type PATH in Donut Chart via its CLASS\r\n     */\r\n    selectAllPath() {\r\n        var self = this;\r\n\r\n        return self.body\r\n                    .selectAll('path.c9-chart-pie.c9-custom-path');\r\n    }\r\n\r\n    /**\r\n     * Update Interaction: Hover\r\n     * @return {} \r\n     */\r\n    updateInteraction() {\r\n        var self    = this,\r\n            selector= self.selectAllPath();\r\n\r\n        selector.on(self.eventFactory);\r\n    }\r\n\r\n    /**\r\n     * Custom Event Listener\r\n     * @param  {[type]}   eventType [description]\r\n     * @param  {Function} callback  [description]\r\n     * @return {[type]}             [description]\r\n     */\r\n    on(eventType, callback) {\r\n        super.on(eventType, callback);\r\n        \r\n        var self = this;\r\n        var selector    = self.selectAllPath();\r\n\r\n        // Update Event Factory\r\n        let eventFactory = {\r\n            'click.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            },\r\n            'mouseover.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            },\r\n            'mouseout.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            }\r\n        }\r\n\r\n        let eventName = eventType + '.event';\r\n\r\n        selector.on(eventName, eventFactory[eventName]);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.PieChart.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\nimport Table from './utils/C9.Table';\r\nimport Tooltip from './utils/C9.Tooltip';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class TimeLine extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n        var self = this;\r\n\r\n        var config = {\r\n            rowSeparator: \"rgb(154, 154, 154)\",\r\n            backgroundColor: null,\r\n            starting: 0,\r\n            ending: 0,\r\n            stack: false, //test\r\n            // rotateTicks: false,\r\n            itemHeight: 25,\r\n            itemMargin: 20,\r\n            labelMargin: 20,\r\n            striped: null\r\n        };\r\n\r\n        self.body.type        = \"timeline\";\r\n        self._stack             = options.stack || config.stack;\r\n        self._starting          = options.starting || config.starting;\r\n        self._ending            = options.ending || config.ending;\r\n        self._rowSeparator      = options.rowSeparator || config.rowSeparator;\r\n        self._backgroundColor   = options.backgroundColor || config.backgroundColor;\r\n        self._itemHeight        = options.itemHeight || config.itemHeight;\r\n        self._itemMargin        = options.itemMargin || config.itemMargin;\r\n        self._labelMargin       = options.labelMargin || config.labelMargin;\r\n        self._maxStack          = 1;\r\n        self._striped           = options.striped || config.striped;\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        var da = new DataAdapter(dataOption);\r\n        self.dataTarget = da.getDataTarget(\"timeline\");\r\n\r\n        self.updateConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get stack() {\r\n        return this._stack;\r\n    }\r\n\r\n    get backgroundColor() {\r\n        return this._backgroundColor;\r\n    }\r\n\r\n    get rowSeparator() {\r\n        return this._rowSeparator;\r\n    }\r\n\r\n    get starting() {\r\n        return this._starting;\r\n    }\r\n\r\n    get ending() {\r\n        return this._ending;\r\n    }\r\n\r\n    get itemHeight() {\r\n        return this._itemHeight;\r\n    }\r\n\r\n    get itemMargin() {\r\n        return this._itemMargin;\r\n    }\r\n\r\n    get labelMargin() {\r\n        return this._labelMargin;\r\n    }\r\n\r\n    get maxStack() {\r\n        return this._maxStack;\r\n    }\r\n\r\n    get striped() {\r\n        return this._striped;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set stack(newStack) {\r\n        if (newStack) {\r\n            this._stacked = newStack;\r\n        }\r\n    }\r\n\r\n    set backgroundColor(newBackgroundColor) {\r\n        if (newBackgroundColor) {\r\n            this._backgroundColor = newBackgroundColor;\r\n        }\r\n    }\r\n\r\n    set rowSeparator(newRowSeparator) {\r\n        if (newRowSeparator) {\r\n            this._rowSeparator = newRowSeparator;\r\n        }\r\n    }\r\n\r\n    set starting(newStarting) {\r\n        if (newStarting) {\r\n            this._starting = newStarting;\r\n        }\r\n    }\r\n\r\n    set ending(newEnding) {\r\n        if (newEnding) {\r\n            this._ending = newEnding;\r\n        }\r\n    }\r\n\r\n    set itemHeight(newItemHeight) {\r\n        if (newItemHeight) {\r\n            this._itemHeight = newItemHeight;\r\n        }\r\n    }\r\n\r\n    set itemMargin(newItemMargin) {\r\n        if (newItemMargin) {\r\n            this._itemMargin = newItemMargin;\r\n        }\r\n    }\r\n\r\n    set labelMargin(newLabelMargin) {\r\n        if (newLabelMargin) {\r\n            this._labelMargin = newLabelMargin;\r\n        }\r\n    }\r\n\r\n    set maxStack(newMaxStack) {\r\n        if (newMaxStack) {\r\n            this._maxStack = newMaxStack;\r\n        }\r\n    }\r\n\r\n    set striped(newStriped) {\r\n        if (newStriped) {\r\n            this._striped = newStriped;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n\r\n    updateConfig() {\r\n        var self = this;\r\n\r\n        var color = self.colorRange;\r\n\r\n        var stackList = {},\r\n            maxStack = 0,\r\n            minTime = 0,\r\n            maxTime = 0,\r\n            width = self.width - self.margin.left - self.margin.right,\r\n            height = self.height - self.margin.top - self.margin.bottom;\r\n\r\n        var hoverOptions        = self.hover.options,\r\n            hoverEnable         = self.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = self.click.callback;\r\n\r\n        // Update Tooltip options for Timeline Chart\r\n        self.options.tooltip = {\r\n            show: true,\r\n            position: 'left', // [top, right, bottom, left]\r\n            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n            fontColor: '#fff',\r\n            fontSize: '11px',\r\n            format: null\r\n        };\r\n\r\n        var tooltip = new Tooltip(self.options.tooltip);\r\n\r\n        // Main Event Dispatch for paths in pie chart\r\n        self._eventFactory = {\r\n            'click': function(d, i) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, d);\r\n                }\r\n            },\r\n\r\n            'mouseover': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, d);\r\n                }\r\n\r\n                // var selector = d3.select(this);\r\n                // selector.transition()\r\n                //         .attr('d', d3.svg.arc()\r\n                //             .innerRadius(chartInnerAfter)\r\n                //             .outerRadius(chartOuterAfter)\r\n                //         )\r\n                //         // .style('stroke', '#FFFFF3')\r\n                //         .attr('fill-opacity', '1.0');\r\n\r\n                tooltip.draw(d, self, 'mouseover');\r\n            },\r\n            \r\n            'mouseout': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, d);\r\n                }\r\n\r\n                // var selector = d3.select(this);\r\n                // selector.transition()\r\n                //         .duration(500)\r\n                //         .ease('bounce')\r\n                //         .attr('d', d3.svg.arc()\r\n                //             .innerRadius(chartInnerBefore)\r\n                //             .outerRadius(chartOuterBefore)\r\n                //         )\r\n                //         // .style('stroke', '#ffffff')\r\n                //         .attr('fill-opacity', '0.5');\r\n\r\n                tooltip.draw(d, self, 'mouseout');\r\n            }\r\n\r\n        };\r\n\r\n        // count number of stack and calculate min time, max time from data\r\n        if (self.stack || self.ending === 0 || self.starting === 0) {\r\n            \r\n            self.dataTarget.forEach(function (datum, index) {\r\n\r\n                if (self.stack && Object.keys(stackList).indexOf(index) == -1) {\r\n                    stackList[index] = maxStack;\r\n                    maxStack++;\r\n                }\r\n\r\n                datum.value.forEach(function (time, i) {\r\n                    if(self.starting === 0)\r\n                        if (time.start < minTime || minTime === 0)\r\n                            minTime = time.start;\r\n                    if(self.ending === 0) {\r\n                        if (time.start > maxTime)\r\n                            maxTime = time.start;\r\n                        if (time.end > maxTime)\r\n                            maxTime = time.end;\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (self.ending === 0) {\r\n              self.ending = maxTime;\r\n            }\r\n            if (self.starting === 0) {\r\n              self.starting = minTime;\r\n            }\r\n        }\r\n\r\n        self.maxStack = maxStack;\r\n        var scale = width / (self.ending - self.starting);\r\n\r\n        //draw border\r\n        self.body.append(\"rect\")\r\n            .attr(\"class\", \"c9-timeline-border-bar\")\r\n            .attr(\"x\", 0)\r\n            .attr(\"width\", width)\r\n            .attr(\"y\", 0 - self.itemMargin / 2)\r\n            .attr(\"height\", (self.itemHeight + self.itemMargin) * self.dataTarget.length)\r\n            .attr(\"stroke\", \"rgb(154, 154, 154)\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"none\");\r\n\r\n        self.dataTarget.forEach( function(datum, index){\r\n            var data = datum.value;\r\n\r\n            //draw background\r\n            if (self.backgroundColor) { \r\n                var barYAxis = ((self.itemHeight + self.itemMargin) * stackList[index]);\r\n                self.body.selectAll(\"g\")\r\n                    .data(data).enter()\r\n                    .insert(\"rect\")\r\n                    .attr(\"class\", \"c9-timeline-background-bar\")\r\n                    .attr(\"x\", 0)\r\n                    .attr(\"width\", width)\r\n                    .attr(\"y\", barYAxis - self.itemMargin / 2)\r\n                    .attr(\"height\", self.itemHeight + self.itemMargin)\r\n                    .attr(\"fill\", Helper.isArray(self.backgroundColor) ? self.backgroundColor[index % (self.maxStack - 1)] : self.backgroundColor);\r\n            }\r\n\r\n            if (self.striped) { \r\n                var barYAxis = ((self.itemHeight + self.itemMargin) * stackList[index]);\r\n                self.body.selectAll(\"g\")\r\n                    .data(data).enter()\r\n                    .insert(\"rect\")\r\n                    .attr(\"class\", \"c9-timeline-background-bar\")\r\n                    .attr(\"x\", 0)\r\n                    .attr(\"width\", width)\r\n                    .attr(\"y\", barYAxis - self.itemMargin / 2)\r\n                    .attr(\"height\", self.itemHeight + self.itemMargin)\r\n                    .attr(\"fill\", index % 2 ? \"rgb(255, 255, 255)\" : \"rgb(230, 230, 230)\");\r\n            }\r\n\r\n            //draw item\r\n            self.body.selectAll(\"g\")\r\n                .data(data).enter()\r\n                .append(function (d, i) {\r\n                    return document.createElementNS(d3.ns.prefix.svg, d.end != \"Invalid Date\" ? \"rect\" : \"circle\");\r\n                })\r\n                .attr('class', 'c9-timeline-custom-rect')\r\n                .attr(\"x\", getXPos)\r\n                .attr(\"y\", getStackPosition)\r\n                .attr(\"width\", function (d, i) {\r\n                    return (d.end - d.start) * scale;\r\n                })\r\n                .attr(\"cy\", function (d, i) {\r\n                    return getStackPosition(d, i) + self.itemHeight / 2;\r\n                })\r\n                .attr(\"cx\", getXPos)\r\n                .attr(\"r\", self.itemHeight / 2)\r\n                .attr(\"height\", self.itemHeight)\r\n                .style(\"fill\", color(index));\r\n\r\n            if (self.rowSeparator && index < self.maxStack - 1) {\r\n                var lineYAxis = ( self.itemHeight + self.itemMargin / 2 + (self.itemHeight + self.itemMargin) * stackList[index]);\r\n                self.body.append(\"svg:line\")\r\n                  .attr(\"class\", \"c9-timeline-row-separator\")\r\n                  .attr(\"x1\", 0)\r\n                  .attr(\"x2\", width)\r\n                  .attr(\"y1\", lineYAxis)\r\n                  .attr(\"y2\", lineYAxis)\r\n                  .attr(\"stroke-width\", 3)\r\n                  .attr(\"stroke\", Helper.isArray(self.rowSeparator) ? self.rowSeparator[index % (self.maxStack - 1)] : self.rowSeparator);\r\n            }\r\n\r\n            //draw the label left side item\r\n            if (!Helper.isEmpty(datum.name) && datum.name != \"\") { \r\n                var rowsDown = self.margin.top + (self.itemHeight + self.itemMargin) * (stackList[index] === undefined ? 0 : stackList[index]) + self.itemHeight * 0.75;\r\n\r\n                d3.select(self.body[0][0].parentNode).append(\"text\")\r\n                    .attr(\"class\", \"c9-timeline-label\")\r\n                    .attr(\"transform\", \"translate(\" + self.labelMargin + \",\" + rowsDown + \")\")\r\n                    .text(datum.name);\r\n            }\r\n            //draw icon\r\n            else if (!Helper.isEmpty(datum.icon) && datum.icon != \"\") {\r\n                d3.select(self.body[0][0].parentNode).append(\"image\")\r\n                    .attr(\"class\", \"c9-timeline-label\")\r\n                    .attr(\"transform\", \"translate(\"+ self.labelMargin +\",\"+ (self.margin.top + (self.itemHeight + self.itemMargin) * stackList[index])+\")\")\r\n                    .attr(\"xlink:href\", datum.icon)\r\n                    .attr(\"width\", self.itemHeight)\r\n                    .attr(\"height\", self.itemHeight);\r\n            }\r\n\r\n            function getStackPosition(d, i) {\r\n                if (self.stack) {\r\n                    return (self.itemHeight + self.itemMargin) * stackList[index];\r\n                }\r\n                return 0;\r\n            }\r\n            function getStackTextPosition(d, i) {\r\n                if (self.stack) {\r\n                    return (self.itemHeight + self.itemMargin) * stackList[index] + self.itemHeight * 0.75;\r\n                }\r\n                return self.itemHeight * 0.75;\r\n            }\r\n        });\r\n\r\n        function getXPos(d, i) {\r\n            return (d.start - self.starting) * scale;\r\n        }\r\n\r\n        function getXTextPos(d, i) {\r\n            return (d.start - self.starting) * scale + 5;\r\n        }\r\n    }\r\n\r\n    draw() {\r\n        var self = this;\r\n        \r\n        self.options.axis.starting = self.starting;\r\n        self.options.axis.ending = self.ending;\r\n        var axis    = new Axis(self.options.axis, self.body, self.dataTarget, self.width - self.margin.left - self.margin.right, (self.itemHeight + self.itemMargin) * self.maxStack, null, null);\r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);    \r\n        var legend  = new Legend(self.options.legend, self.body, self.colorRange, self.dataTarget);\r\n\r\n        self.updateInteraction();\r\n    }\r\n\r\n    /**\r\n     * Select all path as type RECT in Timeline Chart via its CLASS\r\n     */\r\n    selectAllRect() {\r\n        var self = this;\r\n\r\n        return self.body\r\n                    .selectAll('.c9-timeline-custom-rect');\r\n    }\r\n\r\n    /**\r\n     * Update Interaction: Hover\r\n     * @return {} \r\n     */\r\n    updateInteraction() {\r\n        var self    = this,\r\n            selector= self.selectAllRect();\r\n\r\n        selector.on(self.eventFactory);\r\n    }\r\n\r\n    /**\r\n     * Custom Event Listener\r\n     * @param  {[type]}   eventType [description]\r\n     * @param  {Function} callback  [description]\r\n     * @return {[type]}             [description]\r\n     */\r\n    on(eventType, callback) {\r\n        super.on(eventType, callback);\r\n        \r\n        var self = this;\r\n        var selector    = self.selectAllRect();\r\n\r\n        // Update Event Factory\r\n        let eventFactory = {\r\n            'click.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            },\r\n            'mouseover.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            },\r\n            'mouseout.event': function(d) {\r\n                if (Helper.isFunction(callback)) {\r\n                    callback.call(this, d);\r\n                }\r\n            }\r\n        }\r\n\r\n        let eventName = eventType + '.event';\r\n\r\n        selector.on(eventName, eventFactory[eventName]);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.TimeLine.js\n **/","export default class Map {\r\n    constructor(options) {\r\n        var self    = this;\r\n        var config  = {\r\n            // container\r\n            id: \"body\",\r\n            \r\n            // Layers:\r\n            // BingMaps, OSM, Raster, Tile, TileImage, Vector, VectorTile,...\r\n            // REF: http://openlayers.org/en/latest/apidoc/ol.source.html?stableonly=true\r\n            layers: {\r\n                type: \"Tile\",\r\n                source: {\r\n                    name: \"OSM\"\r\n                }\r\n            }, \r\n            view: {\r\n                lat: 0,\r\n                lon: 0,\r\n                zoom: 2\r\n            }\r\n        };\r\n\r\n        self._id        = options.id        || config.id;\r\n        self._data      = options.data      || config.data;\r\n        self._view      = options.view      || config.view;\r\n        self._markers   = options.markers   || [];\r\n        self._options   = options;\r\n        self._layers    = options.layers    || config.layers;\r\n        self.initMapConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    get view() {\r\n        return this._view;\r\n    }\r\n\r\n    get markers() {\r\n        return this._markers;\r\n    }\r\n\r\n    get layers() {\r\n        return this._layers;\r\n    }\r\n\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n    \r\n    \r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n\r\n    set id(newId) {\r\n        if (newId) {\r\n            this._id = newId;\r\n        }\r\n    }\r\n\r\n    set height(newHeight) {\r\n        if (newHeight) {\r\n            this._height = newHeight;    \r\n        }\r\n    }\r\n\r\n    set width(newWidth) {\r\n        if (newWidth) {\r\n            this._width = newWidth;\r\n        }\r\n    }\r\n\r\n    set view(newView) {\r\n        if (newView) {\r\n            this._view = newView;\r\n        }\r\n    }\r\n\r\n    set markers(newMarkers) {\r\n        if (newMarkers) {\r\n            this._markers = newMarkers;\r\n        }\r\n    }\r\n\r\n    set layers(newLayers) {\r\n        if (newLayers) {\r\n            this._layers = newLayers;\r\n        }\r\n    }\r\n\r\n    set data(newData) {\r\n        if (newData) {\r\n            this._data = newData;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    \r\n    initMapConfig() {\r\n        var self = this;\r\n\r\n        //c9Layers contain all layers\r\n        self.c9Layers = [];\r\n        //c9Markers contain all markers\r\n        self.c9Markers = new ol.source.Vector({});\r\n        //c9Objects contain all polygons, lines\r\n        self.c9Objs = new ol.source.Vector({});\r\n        //init all thing relating to user's data\r\n\r\n        //layer\r\n        self.initLayer();\r\n        \r\n        //quick markers\r\n        self.initMarker();\r\n\r\n        //object\r\n        self.initObj();\r\n    }\r\n\r\n    draw() {\r\n        var self = this;\r\n        self.c9View = new ol.View({\r\n            center: ol.proj.fromLonLat([self.view.lon, self.view.lat]),\r\n            zoom: self.view.zoom > 2 ? self.view.zoom : 2,\r\n            minZoom: 2,\r\n        });\r\n        self.c9Map = new ol.Map({\r\n            target: self.id,\r\n            layers: self.c9Layers,\r\n            view: self.c9View,\r\n            interactions : ol.interaction.defaults({doubleClickZoom :false})\r\n        });\r\n\r\n        //TODO - Create a function to gather all these event function\r\n        self.updateInteraction();\r\n\r\n    }\r\n    /*=====  End of Main Functions  ======*/\r\n\r\n    /**\r\n     * Create layer\r\n     * @param  {String} type of layer\r\n     * @param  {source} source data defined by C9\r\n     */\r\n    createLayer(type, source = undefined){\r\n        var self = this;\r\n        var layer = new ol.layer[type];\r\n        layer.setSource(self.setupSource(source));\r\n        self.c9Layers.push(layer);\r\n    }\r\n\r\n    /**\r\n     * Init Layer base on first user's data\r\n     */\r\n    initLayer() {\r\n        var self = this;\r\n        var layers = self.layers;\r\n\r\n        if (layers instanceof Array) {\r\n            layers.forEach(function(l, i) {\r\n                self.createLayer(l.type, l.source);\r\n            })\r\n        }\r\n        else {\r\n            self.createLayer(layers.type, layers.source);\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    /**\r\n     * Create marker\r\n     * @param  {Number} latitude of marker\r\n     * @param  {Number} longitude of marker\r\n     * @param  {String} image source (support for both local and net)\r\n     * @param  {Number} scale image if its size is too large - default = 1\r\n     */\r\n    createMarker(lat, lon, imgSrc = 'http://s21.postimg.org/blklb8scn/marker_icon.png', scale = 1){\r\n        var self = this;\r\n\r\n        var marker = new ol.Feature({\r\n            type: 'c9GeoMarker',\r\n            geometry: new ol.geom.Point(ol.proj.fromLonLat([lon, lat]))\r\n        });\r\n\r\n        /**\r\n         * Create marker style\r\n         * @param  {String} image source\r\n         * @param  {Number} scale\r\n         * @return {ol.style.Style} return marker style\r\n         */\r\n        var createMarkerStyle = function(imgSrc, scale){\r\n            return new ol.style.Style({\r\n                image: new ol.style.Icon({\r\n                    anchor: [0.5, 1], //middle-width and bottom-height of image\r\n                    src: imgSrc,\r\n                    scale: scale\r\n                })\r\n            });\r\n        }\r\n\r\n        marker.setStyle(createMarkerStyle(imgSrc, scale));\r\n\r\n        //add this marker to marker list (c9Markers)\r\n        self.c9Markers.addFeature(marker);\r\n    }\r\n\r\n    /**\r\n     * marker first set up\r\n     */\r\n    initMarker() {\r\n        var self = this;\r\n        //data\r\n        var markers = self.markers;\r\n        //add marker layer to layer list (c9Layers)\r\n        self.c9Layers.push(new ol.layer.Vector({\r\n            source: self.c9Markers\r\n        }));\r\n\r\n        if (markers.length === 0) return;\r\n\r\n        if (markers instanceof Array) {\r\n            markers.forEach(function(m, i) {\r\n                self.createMarker(m.lat, m.lon, m.img, m.scale);\r\n            });\r\n        }\r\n        else {\r\n            self.createMarker(markers.lat, markers.lon, markers.img, markers.scale);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Setup source for layer\r\n     * @param  {Object} source data style defined by c9\r\n     * @return {String} return source (ol.source)\r\n     */\r\n    setupSource(s){\r\n        var source = undefined;\r\n        switch (s.name) {\r\n            case 'BingMaps':\r\n                source = new ol.source.BingMaps({\r\n                    key: s.key,\r\n                    imagerySet: s.imagerySet || 'Road'\r\n                });\r\n                break;\r\n            case 'Stamen':\r\n                source = new ol.source.Stamen({\r\n                    layer: s.layer || 'watercolor'\r\n                });\r\n                break;\r\n            /********** TileJSON require ol >= v3.8.2 **********/\r\n            case 'TileJSON':\r\n                source = new ol.source.TileJSON({\r\n                    url: s.url,\r\n                    crossOrigin: s.crossOrigin || 'anonymous'\r\n                });\r\n                break;\r\n            case 'TileArcGISRest':\r\n                source = new ol.source.TileArcGISRest({\r\n                    url: s.url\r\n                });\r\n                break;\r\n            case 'Vector':\r\n                source = new ol.source.Vector({\r\n                    url: s.url,\r\n                    format: s.format === undefined ? null : new ol.format[s.format]({\r\n                        extractStyles: s.extractStyles || false\r\n                    })\r\n                });\r\n                break;\r\n            case 'Cluster':\r\n                source = new ol.source.Cluster({\r\n                    distance: s.distance || 20,\r\n                    source: this.setupSource(s.source)\r\n                });\r\n                break;\r\n            case 'ImageVector':\r\n                source = new ol.source.ImageVector({\r\n                    source: this.setupSource(s.source)\r\n                });\r\n                break;\r\n            default: \r\n                source = new ol.source.OSM();\r\n                break;\r\n\r\n        }\r\n        return source;\r\n    }\r\n\r\n    /**\r\n     * Create marker's flash effect\r\n     * @param  {ol.Feature}\r\n     */\r\n    createMarkerEffect(feature){\r\n        var self = this;\r\n        var duration = 3000;\r\n        var start = new Date().getTime();\r\n        var listenerKey;\r\n\r\n        function animate(event) {\r\n            var vectorContext = event.vectorContext;\r\n            var frameState = event.frameState;\r\n            var flashGeom = feature.getGeometry().clone();\r\n            var elapsed = frameState.time - start;\r\n            var elapsedRatio = elapsed / duration;\r\n            // radius will be 5 at start and 30 at end.\r\n            var radius = ol.easing.easeOut(elapsedRatio) * 25 + 5;\r\n            var opacity = ol.easing.easeOut(1 - elapsedRatio);\r\n\r\n            var style = new ol.style.Style({\r\n                image: new ol.style.Circle({\r\n                    radius: radius,\r\n                    snapToPixel: false,\r\n                    stroke: new ol.style.Stroke({\r\n                        color: 'rgba(255, 0, 0, ' + opacity + ')',\r\n                        width: 0.25 + opacity\r\n                    })\r\n                })\r\n            });\r\n\r\n            vectorContext.setStyle(style);\r\n            vectorContext.drawGeometry(flashGeom);\r\n            if (elapsed > duration) {\r\n                ol.Observable.unByKey(listenerKey);\r\n                return;\r\n            }\r\n            // tell OL3 to continue postcompose animation\r\n            self.c9Map.render();\r\n        }\r\n        listenerKey = self.c9Map.on('postcompose', animate);\r\n    }\r\n\r\n    updateInteraction(){\r\n        var self = this;\r\n        const LEFT_KEY = 37, RIGHT_KEY = 39, DURATION = 1000, LOAD_MAP_DELAY = 500;\r\n\r\n        var getCoordinatesLonLat = function(f) {\r\n            return ol.proj.transform(f.getGeometry().getCoordinates(), 'EPSG:3857', 'EPSG:4326');\r\n        }\r\n        var getCoordinates = function(f) {\r\n            return f.getGeometry().getCoordinates();\r\n        }\r\n        var transformCoordinates = function(c) {\r\n            return ol.proj.transform(c, 'EPSG:3857', 'EPSG:4326');\r\n        }\r\n        var panAnimation = function(f){\r\n            var pan = ol.animation.pan({\r\n                duration: DURATION,\r\n                source: (self.c9View.getCenter())\r\n            });\r\n            self.c9Map.beforeRender(pan);\r\n            self.c9View.setCenter(getCoordinates(f));\r\n        }\r\n        /**\r\n         * Caculate distance between marker and center view, plus direction compare with center\r\n         * @param  {ol.Feature}\r\n         * @return {[Number, Boolean]} Array of distance value and direction value (left if true, right if false)\r\n         */\r\n        var distanceAndDirection = function(f) {\r\n            var center = transformCoordinates(self.c9View.getCenter());\r\n            var fCoordinates = getCoordinatesLonLat(f);\r\n            return [Math.sqrt(Math.pow(fCoordinates[0] - center[0], 2) + Math.pow(fCoordinates[1] - center[1], 2)), (fCoordinates[0] - center[0]) <= 0];\r\n        }\r\n        //register pointer move event to show cursor as pointer if user hover on markers\r\n        self.c9Map.on('pointermove', function(evt) {\r\n            self.c9Map.getTargetElement().style.cursor = self.c9Map.hasFeatureAtPixel(evt.pixel) ? 'pointer' : '';\r\n        });\r\n\r\n        //register map first render's event to show marker's effect\r\n        self.c9Map.once('postrender', function(evt) {\r\n            setTimeout(function(){\r\n                self.c9Markers.getFeatures().forEach(function(f, i){\r\n                    self.createMarkerEffect(f);\r\n                })\r\n            }, LOAD_MAP_DELAY);\r\n        });\r\n\r\n        //register click event to show effect on markers\r\n        self.c9Map.on('click', function(evt){\r\n            var f = self.c9Map.forEachFeatureAtPixel(evt.pixel, function(feature, layer){\r\n                return feature;\r\n            });\r\n            if (f && f.get('type') == 'c9GeoMarker') {\r\n                // self.createMarkerEffect(f);\r\n                //test\r\n                panAnimation(f)\r\n            }\r\n        });\r\n\r\n        //register keydown event to change center view\r\n        $(document).keydown(function(e) {\r\n            var keydownAnimate = function(k) {\r\n                var selectedFeature = undefined;\r\n                var minDistance = Infinity;\r\n                self.c9Markers.getFeatures().forEach(function(f, i) {\r\n                    var checkAnimate = distanceAndDirection(f);\r\n\r\n                    if (((checkAnimate[1] && k == LEFT_KEY) || (!checkAnimate[1] && k == RIGHT_KEY)) && checkAnimate[0] < minDistance && checkAnimate[0] != 0) {\r\n                        minDistance = checkAnimate[0];\r\n                        selectedFeature = f;\r\n                    }\r\n                });\r\n                if (selectedFeature) {\r\n                    setTimeout(self.createMarkerEffect(selectedFeature), LOAD_MAP_DELAY);\r\n                    panAnimation(selectedFeature);\r\n                }\r\n            }\r\n            switch(e.keyCode) {\r\n                case LEFT_KEY:\r\n                    keydownAnimate(LEFT_KEY);\r\n                    break;\r\n                case RIGHT_KEY:\r\n                    keydownAnimate(RIGHT_KEY);\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * obj first set up\r\n     */\r\n    initObj() {\r\n        var self = this;\r\n\r\n        //add layer Vector to layer list (c9Layers)\r\n        self.c9Layers.push(new ol.layer.Vector({\r\n            source: self.c9Objs\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * [createObj description]\r\n     * @param  {[type]} type        [description]\r\n     * @param  {[type]} data        [description]\r\n     * @param  {[type]} strokeWidth [description]\r\n     * @param  {[type]} strokeColor [description]\r\n     * @param  {[type]} fillColor   [description]\r\n     * @return {[type]}             [description]\r\n     */\r\n    createObj(type, data, strokeWidth, strokeColor, fillColor){\r\n        var self = this;\r\n\r\n        if (type != \"polygon\" && type != \"line\")\r\n            throw \"No support\";\r\n\r\n        if (data == self.c9Markers) {\r\n            data = [];\r\n            self.c9Markers.getFeatures().forEach(function (d) {\r\n                data.push(ol.proj.transform(d.getGeometry().getCoordinates(), 'EPSG:3857', 'EPSG:4326'));\r\n            })\r\n        }\r\n\r\n        var obj = new ol.Feature({\r\n            geometry: type == \"polygon\" ? new ol.geom.Polygon([data]) : new ol.geom.LineString(data, 'XY')\r\n        });\r\n\r\n        obj.getGeometry().transform('EPSG:4326', 'EPSG:3857');\r\n\r\n        /**\r\n         * Create obj style\r\n         * @param  {Number} stroke width\r\n         * @param  {String} stroke color\r\n         * @param  {String} fill color\r\n         * @return {ol.style.Style} return obj style\r\n         */\r\n        var createObjStyle = function(strokeWidth, strokeColor, fillColor){\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    width: strokeWidth || 2,\r\n                    color: strokeColor || \"steelblue\"\r\n                }),\r\n                fill: new ol.style.Fill({\r\n                    color: fillColor || \"rgba(0, 0, 255, 0.2)\"\r\n                })\r\n            });\r\n        }\r\n\r\n        obj.setStyle(createObjStyle(strokeWidth, strokeColor, fillColor));\r\n\r\n        //add this marker to marker list (c9Markers)\r\n        self.c9Objs.addFeature(obj);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/map/C9.Map.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/C9.css\n ** module id = 15\n ** module chunks = 0\n **/"],"sourceRoot":""}