{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9e4012c186fde2739e7d","webpack:///./src/index.js","webpack:///./src/charts/C9.BarChart.js","webpack:///./src/charts/C9.Chart.js","webpack:///./src/helper/C9.Helper.js","webpack:///./src/charts/utils/C9.Axis.js","webpack:///./src/charts/utils/C9.Title.js","webpack:///./src/charts/utils/C9.Legend.js","webpack:///./src/charts/utils/C9.Tooltip.js","webpack:///./src/helper/C9.DataAdapter.js","webpack:///./src/charts/C9.DonutChart.js","webpack:///./src/charts/C9.LineChart.js","webpack:///./src/charts/C9.PieChart.js","webpack:///./src/charts/utils/C9.Table.js","webpack:///./src/charts/C9.TimeLine.js","webpack:///./src/map/C9.Map.js","webpack:///./src/C9.css"],"names":["module","exports","BarChart","DonutChart","LineChart","PieChart","TimeLine","Map","DataAdapter","options","self","config","barWidth","undefined","width","margin","left","right","height","top","bottom","body","type","dataOption","colorRange","da","dataTarget","getDataTarget","barChartType","getDataTypeForBarChart","_groupNames","groups","stacks","_isGroup","x","d3","scale","ordinal","rangeRoundBands","y","isLogaric","log","range","linear","minMax","getMinMax","domain","map","d","name","min","max","_xGroup","rangeBand","_barWidth","_x","_y","updateConfig","color","xGroup","bar","selectAll","data","enter","append","attr","bars","style","i","isGroup","group","y1","Math","abs","y0","groupNames","groupNamesOld","newLabel","groupType","axis","update","xGroupOld","midGroup","length","indexOf","exit","remove","transition","duration","updateInteraction","title","legend","draw","updateInteractionForBarChart","lower","upper","d1","floor","toString","split","d2","toFixed","hoverEnable","hover","enable","hoverOptions","selector","selectAllBar","onMouseOverCallback","onMouseOver","callback","onMouseOutCallback","onMouseOut","onClickCallback","click","div","text_1","text_2","eventFactory","isFunction","call","fadeIn","retrieveValue","text","fadeOut","on","newBarWidth","_colorRange","err","newBarColor","_groupType","newGroupType","newX","newY","newXGroup","newGroupNames","_body","Chart","id","template","console","dir","legendShow","legendPosition","legendInsetAnchor","legendPadding","tooltip","show","position","backgroundColor","fontColor","format","value","table","container","headings","serial","plain","file","url","keys","time","_id","_width","_height","_margin","merge","_hover","_click","_eventFactory","_dataOption","_dataTarget","_svg","_options","initConfig","select","svg","_container","newContainer","newId","newWidth","newHeight","newColorRange","newMargin","arg","newSvg","newBody","newOptions","newHover","Helper","each","loopable","reverse","len","isArray","Object","setValue","key","setPrefix","constPrefix","isEmpty","Util","isObject","object","array","Array","prototype","func","obj1","obj2","obj3","attrname","get","_key","_data","_keys","_current","_fun","filter","arr","sum","reduce","a","b","guid","replace","c","r","random","v","dataOld","_temp","_min","_max","forEach","s","push","_newMin","_newMax","Axis","xAxisShow","xAxisPadding","xAxisText","yAxisShow","yAxisPadding","yAxisText","numOfTickY","tickFormat","y2AxisShow","y2AxisPadding","y2AxisText","gridXShow","gridYShow","_xAxisShow","_xAxisPadding","_xAxisText","_yAxisShow","_yAxisPadding","_yAxisText","_isLogaricVariant","_tickFormat","_numOfTickY","_y2AxisShow","_y2AxisPadding","_y2AxisText","_gridXShow","_gridYShow","xScale","starting","ending","_xAxis","orient","tickSize","ticks","hours","tickTime","tickInterval","_yAxis","innerTickSize","outerTickSize","newXAxis","newYAxis","newXAxisShow","newXAxisPadding","newYAxisShow","newYAxisPadding","newIsLogaricVariant","newY2AxisShow","newY2AxisPadding","Title","titleShow","titleText","titlePosition","titleSize","_titleShow","_titleText","_titlePosition","_titleSize","parentNode","node","getComputedTextLength","setYLocation","newTitleShow","newTitleText","newTitlePosition","newTitleSize","newtitleSize","Legend","legendBox","legendSize","legendTextSize","legendMargin","legendSpace","_legendShow","_legendTextSize","_legendPosition","_legendSize","_legendBox","_legendMargin","_legendSpace","legendDomain","p","nest","entries","values","legendContainer","legendItem","chart","legendItemEventFactory","item","dataSet","totalEnable","legendSelector","path","pie","currentData","arc","chartType","chartInnerBefore","innerRadius","chartOuterBefore","radius","outerRadius","chartInnerAfter","chartOuterAfter","attrTween","interpolate","t","ease","dataBackup","enableSet","enableSetOld","element","j","e","updateLegendInteraction","_color","newlegendShow","_legendText","newlegendText","newlegendPosition","newlegendSize","_legendItem","newLegendItem","_legendDomain","newLegendDomain","_legendItemEventFactory","newLegendItemEventFactory","Tooltip","fontSize","trianglePosition","detail","_show","_position","_backgroundColor","_fontColor","_fontSize","_trianglePosition","_format","eventType","divOnHover","getTriangleClass","html","event","pageX","pageY","mouseover","mouseout","_groups","_stacks","_dataSource","_dataRefs","initDataSource","hasPlainData","executePlainData","hasFile","executeFile","_file","getCsv","getTsv","getText","getJson","getXml","getDataTargetForBarChart","getDataTargetForLineChart","getDataTargetForPieChart","getDataTargetForDonutChart","getDataTargetForTimelineChart","dataSource","index","_stack","_dsArray","_stackItem","_negBase","_posBase","icon","_valueArray","_valueItem","start","end","csv","tsv","JSON","parse","json","xml","querySelectorAll","querySelector","textContent","R","showText","_outerRadius","_innerRadius","_showText","mouse","tooltipEventFactory","layout","sort","arcs","_currentData","updateInteractionForDonutPieChart","selectAllPath","newOuterRadius","newInnerRadius","newShowText","_tooltip","newTooltip","_pie","newPie","_arc","newArc","newCurrentData","pointShow","pointFill","pointStroke","pointOpacity","pointRadius","pointHoverEnable","_pointShow","_pointRadius","_pointFill","_pointStroke","_pointOpacity","_pointHoverEnable","_interpolate","_dataGroup","dataGroup","lineGen","line","_d","updateInteractionForLineChart","selectAllCircle","newPointShow","newPointFill","newPointStroke","newPointOpacity","newPointRadius","newPointHoverEnable","newInterpolate","newDataGroup","_radius","newradius","Table","_headings","_style","_serial","headTbl","thead","bodyTbl","tbody","hRows","bRows","rowSeparator","stack","itemHeight","itemMargin","labelMargin","striped","_starting","_ending","_rowSeparator","_itemHeight","_itemMargin","_labelMargin","_maxStack","_striped","initTimelineConfig","stackList","maxStack","minTime","maxTime","datum","barYAxis","insert","document","createElementNS","ns","prefix","getXPos","getStackPosition","lineYAxis","rowsDown","getStackTextPosition","getXTextPos","newStack","_stacked","newBackgroundColor","newRowSeparator","newStarting","newEnding","newItemHeight","newItemMargin","newLabelMargin","newMaxStack","newStriped","layers","source","view","lat","lon","zoom","_view","_markers","markers","_layers","initMapConfig","c9Layers","c9Markers","ol","Vector","c9Objs","initLayer","initMarker","initObj","c9View","View","center","proj","fromLonLat","minZoom","c9Map","target","interactions","interaction","defaults","doubleClickZoom","layer","setSource","setupSource","l","createLayer","imgSrc","marker","Feature","geometry","geom","Point","createMarkerStyle","Style","image","Icon","anchor","src","setStyle","addFeature","m","createMarker","img","BingMaps","imagerySet","Stamen","TileJSON","crossOrigin","TileArcGISRest","extractStyles","Cluster","distance","ImageVector","OSM","feature","Date","getTime","listenerKey","animate","vectorContext","frameState","flashGeom","getGeometry","clone","elapsed","elapsedRatio","easing","easeOut","opacity","Circle","snapToPixel","stroke","Stroke","drawGeometry","Observable","unByKey","render","LEFT_KEY","RIGHT_KEY","DURATION","LOAD_MAP_DELAY","getCoordinatesLonLat","f","transform","getCoordinates","transformCoordinates","panAnimation","pan","animation","getCenter","beforeRender","setCenter","distanceAndDirection","fCoordinates","sqrt","pow","evt","getTargetElement","cursor","hasFeatureAtPixel","pixel","once","setTimeout","getFeatures","createMarkerEffect","forEachFeatureAtPixel","$","keydown","keydownAnimate","k","selectedFeature","minDistance","Infinity","checkAnimate","keyCode","strokeWidth","strokeColor","fillColor","obj","Polygon","LineString","createObjStyle","fill","Fill","newView","newMarkers","newLayers","newData"],"mappings":"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","file":"C9.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"C9\"] = factory();\n\telse\n\t\troot[\"C9\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9e4012c186fde2739e7d\n **/","// Chart Importer\r\nimport BarChart from './charts/C9.BarChart';\r\nimport DonutChart from './charts/C9.DonutChart';\r\nimport LineChart from './charts/C9.LineChart';\r\nimport PieChart from './charts/C9.PieChart';\r\nimport TimeLine from './charts/C9.TimeLine';\r\n\r\n// Map Importer\r\nimport Map from './map/C9.Map';\r\n\r\n// Helper Importer\r\nimport Helper from './helper/C9.Helper';\r\nimport DataAdapter from './helper/C9.DataAdapter';\r\n\r\n// CSS Importer\r\nimport styles from './C9.css';\r\n\r\nmodule.exports = {\r\n\tBarChart,\r\n\tDonutChart,\r\n\tLineChart,\r\n\tPieChart,\r\n\tTimeLine,\r\n\r\n\tMap,\r\n\t\r\n\tDataAdapter,\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\nimport Tooltip from './utils/C9.Tooltip';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class BarChart extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n        var self = this;\r\n        var config = {\r\n            barWidth: undefined,\r\n            // groupType: \"stack\"\r\n        };\r\n\r\n        var width        = self.width - self.margin.left - self.margin.right;\r\n        var height       = self.height - self.margin.top - self.margin.bottom;\r\n        // var groupCount   = 0; // use to count how many element in group\r\n        // var groupStart   = 0; // calculate the number of those first element that just have only 1 value\r\n\r\n        self.body.type      = \"bar\";\r\n        // self._groupType     = options.groupType     ||  config.groupType;\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        var da = new DataAdapter(dataOption);\r\n        self.dataTarget = da.getDataTarget(\"bar\");\r\n        var barChartType = da.getDataTypeForBarChart()\r\n        if (barChartType != \"single\") {\r\n            self._groupNames    = da.groups || da.stacks;  //define group names use for showing legend\r\n            self._isGroup       = barChartType == \"group\";\r\n        }\r\n\r\n        // .1 to make outerPadding, according to: https://github.com/d3/d3/wiki/Ordinal-Scales\r\n        var x = d3.scale.ordinal().rangeRoundBands([0, width], .1);\r\n        var y = options.isLogaric ? d3.scale.log().range([height, 0]) : d3.scale.linear().range([height, 0]);\r\n\r\n        var minMax = Helper.getMinMax(self.dataTarget, barChartType);\r\n\r\n        x.domain(self.dataTarget.map(function(d) {\r\n            return d[0].name;\r\n        }));\r\n\r\n        y.domain([minMax.min, minMax.max]);\r\n\r\n        /******** Handle for grouped, stacked bar chart ********/\r\n        if (self._groupNames) {\r\n            self._xGroup = d3.scale.ordinal();\r\n            self._xGroup.domain(self._groupNames).rangeRoundBands([0, x.rangeBand()]);\r\n        }\r\n        \r\n        /**********************************************/\r\n\r\n        // Make flexible width according to barWidth\r\n        config.barWidth      = x.rangeBand();\r\n        self._barWidth       = options.barWidth  ||  config.barWidth;\r\n        self._x              = x;\r\n        self._y              = y;\r\n        self.updateConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get barWidth() {\r\n        return this._barWidth;\r\n    }\r\n\r\n    get colorRange() {\r\n        var color = this._colorRange;\r\n        if (typeof color == 'string') {\r\n            try {\r\n                return d3.scale[color]();    \r\n            }\r\n            catch(err) {\r\n                return function(i) {\r\n                    return color;\r\n                };\r\n            }\r\n        } else if (typeof color == 'object') {\r\n            return d3.scale.ordinal().range(color);\r\n        }\r\n    }\r\n\r\n    get groupType() {\r\n        return this._groupType;\r\n    }\r\n\r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    \r\n    get xGroup() {\r\n        return this._xGroup;\r\n    }\r\n\r\n    get groupNames() {\r\n        return this._groupNames;\r\n    }\r\n\r\n    get chartType() {\r\n        return this._body.type;\r\n    }\r\n\r\n    get isGroup() {\r\n        return this._isGroup;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set barWidth(newBarWidth) {\r\n        if (newBarWidth) {\r\n            this._barWidth = newBarWidth;\r\n        }\r\n    }\r\n    \r\n    set colorRange(newBarColor) {\r\n        if (newBarColor) {\r\n            this._colorRange = newBarColor;\r\n        }\r\n    }\r\n\r\n    set groupType(newGroupType) {\r\n        if (newGroupType) {\r\n            this._groupType = newGroupType;\r\n        }\r\n    }\r\n\r\n    set x(newX) {\r\n        if (newX) {\r\n            this._x = newX;\r\n        }\r\n    }\r\n\r\n    set y(newY) {\r\n        if (newY) {\r\n            this._y = newY;\r\n        }\r\n    }\r\n\r\n    set xGroup(newXGroup) {\r\n        if (newXGroup) {\r\n            this._xGroup = newXGroup;\r\n        }\r\n    }\r\n\r\n    set groupNames(newGroupNames) {\r\n        if (newGroupNames) {\r\n            this._groupNames = newGroupNames;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n\r\n\r\n\r\n    /**\r\n     * Init Bar Chart Config\r\n     */\r\n    updateConfig(){\r\n        var self  = this,\r\n            color = self.colorRange,\r\n            x     = self._x,\r\n            y     = self._y,\r\n            xGroup= self._xGroup;\r\n\r\n        var bar = self.body\r\n                    .selectAll(\".bar\")\r\n                    .data(self.dataTarget)\r\n                    .enter()\r\n                        .append(\"g\")\r\n                        .attr(\"class\", \"c9-chart-bar c9-custom-bar\")\r\n                        .attr(\"transform\", function(d) { return \"translate(\" + x(d[0].name) + \",0)\"; });\r\n\r\n        var bars = bar.selectAll(\".c9-custom-rect\")\r\n            .data(function(d) { return d; });\r\n\r\n        bars.enter()\r\n            .append(\"rect\")\r\n            .attr(\"class\", \"c9-custom-rect\")\r\n            .style(\"fill\", function (d, i) { return d.color || color(i); })\r\n            .attr(\"x\", function(d) { return self.isGroup ? xGroup(d.group) : undefined; })\r\n            .attr(\"y\", function(d) { return y(d.y1); })\r\n            .attr(\"width\", function(d) { return self.isGroup ? xGroup.rangeBand() : x.rangeBand(); })\r\n            .attr(\"height\", function(d) { return y(0) - y(Math.abs(d.y0)); });\r\n    }\r\n\r\n    /**\r\n     * [updateLegendInteraction description]\r\n     * @param  {[type]} data          [description]\r\n     * @param  {[type]} groupNames    [description]\r\n     * @param  {[type]} groupNamesOld [description]\r\n     * @param  {[type]} newLabel      [description]\r\n     * @return {[type]}               [description]\r\n     */\r\n    updateLegendInteraction(data, groupNames, groupNamesOld, newLabel){\r\n        var self = this;\r\n        var type = self.groupType;\r\n\r\n        var minMax = Helper.getMinMax(data, self.isGroup == false ? \"stack\" : null);\r\n        var y = self.y;\r\n        // console.log(minMax);\r\n        y.domain([minMax.min, minMax.max]);\r\n        self.axis.update(null, y, 750);\r\n\r\n        var xGroup = d3.scale.ordinal();\r\n        xGroup.domain(groupNames).rangeRoundBands([0, self.x.rangeBand()]);\r\n\r\n        var xGroupOld = d3.scale.ordinal();\r\n        xGroupOld.domain(groupNamesOld).rangeRoundBands([0, self.x.rangeBand()]);\r\n\r\n        var midGroup = undefined;\r\n        //check add new label in the middle\r\n        if (groupNames.length > groupNamesOld.length && 0 < groupNames.indexOf(newLabel) && groupNames.indexOf(newLabel) < groupNames.length - 1 )\r\n            midGroup = groupNamesOld[groupNames.indexOf(newLabel)];\r\n\r\n        // self.body.selectAll(\".c9-custom-rect\").transition().duration(750).attr(\"height\", 0).remove();\r\n        self.body.selectAll(\".c9-custom-rect\").data([]).exit().remove();\r\n        self.body.selectAll(\".c9-custom-bar\").data([]).exit().remove();\r\n        var bar = self.body\r\n                    .selectAll(\".c9-chart-bar.c9-custom-bar\")\r\n                    .data(data)\r\n                    .enter()\r\n                    .append(\"g\")\r\n                    .attr(\"class\", \"c9-chart-bar c9-custom-bar\")\r\n                    .attr(\"transform\", function (d, i) { return \"translate(\" + self.x(self.dataTarget[i][0].name) + \",0)\"; });\r\n\r\n        var bars = bar.selectAll(\".c9-custom-rect\")\r\n            .data(function(d) { return d; });\r\n\r\n        bars.enter()\r\n            .append(\"rect\")\r\n            .attr(\"class\", \"c9-custom-rect\")\r\n            .style(\"fill\", function(d) { return d.color; })\r\n            .attr(\"x\", function(d) {\r\n                // use for stack\r\n                if (!self.isGroup) return undefined;\r\n                // use for group\r\n                // group member positioning at the end of groups, so its x is the position of right edge of bar\r\n                if (groupNames.length > groupNamesOld.length && d.group == newLabel && groupNames.indexOf(newLabel) == groupNames.length - 1)\r\n                    return self.x.rangeBand();\r\n                return midGroup ? d.group == newLabel ? xGroupOld(midGroup) : xGroupOld(d.group) : xGroupOld(d.group);\r\n            })\r\n            .attr(\"y\", function(d) { return y(d.y1); })\r\n            .attr(\"width\", function(d) {\r\n                return !self.isGroup ? self.x.rangeBand() : d.group == newLabel ? 0 : xGroupOld.rangeBand();\r\n            })\r\n            .attr(\"height\", function(d) { return y(0) - y(Math.abs(d.y0)); });\r\n\r\n        bars.transition().duration(750)\r\n            .attr(\"x\", function(d) { return !self.isGroup ? undefined : xGroup(d.group); })\r\n            .attr(\"width\", function(d) { return !self.isGroup ? self.x.rangeBand() : xGroup.rangeBand(); })\r\n\r\n        self.updateInteraction();\r\n    }\r\n\r\n    /**\r\n     * [Main draw function of Bar Chart]\r\n     * @return {[type]} [description]\r\n     */\r\n    draw() {\r\n        var self = this;\r\n        self.axis    = new Axis(self.options, self.body, self.dataTarget, self.width - self.margin.left - self.margin.right, self.height - self.margin.top - self.margin.bottom, self.x, self.y);\r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);\r\n        var legend  = new Legend(self.options, self.body, self.dataTarget);\r\n        \r\n        legend.draw();\r\n        legend.updateInteractionForBarChart(self);\r\n\r\n        self.updateInteraction();\r\n    }\r\n\r\n    /**\r\n     * Retrieve value from upper and lower bounds of each stack\r\n     * @param  {String} lower Lower bound of value\r\n     * @param  {String} upper Upper bound of value\r\n     * @return {String}       Value to return\r\n     */\r\n    retrieveValue(lower, upper) {\r\n        var d1 = Math.floor(lower) === lower ? 0 : lower.toString().split(\".\")[1].length;\r\n        var d2 = Math.floor(upper) === upper ? 0 : upper.toString().split(\".\")[1].length;\r\n        return d1 > d2 ? (upper - lower).toFixed(d1) : (upper - lower).toFixed(d2);\r\n    }\r\n    \r\n    /**\r\n     * Select all bars as type RECT in Bar Chart via its CLASS\r\n     */\r\n    selectAllBar() {\r\n        var self = this;\r\n\r\n        return self.body.selectAll('.c9-custom-rect');\r\n    }\r\n\r\n    /**\r\n     * Update Interaction: Hover\r\n     * @return {} \r\n     */\r\n    updateInteraction() {\r\n        var self = this,\r\n            hoverEnable     = self.hover.enable,\r\n            hoverOptions    = self.hover.options,\r\n            selector        = self.selectAllBar(),\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback  = self.click.callback;\r\n\r\n        // Define tooltip\r\n        // TODO: Allow user to add custom DIV, CLASS\r\n        // Make sure that: \r\n        // - Rect not overflow the bar, if not, hover effect will be messed\r\n        // -> So, just align the rect to right/left (x: 25) to avoid it\r\n        // -> And, the text will be align also\r\n        var div = self.body\r\n                    .append('g')   \r\n                    .style('display', 'none');\r\n            // Rect Container\r\n            div.append('rect')\r\n                .attr('class', 'c9-custom-tooltip-box')\r\n                .attr('x', 25)\r\n                .attr('rx', 5)\r\n                .attr('ry', 5)\r\n                .style('position', 'absolute')\r\n                .style('width', '100px')\r\n                .style('height', '50px')\r\n                .style('fill', '#FEE5E2')\r\n                .style('stroke', '#FDCCC6')\r\n                .style('stroke-width', 2);\r\n            // First line\r\n            var text_1 = div.append('text')\r\n                .attr('class', 'c9-custom-tooltip-label')\r\n                .attr('x', 30)\r\n                .attr('y', 10)\r\n                .style('font-family', 'sans-serif')\r\n                .style('font-size', '10px');\r\n            // Second line\r\n            var text_2 = div.append('text')\r\n                .attr('class', 'c9-custom-tooltip-label')\r\n                .attr('x', 30)\r\n                .attr('y', 20)\r\n                .style('font-family', 'sans-serif')\r\n                .style('font-size', '10px');\r\n\r\n\r\n        // Update Event Factory\r\n        self.eventFactory = {\r\n            'click': function(d) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, d);\r\n                }\r\n            },\r\n            'mouseover': function(d) {\r\n                if (!hoverEnable) return;\r\n                \r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, d);\r\n                }\r\n\r\n                div.transition()\r\n                    .duration(hoverOptions.onMouseOver.fadeIn)\r\n                    .style(\"display\", 'block')\r\n                    .attr(\"transform\", \"translate(\" + self.x(d.name) + \",\" + self.y(self.retrieveValue(d.y0, d.y1)) + \")\");\r\n\r\n                text_1.text('Name: ' + d.name);\r\n                text_2.text('Value: ' + self.retrieveValue(d.y0, d.y1));\r\n            },\r\n            'mouseout': function(d) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, d);\r\n                }\r\n\r\n                div.transition()\r\n                    .duration(hoverOptions.onMouseOut.fadeOut)      \r\n                    .style('display', 'none');\r\n            }\r\n        }\r\n\r\n        selector.on(self.eventFactory);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.BarChart.js\n **/","import Helper from '../helper/C9.Helper';\r\n\r\nexport default class Chart {\r\n    constructor(options) {\r\n        var self    = this;\r\n        var config  = {\r\n            // container\r\n            id: \"body\",\r\n            // size (width, height), margin, padding\r\n            width: 960,\r\n            height: 480,\r\n            margin: {\r\n                top: 20,\r\n                right: 20,\r\n                bottom: 70,\r\n                left: 40,\r\n            },\r\n            // interaction in chart\r\n            hover: {\r\n                enable: true,\r\n                options: {\r\n                    template: '',\r\n                    onMouseOver: {\r\n                        fadeIn: 200,\r\n                        callback: function(data) {\r\n                            console.dir(data);\r\n                        },\r\n                    },\r\n                    onMouseOut: {\r\n                        fadeOut: 500,\r\n                        callback: function(data) {\r\n                            console.dir(data);\r\n                        },\r\n                    }\r\n                }\r\n            },\r\n\r\n            click: {\r\n                callback: function(data) {\r\n                    console.dir(data);\r\n                },\r\n            },\r\n\r\n            // legend\r\n            legendShow: true,\r\n            legendPosition: \"bottom\",\r\n            legendInsetAnchor: \"top-left\",\r\n            legendPadding: 0,\r\n\r\n            // tooltip\r\n            tooltip: {\r\n                show: true,\r\n                position: 'top', // [top, right, bottom, left]\r\n                backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                fontColor: '#fff',\r\n                format: {\r\n                    name: function(d) {\r\n                        return 'Name ' + d;\r\n                    },\r\n                    value: function(d) {\r\n                        return 'Value ' + d;\r\n                    }\r\n                }\r\n            },\r\n\r\n            // table \r\n            table: {\r\n                container: \"body\",\r\n                show: true,\r\n                headings: [\"Name\", \"Value\"],\r\n                style: \"default\", // \"strip\", \"border\"\r\n                serial: true,\r\n                hover: {\r\n                    enable: true,\r\n                    callback: null\r\n                },\r\n                click: {\r\n                    enable: true,\r\n                    callback: null\r\n                }\r\n            },\r\n\r\n            // color range\r\n            colorRange: \"category20\",\r\n\r\n            // data\r\n            data: {\r\n                // ALL OPTIONS AVAILABLE IN DATA CONFIG\r\n                plain: [],\r\n                file: {\r\n                    type: null,\r\n                    url: null,\r\n                },\r\n                keys: {\r\n                    name: \"name\",\r\n                    value: \"value\",\r\n                    time: \"time\"\r\n                },\r\n                groups: [],\r\n                stacks: [],\r\n            }\r\n        };\r\n\r\n        self._id        = options.id        || config.id;\r\n        self._width     = options.width     || config.width;\r\n        self._height    = options.height    || config.height;\r\n        self._colorRange= options.colorRange|| config.colorRange;\r\n\r\n        \r\n        self._margin    = Helper.merge(options.margin, config.margin);\r\n        self._hover     = Helper.merge(options.hover, config.hover);\r\n        self._click     = Helper.merge(options.click, config.click);\r\n\r\n        // Main factory contains all interactions\r\n        self._eventFactory = null;\r\n        \r\n        self._dataOption= Helper.merge(options.data, config.data);\r\n        self._dataTarget= null;\r\n\r\n        // Skeleton: \r\n        // SVG\r\n        // ---BODY (g)\r\n        // -------BlaBla\r\n        self._svg       = null;\r\n        self._body      = null;\r\n        self._options   = options;\r\n\r\n        self._options.table     = Helper.merge(options.table, config.table);\r\n        self._options.tooltip   = Helper.merge(options.tooltip, config.tooltip);\r\n\r\n        self.initConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get container() {\r\n        return this._container;\r\n    }\r\n    \r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    /**\r\n     * If colorRange is Array of color then scale range according to it\r\n     * If colorRange is a String like \"category20\", \"category20b\", etc. then scale using d3.scale.category\r\n     */\r\n    get colorRange() {\r\n        if (typeof this._colorRange == 'string') {\r\n            return d3.scale[this._colorRange]();\r\n        } else if (typeof this._colorRange == 'object') {\r\n            return d3.scale.ordinal().range(this._colorRange);\r\n        }\r\n    }\r\n\r\n    get margin() {\r\n        return this._margin;\r\n    }\r\n\r\n    get dataOption() {\r\n        return this._dataOption;\r\n    }\r\n\r\n    get svg() {\r\n        return this._svg;\r\n    }\r\n\r\n    get body() {\r\n        return this._body;\r\n    }\r\n\r\n    get options() {\r\n        return this._options;\r\n    }\r\n\r\n    get hover() {\r\n        return this._hover;\r\n    }\r\n\r\n    get click() {\r\n        return this._click;\r\n    }\r\n\r\n    get dataTarget() {\r\n        return this._dataTarget;\r\n    }\r\n\r\n    get eventFactory() {\r\n        return this._eventFactory;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n    \r\n    \r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set container(newContainer) {\r\n        if (newContainer) {\r\n            this._container = newContainer;\r\n        }\r\n    }\r\n    \r\n    set id(newId) {\r\n        if (newId) {\r\n            this._id = newId;\r\n        }\r\n    }\r\n\r\n    set width(newWidth) {\r\n        if (newWidth) {\r\n            this._width = newWidth;\r\n        }\r\n    }\r\n\r\n    set height(newHeight) {\r\n        if (newHeight) {\r\n            this._height = newHeight;\r\n        }\r\n    }\r\n\r\n    set colorRange(newColorRange) {\r\n        if (newColorRange) {\r\n            this._colorRange = newColorRange;\r\n        }\r\n    }\r\n\r\n    set margin(newMargin) {\r\n        if (newMargin) {\r\n            this._margin = newMargin;\r\n        }\r\n    }\r\n\r\n    set dataOption(arg) {\r\n        if (arg) {\r\n            this._dataOption = arg;\r\n        }\r\n    }\r\n\r\n    set svg(newSvg) {\r\n        if (newSvg) {\r\n            this._svg = newSvg;\r\n        }\r\n    }\r\n\r\n    set body(newBody) {\r\n        if (newBody) {\r\n            this._body = newBody;\r\n        }\r\n    }\r\n\r\n    set options(newOptions) {\r\n        if (newOptions) {\r\n            this._options = newOptions;\r\n        }\r\n    }\r\n\r\n    set hover(newHover) {\r\n        if (newHover) {\r\n            this._hover = newHover;\r\n        }\r\n    }\r\n\r\n    set click(arg) {\r\n        if (arg) {\r\n            this._click = arg;\r\n        }\r\n    }\r\n\r\n    set dataTarget(arg) {\r\n        if (arg) {\r\n            this._dataTarget = arg;\r\n        }\r\n    }\r\n\r\n    set eventFactory(arg) {\r\n        if (arg) {\r\n            this._eventFactory = arg;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    /**\r\n     * Init & Update Parent Chart Config\r\n     */\r\n    initConfig() {\r\n        var margin  = this.margin,\r\n            id      = this.id,\r\n            width   = this.width - margin.left - margin.right,\r\n            height  = this.height - margin.top - margin.bottom;\r\n\r\n        this.container = d3.select(id);\r\n\r\n        this.svg = d3.select(id)\r\n            .append(\"svg\")\r\n            .style('overflow', 'visible') // to overwrite overflow: hidden by Boostrap as default\r\n            .attr(\"width\", width + margin.left + margin.right)\r\n            .attr(\"height\", height + margin.top + margin.bottom);\r\n\r\n        this.body = this.svg\r\n                    .append(\"g\")\r\n                    .attr('class', 'c9-chart c9-custom-container')\r\n                    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n                  \r\n    }\r\n\r\n    /*=====  End of Main Functions  ======*/\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.Chart.js\n **/","var Helper = {\r\n    \r\n    each: function(loopable, callback, self, reverse) {\r\n        // Check to see if null or undefined firstly.\r\n        var i, len;\r\n        if (self.isArray(loopable)) {\r\n            len = loopable.length;\r\n            if (reverse) {\r\n                for (i = len - 1; i >= 0; i--) {\r\n                    callback.call(self, loopable[i], i);\r\n                }\r\n            } else {\r\n                for (i = 0; i < len; i++) {\r\n                    callback.call(self, loopable[i], i);\r\n                }\r\n            }\r\n        } else if (typeof loopable === 'object') {\r\n            var keys = Object.keys(loopable);\r\n            len = keys.length;\r\n            for (i = 0; i < len; i++) {\r\n                callback.call(self, loopable[keys[i]], keys[i]);\r\n            }\r\n        }\r\n    },\r\n\r\n    // setDefaultConfig: function() {\r\n    //     var self = this;\r\n\r\n    //     if (self.defaultConfig == null || self.defaultConfig === undefined) {\r\n    //         return;\r\n    //     } else {\r\n    //         self.lastConfig = self.merge(Chart._options, Chart);\r\n    //         self.each(self.lastConfig, function(value, index) {\r\n    //             // var prefixCfg = self.setPrefix(index);\r\n    //             self.setValue(self.lastConfig[index], index);\r\n    //         }, self);\r\n    //     }\r\n    // }\r\n\r\n    setValue: function(value, key) {\r\n        var self = this;\r\n        self[key] = value;\r\n    },\r\n\r\n    setPrefix: function(config) {\r\n        var constPrefix = '_';\r\n        if (config) {\r\n            return constPrefix + config;\r\n        }\r\n    },\r\n\r\n    isEmpty: function(value) {\r\n        return value === null || value === undefined || (Util.isArray(value) && value.length === 0);\r\n    },\r\n\r\n    isObject: function(object) {\r\n        return !Util.isEmpty(object) && typeof(object) === 'object';\r\n    },\r\n\r\n    isArray: function(array) {\r\n        return Array.isArray(array) || Object.prototype.toString.call(array) === '[object Array]';\r\n    },\r\n\r\n    isFunction: function(func) {\r\n        return !Util.isEmpty(func) && typeof(func) === 'function';\r\n    },\r\n\r\n    merge: function(obj1,obj2){\r\n        var obj3 = {};\r\n        for (var attrname in obj2) { obj3[attrname] = obj2[attrname]; }\r\n        for (var attrname in obj1) { obj3[attrname] = obj1[attrname]; }\r\n        return obj3;\r\n    },\r\n\r\n    get: function(_key, _data){\r\n        var _keys = _key.split(\".\");\r\n        var _current = _data;\r\n        var self = this;\r\n        \r\n        for(var i=0, len=_keys.length; i<len; i++){\r\n            var _fun = _keys[i].split(\"|\");\r\n            \r\n            if(_fun && _fun.length == 2){\r\n                _keys[i] = _fun[0];\r\n                _fun = _fun[1];\r\n            }\r\n            else{\r\n                _fun = null;\r\n            }\r\n            \r\n            if('undefined' == typeof(_current[_keys[i]])){\r\n                return '';\r\n            }\r\n            else{\r\n                _current = _current[_keys[i]];\r\n            }\r\n            \r\n            if(null !== _fun){\r\n                _current = self.filter[_fun].call(this, _current);\r\n            }\r\n        }\r\n        \r\n        return _current;\r\n    },\r\n\r\n    max: function(arr) {\r\n        return Math.max(...arr);\r\n    }, \r\n\r\n    min: function(arr) {\r\n        return Math.min(...arr);\r\n    }, \r\n\r\n    sum: function(arr) {\r\n        return arr.reduce(function(a, b) { return a + b; }, 0);\r\n    },\r\n\r\n    guid: function() {\r\n        return 'c9-xxxxxx-4xxx-yxxx'.replace(/[xy]/g, function(c) {\r\n            let r = Math.random()*16|0, \r\n                v = c == 'x' ? r : (r&0x3|0x8);\r\n            return v.toString(16);\r\n        });\r\n    },\r\n\r\n    getMinMax: function(data, type, dataOld) {\r\n        var self  = this;\r\n        var _temp = new Array();\r\n        var _min  = 0,\r\n            _max  = 0;\r\n        if (type == \"stack\")\r\n            data.forEach(function (d){\r\n                d.forEach(function (s){\r\n                    if (s.y0 > 0)\r\n                        _temp.push(s.y1);\r\n                    else\r\n                        _temp.push(s.y1 + s.y0);\r\n                })\r\n            })\r\n        else\r\n            data.forEach(function (d){\r\n                d.forEach(function (s){\r\n                    _temp.push(s.y0);\r\n                })\r\n            });\r\n\r\n        var _newMin = self.min(_temp);\r\n        var _newMax = self.max(_temp);\r\n        if (_newMin < _min)\r\n            _min = _newMin;\r\n        if (_newMax > _max)\r\n            _max = _newMax;\r\n\r\n        return {min: _min, max: _max};\r\n    }\r\n};\r\n\r\nvar Util = {\r\n    isEmpty: function(value) {\r\n        return value === null || value === undefined;\r\n    },\r\n\r\n    isArray: function(array) {\r\n        return Array.isArray(array) || Object.prototype.toString.call(array) === '[object Array]';\r\n    },\r\n};\r\n\r\nmodule.exports = Helper;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helper/C9.Helper.js\n **/","'use strict';\r\nimport Helper from '../../helper/C9.Helper';\r\n\r\nexport default class Axis {\r\n    constructor(options, body, data, width, height, x, y) {\r\n        var config = {\r\n            xAxisShow     : true,\r\n            xAxisPadding  : {},   // TODO\r\n            xAxisText     : 'Name',\r\n            yAxisShow     : true,\r\n            yAxisPadding  : {},   // TODO\r\n            yAxisText     : 'Value',\r\n            numOfTickY   : 5,\r\n            tickFormat     : \"s\",   // refer: https://github.com/d3/d3-format\r\n            isLogaric: false, // TODO: Add isPower, isNormal(default), isLogaric\r\n            y2AxisShow    : true,\r\n            y2AxisPadding : {},   // TODO\r\n            y2AxisText    : 'Value',\r\n            gridXShow: false,\r\n            gridYShow: false\r\n        };\r\n\r\n        this._xAxisShow     = options.xAxisShow      || config.xAxisShow;\r\n        this._xAxisPadding  = options.xAxisPadding   || config.xAxisPadding;\r\n        this._xAxisText     = options.xAxisText      || config.xAxisText;\r\n        this._yAxisShow     = options.yAxisShow      || (body.type == \"timeline\" ? false : config.yAxisShow);\r\n        this._yAxisPadding  = options.yAxisPadding   || config.yAxisPadding;\r\n        this._yAxisText     = options.yAxisText      || config.yAxisText;\r\n        this._isLogaricVariant     = options.isLogaric      || config.isLogaric;\r\n        this._tickFormat    = options.tickFormat      || config.tickFormat;\r\n        this._numOfTickY    = options.numOfTickY    || config.numOfTickY;\r\n        this._y2AxisShow    = options.y2AxisShow     || config.y2AxisShow;\r\n        this._y2AxisPadding = options.y2AxisPadding  || config.y2AxisPadding;\r\n        this._y2AxisText    = options.y2AxisText     || config.y2AxisText;\r\n        this._gridXShow     = options.gridXShow      || config.gridXShow;\r\n        this._gridYShow     = options.gridYShow      || config.gridYShow;\r\n        this._x             = x;\r\n        this._y             = y;\r\n\r\n        // x.domain(data.map(function(d) {\r\n        //     return d.name || d[0].name;\r\n        // }));\r\n\r\n        // y.domain([\r\n        //     d3.min(data, function(d) {\r\n        //         return d.value;\r\n        //     }), \r\n        //     d3.max(data, function(d) {\r\n        //         return d.value;\r\n        //     })\r\n        // ]);\r\n\r\n        if (body.type == \"timeline\") {\r\n\r\n            var xScale = d3.time.scale()\r\n                .domain([options.starting, options.ending])\r\n                .range([0, width]);\r\n            this._xAxis = d3.svg.axis()\r\n                .scale(xScale)\r\n                .orient(\"bottom\")\r\n                .tickFormat(options.tickFormat === undefined ? d3.time.format(\"%I %p\") : options.tickFormat.format)\r\n                .tickSize(options.tickFormat === undefined ? 6 : options.tickFormat.tickSize)\r\n                .ticks(options.tickFormat === undefined ? d3.time.hours : options.tickFormat.tickTime, options.tickFormat === undefined ? 1 : options.tickFormat.tickInterval);\r\n            delete options.starting;\r\n            delete options.ending;\r\n\r\n        } else if (body.type == \"line\") {\r\n\r\n            this._xAxis = d3.svg.axis()\r\n                            .scale(this._x);\r\n            this._yAxis = d3.svg.axis()\r\n                            .scale(this._y)\r\n                            .orient(\"left\");\r\n\r\n        } else {\r\n            // Currently, support logaric axis only for y-axis on bar-chart\r\n            // TODO: add for line-chart too\r\n            var _tickFormat = d3.format(this._tickFormat);\r\n            var _numOfTickY = this._numOfTickY;\r\n\r\n            this._xAxis = d3.svg.axis()\r\n                .scale(this._x)\r\n                .orient(\"bottom\")\r\n                .ticks(10);\r\n\r\n            // In LOG scale, can't specify default number of ticks\r\n            // must be filter with tickFormat instead\r\n            // refer: https://github.com/d3/d3/wiki/Quantitative-Scales#log_ticks\r\n            if (this._isLogaricVariant) {\r\n                this._yAxis = d3.svg.axis()\r\n                    .scale(this._y)\r\n                    .orient(\"left\")\r\n                    .ticks(_numOfTickY, _tickFormat)\r\n                    .tickSize(10, 0);\r\n            } else {\r\n                this._yAxis = d3.svg.axis()\r\n                    .scale(this._y)\r\n                    .orient(\"left\")\r\n                    .ticks(_numOfTickY)\r\n                    .tickSize(10, 0)\r\n                    .tickFormat(_tickFormat);\r\n            }\r\n        }\r\n\r\n        \r\n\r\n        // Grid\r\n        if (this._gridXShow) {\r\n            // Select CURRENT svg container, to make this axis outside\r\n            // as a SEPARATED component, just like AXIS, of CHART\r\n            // d3.select(this._svg[0][0].parentNode)\r\n            this._xAxis.innerTickSize(-height)\r\n                .outerTickSize(0);\r\n        }\r\n\r\n        if (this._gridYShow) {\r\n            // Select CURRENT svg container, to make this axis outside\r\n            // as a SEPARATED component, just like AXIS, of CHART\r\n            // d3.select(this._svg[0][0].parentNode)\r\n            this._yAxis.innerTickSize(-width)\r\n                .outerTickSize(0);\r\n        }\r\n\r\n        this._body    = body;\r\n        this._data   = data;\r\n        this._width  = width;   // TODO : ADD Getter/setter\r\n        this._height  = height;\r\n\r\n        if (this._xAxisShow) {\r\n            this._body.append(\"g\")\r\n                .attr(\"class\", \"x axis\")\r\n                .attr(\"transform\", \"translate(0,\" + (height) + \")\")\r\n                .call(this._xAxis)\r\n                .append(\"text\")\r\n                .attr(\"dx\", \"-.8em\")\r\n                .attr(\"dy\", \"-.55em\")\r\n                .attr(\"x\", width)\r\n                .attr(\"y\", \"20\")\r\n                .style(\"text-anchor\", \"start\")\r\n                .text(this._xAxisText);\r\n                // .attr(\"transform\", \"rotate(-90)\" );\r\n        }\r\n\r\n        if (this._yAxisShow) {\r\n            this._body.append(\"g\")\r\n                .attr(\"class\", \"y axis\")\r\n                .call(this._yAxis)\r\n                .append(\"text\")\r\n                // .attr(\"transform\", \"rotate(-90)\")\r\n                .attr(\"y\", -10)\r\n                .attr(\"dy\", \".10\")\r\n                .style(\"text-anchor\", \"end\")\r\n                .text(this._yAxisText);\r\n        }\r\n\r\n\r\n        /**\r\n            TODO:\r\n            - Add y2-axis\r\n        **/\r\n            \r\n    }\r\n\r\n    update(x, y, duration) {\r\n        if (x) {\r\n            this._x = x;\r\n            this._body.select('.x.axis').transition().duration(duration).call(this._xAxis);\r\n        }\r\n        if (y) {\r\n            this._y = y;\r\n            this._body.select(\".y.axis\").transition().duration(duration).call(this._yAxis);\r\n        }\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    \r\n    get xAxis() {\r\n        return this._xAxis;\r\n    }\r\n\r\n    get yAxis() {\r\n        return this._yAxis;\r\n    }\r\n\r\n    get xAxisShow() {\r\n        return this._xAxisShow;\r\n    }\r\n\r\n    get xAxisPadding() {\r\n        return this._xAxisPadding;\r\n    }\r\n\r\n    get yAxisShow() {\r\n        return this._yAxisShow;\r\n    }\r\n\r\n    get yAxisPadding() {\r\n        return this._yAxisPadding;\r\n    }\r\n\r\n    get isLogaricVariant() {\r\n        return this._isLogaricVariant;\r\n    }\r\n\r\n    get y2AxisShow() {\r\n        return this._y2AxisShow;\r\n    }\r\n\r\n    get y2AxisPadding() {\r\n        return this._y2AxisPadding;\r\n    }\r\n    \r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    \r\n    set xAxis(newXAxis) {\r\n        if (newXAxis) {\r\n            this._xAxis = newXAxis;\r\n        }\r\n    }\r\n\r\n    set yAxis(newYAxis) {\r\n        if (newYAxis) {\r\n            this._yAxis = newYAxis;\r\n        }\r\n    }\r\n\r\n    set xAxisShow(newXAxisShow) {\r\n        if (newXAxisShow) {\r\n            this._xAxisShow = newXAxisShow;\r\n        }\r\n    }\r\n\r\n    set xAxisPadding(newXAxisPadding) {\r\n        if (newXAxisPadding) {\r\n            this._xAxisPadding = newXAxisPadding;\r\n        }\r\n    }\r\n\r\n    set yAxisShow(newYAxisShow) {\r\n        if (newYAxisShow) {\r\n            this._yAxisShow = newYAxisShow;\r\n        }\r\n    }\r\n\r\n    set yAxisPadding(newYAxisPadding) {\r\n        if (newYAxisPadding) {\r\n            this._yAxisPadding = newYAxisPadding;\r\n        }\r\n    }\r\n\r\n    set isLogaricVariant(newIsLogaricVariant) {\r\n        if (newIsLogaricVariant) {\r\n            this._isLogaricVariant = newIsLogaricVariant;\r\n        }\r\n    }\r\n\r\n    set y2AxisShow(newY2AxisShow) {\r\n        if (newY2AxisShow) {\r\n            this._y2AxisShow = newY2AxisShow;\r\n        }\r\n    }\r\n\r\n    set y2AxisPadding(newY2AxisPadding) {\r\n        if (newY2AxisPadding) {\r\n            this._y2AxisPadding = newY2AxisPadding;\r\n        }\r\n    }\r\n    \r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Axis.js\n **/","'use strict';\r\n\r\nexport default class Title {\r\n    constructor(options, body, width, height, margin) {\r\n        var config = {\r\n            titleShow      : true,\r\n            titleText      : \"Sample Chart\",\r\n            titlePosition  : 'top',\r\n            titleSize      : \"14px\"\r\n        };\r\n\r\n        this._titleShow     = options.titleShow       || config.titleShow;\r\n        this._titleText     = options.titleText       || config.titleText;\r\n        this._titlePosition = options.titlePosition   || config.titlePosition;\r\n        this._titleSize     = options.titleSize       || config.titleSize;\r\n\r\n        this._body    = body;\r\n\r\n        if (this._titleShow) {\r\n            var self = this;\r\n            // Select CURRENT body container, to make this axis outside\r\n            // as a SEPARATED component, just like AXIS, of CHART\r\n            var text = d3.select(self._body[0][0].parentNode)\r\n                .append(\"g\")\r\n                    .attr('class', 'c9-custom-title c9-custom-title-container')\r\n                    .append(\"text\")\r\n                        .attr(\"class\", \"c9-custom-title c9-custom-title-text\");\r\n\r\n                // Get title width: text.node().getComputedTextLength()           \r\n                text.attr(\"x\", (((width - text.node().getComputedTextLength()) / 2)))           \r\n                    .attr(\"y\", this.setYLocation(height, margin))\r\n                    .attr(\"text-anchor\", \"middle\")  \r\n                    .style(\"font-size\", this._titleSize)  \r\n                    .text(this._titleText);\r\n        }\r\n            \r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    \r\n    get titleShow() {\r\n        return this._titleShow;\r\n    }\r\n\r\n    get titleText() {\r\n        return this._titleText ;\r\n    }\r\n\r\n    get titlePosition() {\r\n        return this._titlePosition;\r\n    }\r\n\r\n    get titleSize() {\r\n        return this._titleSize;\r\n    }\r\n    \r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    \r\n    set titleShow(newTitleShow) {\r\n        if (newTitleShow) {\r\n            this._titleShow = newTitleShow;\r\n        }\r\n    }\r\n\r\n    set titleText(newTitleText) {\r\n        if (newTitleText) {\r\n            this._titleText = newTitleText;\r\n        }\r\n    }\r\n\r\n    set titlePosition(newTitlePosition) {\r\n        if (newTitlePosition) {\r\n            this._titlePosition = newTitlePosition;\r\n        }\r\n    }\r\n\r\n    set titleSize(newTitleSize) {\r\n        if (newTitleSize) {\r\n            this._titleSize = newtitleSize;\r\n        }\r\n    }\r\n    \r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    setYLocation(height, margin) {\r\n        if (this.titlePosition === 'top') {\r\n            return (margin.top / 2);\r\n        } else if (this.titlePosition === 'bottom') {\r\n            return (height - margin.bottom / 2);\r\n        }\r\n    }\r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Title.js\n **/","import Helper from '../../helper/C9.Helper';\r\n\r\nexport default class Legend {\r\n    constructor(options, body, data) {\r\n        var config = {\r\n            legendShow      : false,\r\n            legendPosition  : [0, 0],\r\n            legendBox       : false,\r\n            legendSize      : 18,\r\n            legendTextSize : \"14px\",\r\n            legendMargin   : [50, 5, 5, 5],\r\n            legendSpace     : 150,\r\n            // legendStyle     : \"rect\" // TODO: Allow user to choose type of legend (circle, rect, etc.)\r\n        };\r\n\r\n        var self = this;\r\n\r\n        self._legendShow         = options.legendShow       || config.legendShow;\r\n        self._legendTextSize     = options.legendTextSize   || config.legendTextSize;\r\n        self._legendPosition     = options.legendPosition   || config.legendPosition;\r\n        self._legendSize         = options.legendSize       || config.legendSize;\r\n        self._legendBox          = options.legendBox        || config.legendBox;\r\n        self._legendMargin       = options.legendMargin     || config.legendMargin;\r\n        self._legendSpace        = options.legendSpace      || config.legendSpace;\r\n        // self._legendStyle        = options.legendStyle      || config.legendStyle;\r\n\r\n        self._options   = options;\r\n        self._body      = body;\r\n        // self._color     = color;\r\n        self._data      = data;\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get data() {\r\n        return this._data;\r\n    }\r\n\r\n    get body() {\r\n        return this._body;\r\n    }\r\n\r\n    get color() {\r\n        return this._color;\r\n    }\r\n    \r\n    get legendShow() {\r\n        return this._legendShow;\r\n    }\r\n\r\n    get legendText() {\r\n        return this._legendText ;\r\n    }\r\n\r\n    get legendPosition() {\r\n        return this._legendPosition;\r\n    }\r\n\r\n    get legendSize() {\r\n        return this._legendSize;\r\n    }\r\n\r\n    get legendMargin() {\r\n        return this._legendMargin;\r\n    }\r\n\r\n    get legendSpace() {\r\n        return this._legendSpace;\r\n    }\r\n\r\n    get legendItem() {\r\n        return this._legendItem;\r\n    }\r\n\r\n    get legendDomain() {\r\n        return this._legendDomain;\r\n    }\r\n\r\n    get legendItemEventFactory() {\r\n        return this._legendItemEventFactory;\r\n    }\r\n    \r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set data(arg) {\r\n        if (arg) {\r\n            this._data = arg;\r\n        }\r\n    }\r\n\r\n    set legendShow(newlegendShow) {\r\n        if (newlegendShow) {\r\n            this._legendShow = newlegendShow;\r\n        }\r\n    }\r\n\r\n    set legendText(newlegendText) {\r\n        if (newlegendText) {\r\n            this._legendText = newlegendText;\r\n        }\r\n    }\r\n\r\n    set legendPosition(newlegendPosition) {\r\n        if (newlegendPosition) {\r\n            this._legendPosition = newlegendPosition;\r\n        }\r\n    }\r\n\r\n    set legendSize(newlegendSize) {\r\n        if (newlegendSize) {\r\n            this._legendSize = newlegendSize;\r\n        }\r\n    }\r\n\r\n    set legendMargin(arg) {\r\n        if (arg) {\r\n            this._legendMargin = arg;\r\n        }\r\n    }\r\n\r\n    set legendSpace(arg) {\r\n        if (arg) {\r\n            this._legendSpace = arg;\r\n        }\r\n    }\r\n\r\n    set legendItem(newLegendItem) {\r\n        if (newLegendItem) {\r\n            this._legendItem = newLegendItem;\r\n        }\r\n    }\r\n\r\n    set legendDomain(newLegendDomain) {\r\n        if (newLegendDomain) {\r\n            this._legendDomain = newLegendDomain;\r\n        }\r\n    }\r\n\r\n    set legendItemEventFactory(newLegendItemEventFactory) {\r\n        if (newLegendItemEventFactory) {\r\n            this._legendItemEventFactory = newLegendItemEventFactory;\r\n        }\r\n    }\r\n    \r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    draw () {\r\n        var self = this;\r\n\r\n        // var color = self.color;\r\n\r\n        if (self._legendShow) {\r\n            // TODO: Remove these conditional checks by getData for general purposes\r\n            var legendDomain = [];\r\n\r\n            if (self._body.type == \"bar\") {\r\n                self.data = self.data[self.data.reduce((p, c, i, a) => a[p].length > c.length ? p : i, 0)];\r\n            }\r\n            else if (self._body.type == \"line\") {\r\n                self.data = d3.nest()\r\n                    .key(function(d) { return d.name; })\r\n                    .entries(self.data);\r\n                self.data.forEach(function(d) {\r\n                    d.color = d.values[0].color;\r\n                })\r\n            }\r\n\r\n            // Legend will be appended in main SVG container\r\n            var legendContainer = d3.select(self._body[0][0].parentNode)\r\n                .append(\"g\")\r\n                .attr(\"class\", \"c9-custom-legend c9-custom-legend-container\")\r\n                .attr(\"transform\", \"translate(\" + self._legendPosition[0] + \",\" + self._legendPosition[1] + \")\");\r\n            \r\n            // var legendBox = legendContainer.selectAll(\".c9-custom-legend.c9-custom-legend-box\").data([true]).enter();\r\n\r\n            self.legendItem = legendContainer.selectAll(\"g.c9-custom-legend.c9-custom-legend-item\")\r\n                // .data(color.domain())\r\n                .data(self.data)\r\n                .enter().append(\"g\")\r\n                .attr(\"class\", \"c9-custom-legend c9-custom-legend-item\")\r\n                .attr('data-ref', function(d) { return d['data-ref']; })\r\n                .attr(\"transform\", function(d, i) {\r\n                    return \"translate(\" + (i * (self.legendSize + self.legendSpace) + self.legendMargin[0]) + \",\" + self.legendMargin[3] + \")\"\r\n                });\r\n\r\n            self.legendItem.append('rect')\r\n                .attr('class', 'c9-custom-legend c9-custom-legend-rect')\r\n                .attr('width', self.legendSize * 2)\r\n                .attr('height', self.legendSize)\r\n                .attr('r', self.legendSize)\r\n                .attr('fill', function(d){ return d.color; })\r\n                .attr('stroke', function(d){ return d.color; });\r\n\r\n            self.legendItem.append('text')\r\n                .attr('class', 'c9-custom-legend c9-custom-legend-text')\r\n                .attr('x', self._legendSize * 2 + 20)\r\n                .attr('y', 15)\r\n                // .attr('text-anchor', 'middle')\r\n                .text(function(d) { return self._body.type == \"bar\" ? d.group : d.name || d.key; });\r\n\r\n\r\n            // if (self._legendBox && legendDomain.length > 0) {\r\n            //     var box = legendContainer[0][0].getBBox();\r\n            //     legendBox.attr(\"class\", \".c9-custom-legend.c9-custom-legend-box\")\r\n            //         .attr(\"x\", 0)\r\n            //         .attr(\"y\", 0)\r\n            //         .attr(\"width\", box.width + self._legendMargin[1] + self._legendMargin[3])\r\n            //         .attr(\"height\", box.height + self._legendMargin[2] + self._legendMargin[0])\r\n            //         .style(\"fill\", \"none\")\r\n            //         .style(\"stroke\", color);\r\n            // }\r\n        \r\n        }\r\n    \r\n    }\r\n\r\n    /**\r\n     * Update interaction event dispatchers for legend\r\n     * For: Donut Chart, Pie Chart\r\n     */\r\n    updateInteractionForLineChart(chart) {\r\n\r\n        var self = this;\r\n\r\n        var hoverOptions        = chart.hover.options,\r\n            hoverEnable         = chart.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = chart.click.callback;\r\n\r\n        self.legendItemEventFactory = {\r\n\r\n            'click': function(item) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, item);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                var enable = true,\r\n                    dataSet = self.data;\r\n                var totalEnable = d3.sum(dataSet.map(function(d) {\r\n                    return (d.enable) ? 1 : 0;\r\n                }));\r\n\r\n                // Add pointer to cursor\r\n                selector.style('cursor', 'pointer');\r\n\r\n                // If current selector is disabled, then turn it on back\r\n                // Else, set enable to false\r\n                if (selector.style('opacity') == '0.1') {\r\n                    selector.style('opacity', '1.0');\r\n                } else {\r\n                    if (totalEnable < 2) return;\r\n                    selector.style('opacity', '0.1');\r\n                    enable = false;\r\n                }\r\n\r\n            },\r\n\r\n            'mouseover': function(item) {\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n            },\r\n\r\n            'mouseout': function(item) {\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n                var selector = d3.select(\"path[data-ref='\" + item['data-ref'] + \"']\");\r\n\r\n            }\r\n        \r\n        };\r\n\r\n        if (self.legendShow) {\r\n            \r\n            self.legendItem.on(self.legendItemEventFactory);\r\n\r\n        }\r\n    \r\n    }\r\n\r\n    /**\r\n     * Update interaction event dispatchers for legend\r\n     * For: Donut Chart, Pie Chart\r\n     */\r\n    updateInteractionForDonutPieChart(chart, path, pie, currentData, arc) {\r\n\r\n        var self = this;\r\n\r\n        var hoverOptions        = chart.hover.options,\r\n            hoverEnable         = chart.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = chart.click.callback;\r\n\r\n        var chartType = chart.chartType;\r\n\r\n        var chartInnerBefore    = chartType == 'pie' ?  0 : chart.innerRadius,\r\n            chartOuterBefore    = chartType == 'pie' ?  chart.radius : chart.outerRadius,\r\n            chartInnerAfter     = chartType == 'pie' ?  0 : chart.innerRadius,\r\n            chartOuterAfter     = chartType == 'pie' ?  chart.radius * 1.2 : chart.outerRadius * 1.2;\r\n\r\n        self.legendItemEventFactory = {\r\n\r\n            'click': function(item) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, item);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                var enable = true,\r\n                    dataSet = self.data;\r\n                var totalEnable = d3.sum(dataSet.map(function(d) {\r\n                    return (d.enable) ? 1 : 0;\r\n                }));\r\n\r\n                // Add pointer to cursor\r\n                selector.style('cursor', 'pointer');\r\n\r\n                // If current selector is disabled, then turn it on back\r\n                // Else, set enable to false\r\n                if (selector.style('opacity') == '0.1') {\r\n                    selector.style('opacity', '1.0');\r\n                } else {\r\n                    if (totalEnable < 2) return;\r\n                    selector.style('opacity', '0.1');\r\n                    enable = false;\r\n                }\r\n\r\n                chart.pie.value(function(d) {\r\n                    if (d.name == item.name) d.enable = enable;\r\n                    return (d.enable) ? d.value : 0;\r\n                });\r\n\r\n                path = path.data(chart.pie(dataSet));\r\n\r\n                path.transition()\r\n                    .duration(500)\r\n                    .attrTween('d', function(d) {\r\n                        var interpolate = d3.interpolate(chart.currentData, d);\r\n                        // Returns an interpolator between the two arbitrary values a and b. \r\n                        // The interpolator implementation is based on the type of the end value b.\r\n                        chart.currentData = interpolate(0);\r\n                        return function(t) {\r\n                            return arc(interpolate(t));\r\n                        };\r\n                    })\r\n                    // Remove stroke when re-draw arcs to avoid duplicate strokes\r\n                    .attr('stroke', 'none');;\r\n                \r\n            },\r\n\r\n            'mouseover': function(item) {\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n                var selector = d3.select(\"path[data-ref='\" + item['data-ref'] + \"']\");\r\n\r\n                selector\r\n                    .transition()\r\n                        .duration(500)\r\n                        .ease('bounce')\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerAfter)\r\n                            .outerRadius(chartOuterAfter)\r\n                        )\r\n                        .attr('fill-opacity', '1.0');\r\n\r\n            },\r\n\r\n            'mouseout': function(item) {\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, item);\r\n                }\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n                var selector = d3.select(\"path[data-ref='\" + item['data-ref'] + \"']\");\r\n\r\n                selector\r\n                    .transition()\r\n                        .duration(500)\r\n                        .ease('bounce')\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerBefore)\r\n                            .outerRadius(chartOuterBefore)\r\n                        )\r\n                        .attr('fill-opacity', '0.5');\r\n\r\n            }\r\n        \r\n        };\r\n\r\n        if (self.legendShow) {\r\n            \r\n            self.legendItem.on(self.legendItemEventFactory);\r\n\r\n        }\r\n    \r\n    }\r\n\r\n    /**\r\n     * Update interaction for barchart\r\n     * @param  {[type]} chart       [description]\r\n     * @return {[type]}             [description]\r\n     */\r\n    updateInteractionForBarChart(chart) {\r\n\r\n        var self = this;\r\n\r\n        var hoverOptions        = chart.hover.options,\r\n            hoverEnable         = chart.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = chart.click.callback;\r\n\r\n        self.legendItemEventFactory = {\r\n\r\n            'click': function(item) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, item);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                var enable = true,\r\n                    dataBackup = chart.dataTarget,\r\n                    dataSet = self.data;\r\n                var totalEnable = d3.sum(dataSet.map(function(d) {\r\n                    return (d.enable) ? 1 : 0;\r\n                }));\r\n\r\n                var enableSet = [];\r\n                var enableSetOld = [];\r\n                var data = [];\r\n                // Add pointer to cursor\r\n                selector.style('cursor', 'pointer');\r\n\r\n                // If current selector is disabled, then turn it on back\r\n                // Else, set enable to false\r\n                if (selector.style('opacity') == '0.1') {\r\n                    selector.style('opacity', '1.0');\r\n                } else {\r\n                    if (totalEnable < 2) return;\r\n                    selector.style('opacity', '0.1');\r\n                    enable = false;\r\n                }\r\n\r\n                //set current data for legend\r\n                self.data.forEach(function(d, i) {\r\n                    if (d.enable)\r\n                        enableSetOld.push(d.group);\r\n                    if (d.group == item.group)\r\n                        d.enable = enable;\r\n                    if (d.enable)\r\n                        enableSet.push(d.group);\r\n                });\r\n\r\n                dataBackup.forEach(function(d, i) {\r\n                    var element = [];\r\n                    d.forEach(function(s, j) {\r\n                        enableSet.forEach(function(e) {\r\n                            if (e == s.group) {\r\n                                element.push(s);\r\n                            }\r\n                        });\r\n                    })\r\n                    data.push(element);\r\n                });\r\n\r\n                chart.updateLegendInteraction(data, enableSet, enableSetOld, item.group);\r\n                \r\n            },\r\n\r\n            'mouseover': function(item) {\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n                // var enable = true,\r\n                //     dataSet = self.legendDomain,\r\n                //     isCurrentEnable = true;\r\n\r\n                // var totalEnable = d3.sum(dataSet.map(function(d) {\r\n                //     if (d.data.name == item && !d.enable) isCurrentEnable = false;\r\n                //     return (d.enable) ? 1 : 0;\r\n                // }));\r\n\r\n                // // Add pointer to cursor\r\n                // selector.style('cursor', 'pointer');\r\n\r\n                // // If current selector is disabled, then remains it\r\n                // // Else, turn enabled to disabled\r\n                // if (!isCurrentEnable) {\r\n                //     return false;\r\n                // } else {\r\n                //     if (totalEnable < 2) return;\r\n                //     selector.style('opacity', '0.5');\r\n                //     enable = false;\r\n                // }\r\n\r\n                // chart.pie.value(function(d) {\r\n                //     if (d.data.name == item) d.tempEnable = enable;\r\n                //     else d.tempEnable = d.enable;\r\n\r\n                //     return (d.tempEnable) ? d.data.value : 0;\r\n                // });\r\n\r\n                // path = path.data(chart.pie(dataSet));\r\n\r\n                // path.transition()\r\n                //     .duration(200)\r\n                //     .attrTween('d', function(d) {\r\n                //         var interpolate = d3.interpolate(chart.currentData, d);\r\n                //         // Returns an interpolator between the two arbitrary values a and b. \r\n                //         // The interpolator implementation is based on the type of the end value b.\r\n                //         chart.currentData = interpolate(0);\r\n                //         return function(t) {\r\n                //             return arc(interpolate(t));\r\n                //         };\r\n                //     });\r\n\r\n            },\r\n\r\n            'mouseout': function(item) {\r\n\r\n                var legendSelector = d3.select(this);\r\n                // Add pointer to cursor\r\n                legendSelector.style('cursor', 'pointer');\r\n\r\n                // var dataSet = self.legendDomain,\r\n                //     isCurrentEnable = true;\r\n\r\n                // var totalEnable = d3.sum(dataSet.map(function(d) {\r\n                //     if (d.data.name == item && !d.enable) isCurrentEnable = false;\r\n                //     return (d.enable) ? 1 : 0;\r\n                // }));\r\n\r\n                // // Add pointer to cursor\r\n                // selector.style('cursor', 'pointer');\r\n\r\n                // chart.pie.value(function(d) {\r\n                //     if (d.data.name == item && !d.enable) d.enable = enable;\r\n                //     return (d.enable) ? d.data.value : 0;\r\n                // });\r\n\r\n                // if (!isCurrentEnable) {\r\n                //     return;\r\n                // } else {\r\n                //     if (totalEnable < 2 || selector.style('opacity') == '1') return;\r\n                //     selector.style('opacity', '1.0');\r\n                // }\r\n\r\n                // path = path.data(chart.pie(dataSet));\r\n\r\n                // path.transition()\r\n                //     .duration(200)\r\n                //     .attrTween('d', function(d) {\r\n                //         var interpolate = d3.interpolate(chart.currentData, d);\r\n                //         // Returns an interpolator between the two arbitrary values a and b. \r\n                //         // The interpolator implementation is based on the type of the end value b.\r\n                //         chart.currentData = interpolate(0);\r\n                //         return function(t) {\r\n                //             return arc(interpolate(t));\r\n                //         };\r\n                //     });\r\n\r\n            }\r\n        \r\n        };\r\n\r\n        if (self.legendShow) {\r\n            \r\n            self.legendItem.on(self.legendItemEventFactory);\r\n\r\n        }\r\n    }\r\n    \r\n\r\n    setYLocation (height, margin) {\r\n        if (this.legendPosition === 'top') {\r\n            return (margin.top / 2);\r\n        } else if (this.legendPosition === 'bottom') {\r\n            return (height - margin.bottom / 2);\r\n        }\r\n    \r\n    }\r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Legend.js\n **/","import Helper from '../../helper/C9.Helper';\r\n\r\nexport default class Tooltip {\r\n    constructor(options) {\r\n        var self = this;\r\n\r\n        var config = {\r\n            show: true,\r\n            position: 'top', // [top, right, bottom, left]\r\n            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n            fontColor: '#fff',\r\n            fontSize: '11px',\r\n            trianglePosition: 'left', // [top, right, bottom, left]\r\n            format: {\r\n                title: function(d) {\r\n                    return 'Title ' + d;\r\n                },\r\n                detail: function(d) {\r\n                    return 'Detail ' + d;\r\n                }\r\n            }\r\n        };\r\n\r\n        self._show              = options.show || config.show;\r\n        self._position          = options.position || config.position;\r\n        self._backgroundColor   = options.backgroundColor || config.backgroundColor;\r\n        self._fontColor         = options.fontColor || config.fontColor;\r\n        self._fontSize         = options.fontSize || config.fontSize;\r\n        self._trianglePosition         = options.trianglePosition || config.trianglePosition;\r\n\r\n        self._format            = Helper.merge(options.format, config.format);\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get show() {\r\n        return this._show;\r\n    }\r\n\r\n    get position() {\r\n        return this._position;\r\n    }\r\n\r\n    get backgroundColor() {\r\n        return this._backgroundColor;\r\n    }\r\n\r\n    get fontColor() {\r\n        return this._fontColor;\r\n    }\r\n\r\n    get fontSize() {\r\n        return this._fontSize;\r\n    }\r\n\r\n    get trianglePosition() {\r\n        return this._trianglePosition;\r\n    }\r\n\r\n    get format() {\r\n        return this._format;\r\n    }\r\n\r\n    get eventFactory() {\r\n        return this._eventFactory;\r\n    }\r\n\r\n\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set show(arg) {\r\n        if (arg) {\r\n            this._show = arg;\r\n        }\r\n    }\r\n\r\n    set position(arg) {\r\n        if (arg) {\r\n            this._position = arg;\r\n        }\r\n    }\r\n\r\n    set backgroundColor(arg) {\r\n        if (arg) {\r\n            this._backgroundColor = arg;\r\n        }\r\n    }\r\n\r\n    set fontColor(arg) {\r\n        if (arg) {\r\n            this._fontColor = arg;\r\n        }\r\n    }\r\n\r\n    set fontSize(arg) {\r\n        if (arg) {\r\n            this._fontSize = arg;\r\n        }\r\n    }\r\n\r\n    set trianglePosition(arg) {\r\n        if (arg) {\r\n            this._trianglePosition = arg;\r\n        }\r\n    }\r\n\r\n    set format(arg) {\r\n        if (arg) {\r\n            this._format = arg;\r\n        }\r\n    }\r\n\r\n    set eventFactory(arg) {\r\n        if (arg) {\r\n            this._eventFactory = arg;\r\n        }\r\n    }\r\n\r\n\r\n    /*=====  End of Setter  ======*/\r\n\r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n\r\n    /**\r\n     * [draw description]\r\n     * @return {[type]} [description]\r\n     */\r\n    draw(data, chart, eventType) {\r\n        var self = this;\r\n\r\n        var format = self.format;\r\n\r\n        // First of all, remove all exisiting tooltips\r\n        d3.select(chart.id).selectAll('.c9-custom-tooltip-container').remove();\r\n\r\n        var selector = d3.select(chart.id);\r\n\r\n        // TODO: Add margin to tooltip configs\r\n        // Default: (100, 100) relative to mouse coordinate and chart margin transformation\r\n        var divOnHover = selector.append('div')\r\n                            .attr('class', function() { return 'c9-custom-tooltip-container ' + self.getTriangleClass(); })\r\n                            // .attr(\"transform\", function() { return 'translate(' + (d3.mouse(this)[0] - 100) +\",\"+ (d3.mouse(this)[1] - 100) + ')'; })\r\n                            .style('display', 'none')\r\n                            .style('position', 'absolute')\r\n                            .style('pointer-events', 'all')\r\n                            .style('background-color', self.backgroundColor)\r\n                            .style('color', self.fontColor)\r\n                            .style('font-size', self.fontSize)\r\n                            // .style('width', '100px')\r\n                            // .style('height', '50px')\r\n                            .html(function() {\r\n                                return '<strong>' + self.format.title(data.data.name) + '</strong>' + '<br><span>' + self.format.detail(data.data.value) + '</span>';\r\n                            });\r\n\r\n        self.eventFactory = {\r\n\r\n            'mouseover': function(data) {\r\n                divOnHover.transition()\r\n                    // .style('left', function() {return d3.mouse(this)[0] + 'px';})\r\n                    .style('left', function() {return d3.event.pageX + 'px';})\r\n                    // .style('top', function() {return d3.mouse(this)[1]  + 'px';})\r\n                    .style('top', function() {return d3.event.pageY  + 'px';})\r\n                    .duration(200)\r\n                    .style(\"display\", 'block')\r\n                    .style('pointer-events', 'none');\r\n            },\r\n\r\n            'mouseout': function(data) {\r\n                divOnHover.transition()\r\n                    .duration(200)      \r\n                    .style('display', 'none');\r\n\r\n            }\r\n\r\n        };\r\n\r\n        if (self.show) {\r\n\r\n            switch(eventType) {\r\n                case 'mouseover':\r\n                    self.eventFactory.mouseover(data);\r\n                    break;\r\n                case 'mouseout':\r\n                    self.eventFactory.mouseout(data);\r\n                    break;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    getTriangleClass() {\r\n        var self = this;\r\n        let r ;\r\n\r\n        switch(self.trianglePosition) {\r\n            case 'top':\r\n                r = 'c9-tooltip-top';\r\n                break;\r\n            case 'right':\r\n                r = 'c9-tooltip-right';\r\n                break;\r\n            case 'bottom':\r\n                r = 'c9-tooltip-bottom';\r\n                break;\r\n            case 'left':\r\n                r = 'c9-tooltip-left';\r\n                break;\r\n        }\r\n        return r;\r\n    }\r\n\r\n\r\n    /*=====  End of Main Functions  ======*/\r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Tooltip.js\n **/","import Helper from './C9.Helper';\r\n\r\nexport default class DataAdapter {\r\n\r\n    constructor(options) {\r\n\r\n        var self = this;\r\n\r\n        var config = {\r\n            // ALL OPTIONS AVAILABLE IN DATA CONFIG\r\n            keys: {\r\n                name: \"name\",\r\n                value: \"value\",\r\n                time: \"time\"\r\n            },\r\n            groups: [],\r\n            stacks: [],\r\n\r\n            // NO NEED TO ADD TO DATA OPTIONS\r\n            // Just use to define default parameters\r\n            colorRange: null,\r\n        };\r\n\r\n        self._keys      = Helper.merge(options.keys, config.keys);\r\n        self._groups    = options.groups    || config.groups;\r\n        self._stacks    = options.stacks    || config.stacks;\r\n        self._colorRange= options.colorRange|| config.colorRange;\r\n\r\n        self._dataSource = null;\r\n        self._dataTarget = []; // Initialize new Array to use Array methods\r\n        self._dataRefs = [];\r\n        self.initDataSource(options);\r\n\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get keys() {\r\n        return this._keys;\r\n    }\r\n\r\n    get dataSource() {\r\n        return this._dataSource;\r\n    }\r\n\r\n    get dataTarget() {\r\n        return this._dataTarget;\r\n    }\r\n\r\n    get groups() {\r\n        return this._groups;\r\n    }\r\n\r\n    get stacks() {\r\n        return this._stacks;\r\n    }\r\n\r\n    get colorRange() {\r\n        return this._colorRange;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set keys(arg) {\r\n        if (arg) {\r\n            this._keys = arg;\r\n        }\r\n    }\r\n\r\n    set dataSource(arg) {\r\n        if (arg) {\r\n            this._dataSource = arg;\r\n        }\r\n    }\r\n\r\n    set dataTarget(arg) {\r\n        if (arg) {\r\n            this._dataTarget = arg;\r\n        }\r\n    }\r\n\r\n    set groups(arg) {\r\n        if (arg) {\r\n            this._groups = arg;\r\n        }\r\n    }\r\n\r\n    set stacks(arg) {\r\n        if (arg) {\r\n            this._stacks = arg;\r\n        }\r\n    }\r\n\r\n    set colorRange(arg) {\r\n        if (arg) {\r\n            this._colorRange = arg;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n\r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    initDataSource(options) {\r\n        var self = this;\r\n\r\n        if (self.hasPlainData(options)) {\r\n            self.executePlainData(options);\r\n        } else if (self.hasFile(options)) {\r\n            self.executeFile(options);\r\n        }\r\n    }\r\n\r\n    hasPlainData(options) {\r\n        return options.plain && Helper.isArray(options.plain);\r\n    }\r\n\r\n    hasFile(options) {\r\n        return options.file && Helper.isObject(options.file);\r\n    }\r\n\r\n    executePlainData(options) {\r\n        var self = this;\r\n\r\n        self._dataSource = options.plain;\r\n    }\r\n\r\n    executeFile(options) {\r\n        var self = this;\r\n\r\n        self._file  = Helper.merge(options.file, config.file);\r\n\r\n        if (self._file && self._file.type) {\r\n\r\n            switch(self._file.type) {\r\n                case \"csv\":\r\n                    self._dataSource = self.getCsv();\r\n                    break;\r\n                case \"tsv\":\r\n                    self._dataSource = self.getTsv();\r\n                    break;\r\n                case \"text\":\r\n                    self._dataSource = self.getText();\r\n                    break;\r\n                case \"json\":\r\n                    self._dataSource = self.getJson();\r\n                    break;\r\n                case \"xml\":\r\n                    self._dataSource = self.getXml();\r\n                    break;\r\n                case \"xhr\":\r\n                    self._dataSource = self.getJson();\r\n                    break;\r\n                default:\r\n                    self._dataSource = self.getJson();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getDataTypeForBarChart() {\r\n        var self = this;\r\n\r\n        if (!Helper.isEmpty(self.groups) && Helper.isArray(self.groups)) {\r\n            return \"group\";\r\n        } else if (!Helper.isEmpty(self.stacks) && Helper.isArray(self.stacks)) {\r\n            return \"stack\";\r\n        }\r\n\r\n        return \"single\";\r\n    }\r\n\r\n    getDataTarget(chartType) {\r\n        var self = this;\r\n\r\n        switch(chartType) {\r\n            case \"bar\":\r\n                return self.getDataTargetForBarChart();\r\n                break;\r\n\r\n            case \"line\":\r\n                return self.getDataTargetForLineChart();\r\n                break;\r\n\r\n            case \"pie\":\r\n                return self.getDataTargetForPieChart();\r\n                break;\r\n\r\n            case \"donut\":\r\n                return self.getDataTargetForDonutChart();\r\n                break;\r\n\r\n            case \"timeline\":\r\n                return self.getDataTargetForTimelineChart();\r\n                break;\r\n            default:\r\n                return self.dataSource;\r\n                break;\r\n        }\r\n    }\r\n\r\n    getName(v) {\r\n        return v.name; \r\n    }\r\n\r\n    getValue(v) {\r\n        var self = this;\r\n\r\n        return Helper.get(self.keys, v);\r\n    }\r\n\r\n    /*=====  End of Main Functions  ======*/\r\n\r\n    /*=================================================\r\n    =            Normalize Data For Charts            =\r\n    =================================================*/\r\n    getDataTargetForBarChart() {\r\n        var self = this;\r\n\r\n        switch(self.getDataTypeForBarChart()) {\r\n            case \"single\":\r\n                self.dataSource.forEach(function(data, index) {\r\n                    let _stack = [];\r\n                    let _data = {\r\n                        \"max\": Helper.get(self.keys.value, data),\r\n                        \"stack\": [{\r\n                            \"name\" : Helper.get(self.keys.name, data),\r\n                            \"y0\" : 0,\r\n                            \"y1\" : Helper.get(self.keys.value, data),\r\n                            \"enable\" : true,\r\n                        }]\r\n                    };\r\n                    self.dataTarget.push(_data);\r\n                });\r\n\r\n                return self.dataTarget;\r\n                break;\r\n\r\n            case \"group\":\r\n                var groups = self.groups;\r\n\r\n                // Iterate over each group\r\n                self.dataSource.forEach(function(data, index) {\r\n                    let _dsArray    = Helper.get(self.keys.value, data);\r\n\r\n                    let _stack      = [],\r\n                        _stackItem = {\r\n                            \"color\": \"#ffffff\",\r\n                            \"y0\": 0,\r\n                            \"y1\": 1,\r\n                            \"group\": \"\",\r\n                            \"name\": \"\",\r\n                            \"data-ref\": \"\",\r\n                            \"enable\"    : true,\r\n                        },\r\n                        color = self.colorRange;\r\n\r\n                    // Iterate each single bar in a group\r\n                    if (Helper.isArray(_dsArray)) {\r\n                        _dsArray.forEach(function(d, i) {\r\n                            _stackItem = {\r\n                                \"color\": color(i),\r\n                                \"y0\": d,\r\n                                \"y1\": d > 0 ? d : 0,\r\n                                \"group\": groups[i] || i,\r\n                                \"name\": Helper.get(self.keys.name, data),\r\n                                \"data-ref\": Helper.guid(),\r\n                                \"enable\"    : true,\r\n                            };\r\n                            _stack.push(_stackItem);\r\n                        });\r\n                    } else {\r\n                        _stackItem = {\r\n                            \"color\": color(0),\r\n                            \"y0\": _dsArray,\r\n                            \"y1\": _dsArray > 0 ? _dsArray : 0,\r\n                            \"group\": groups[0] || 0,\r\n                            \"name\": Helper.get(self.keys.name, data),\r\n                            \"data-ref\": Helper.guid(),\r\n                            \"enable\"    : true,\r\n                        };\r\n                        _stack.push(_stackItem);\r\n                    }\r\n\r\n                    self.dataTarget.push(_stack);\r\n                });\r\n\r\n                return self.dataTarget;\r\n                break;\r\n\r\n            case \"stack\":\r\n                var stacks = self.stacks;\r\n\r\n                // Iterate over each group\r\n                self.dataSource.forEach(function(data, index) {\r\n                    let _dsArray    = Helper.get(self.keys.value, data);\r\n\r\n                    let _stack      = [],\r\n                        _stackItem = {\r\n                            \"color\": \"#ffffff\",\r\n                            \"y0\": 0,\r\n                            \"y1\": 1,\r\n                            \"group\": \"\",\r\n                            \"name\": \"\",\r\n                            \"data-ref\": \"\",\r\n                            \"enable\"    : true,\r\n                        },\r\n                        color = self.colorRange;\r\n\r\n                    // Iterate each single bar in a group\r\n                    if (Helper.isArray(_dsArray)) {\r\n                        let _negBase = 0;\r\n                        let _posBase = 0;\r\n                        _dsArray.forEach(function(d, i) {\r\n                            _stackItem = {\r\n                                \"color\": color(i),\r\n                                \"y0\": d,\r\n                                \"y1\": d > 0 ? d + _posBase : _negBase,\r\n                                \"group\": stacks[i] || i,\r\n                                \"name\": Helper.get(self.keys.name, data),\r\n                                \"data-ref\": Helper.guid(),\r\n                                \"enable\"    : true,\r\n                            };\r\n                            _stack.push(_stackItem);\r\n                            if (d > 0) _posBase += d;\r\n                            else _negBase += d;\r\n                        });\r\n                    } else {\r\n                        _stackItem = {\r\n                            \"color\": color(0),\r\n                            \"y0\": _dsArray,\r\n                            \"y1\": _dsArray > 0 ? _dsArray : 0,\r\n                            \"group\": stacks[0] || 0,\r\n                            \"name\": Helper.get(self.keys.name, data),\r\n                            \"data-ref\": Helper.guid(),\r\n                            \"enable\"    : true,\r\n                        };\r\n                        _stack.push(_stackItem);\r\n                    }\r\n\r\n                    self.dataTarget.push(_stack);\r\n                });\r\n\r\n                return self.dataTarget;\r\n                break;\r\n\r\n            default:\r\n                return self.dataSource;\r\n                break;\r\n        }\r\n    \r\n    }\r\n\r\n    getDataTargetForPieChart() {\r\n        var self = this;\r\n\r\n        let color = self.colorRange;\r\n        self.dataSource.forEach(function(data, index) {\r\n            let _data = {\r\n                \"color\"     : color(index),\r\n                \"name\"      : Helper.get(self.keys.name, data),\r\n                \"value\"     : Helper.get(self.keys.value, data),\r\n                \"data-ref\"  : Helper.guid(),\r\n                \"enable\"    : true,\r\n            };\r\n            self.dataTarget.push(_data);\r\n        });\r\n\r\n        return self.dataTarget;\r\n\r\n    }\r\n\r\n    getDataTargetForDonutChart() {\r\n        var self = this;\r\n\r\n        let color = self.colorRange;\r\n        self.dataSource.forEach(function(data, index) {\r\n            let _data = {\r\n                \"color\"     : color(index),\r\n                \"data-ref\"  : Helper.guid(),\r\n                \"enable\"    : true,\r\n                \"name\"      : Helper.get(self.keys.name, data),\r\n                \"value\"     : Helper.get(self.keys.value, data),\r\n            };\r\n\r\n            self.dataTarget.push(_data);\r\n        });\r\n\r\n        return self.dataTarget;\r\n\r\n    }\r\n\r\n    getDataTargetForTimelineChart() {\r\n        var self = this;\r\n\r\n        let color = self.colorRange;\r\n\r\n        self.dataSource.forEach(function(data, index) {\r\n\r\n            let _data = {\r\n                // \"color\"     : color(index),\r\n                \"icon\"      : data.icon,\r\n                \"name\"      : Helper.get(self.keys.name, data),\r\n                \"value\"     : [],\r\n                \"data-ref\"  : Helper.guid(),\r\n                \"enable\"    : true,\r\n            };\r\n\r\n            let _dsArray    = Helper.get(self.keys.value, data),\r\n                _valueArray = [],\r\n                _valueItem  = {\r\n                    \"start\": null ,\r\n                    \"end\": null ,\r\n                    \"color\": \"#fff\",\r\n                    \"data-ref\": null,\r\n                    \"enable\": true\r\n                };\r\n\r\n            if (Helper.isArray(_dsArray)) {\r\n                _dsArray.forEach(function(d, i) {\r\n                    _valueItem = {\r\n                        \"start\": d.start,\r\n                        \"end\": d.end ,\r\n                        \"color\": color(index),\r\n                        \"data-ref\": Helper.guid(),\r\n                        \"enable\": true,\r\n                    };\r\n                    _valueArray.push(_valueItem);\r\n                });\r\n            } else {\r\n                _valueItem = {\r\n                    \"start\": d.start,\r\n                    \"end\": d.end ,\r\n                    \"color\": color(index),\r\n                    \"data-ref\": Helper.guid(),\r\n                    \"enable\": true,\r\n                };\r\n                _valueArray.push(_valueItem);\r\n            }\r\n            _data.value = _valueArray;\r\n\r\n            self.dataTarget.push(_data);\r\n        });\r\n        return self.dataTarget;\r\n\r\n    }\r\n    \r\n    getDataTargetForLineChart() {\r\n        var self = this;\r\n\r\n        let color = self.colorRange;\r\n        self.dataSource.forEach(function(data, index) {\r\n            let _data = {\r\n                \"color\"     : color(index),\r\n                \"name\"      : Helper.get(self.keys.name, data),\r\n                \"value\"     : Helper.get(self.keys.value, data),\r\n                \"time\"      : Helper.get(self.keys.time, data),\r\n                \"data-ref\"  : Helper.guid(),\r\n                \"enable\"    : true,\r\n            };\r\n            self.dataTarget.push(_data);\r\n        });\r\n\r\n        return self.dataTarget;\r\n\r\n    }\r\n    /*=====  End of Normalize Data For Charts  ======*/\r\n    \r\n    /*=============================\r\n    =            Utils            =\r\n    =============================*/\r\n    // getBarColorForBarChart() {\r\n    //     var self = this;\r\n\r\n    //     var color = self.colorRange;\r\n    //     if (typeof color == 'string') {\r\n    //         try {\r\n    //             return d3.scale[color]();    \r\n    //         }\r\n    //         catch(err) {\r\n    //             return function(i) {\r\n    //                 return color;\r\n    //             };\r\n    //         }\r\n    //     } else if (typeof color == 'object') {\r\n    //         return d3.scale.ordinal().range(color);\r\n    //     }\r\n    // }\r\n    \r\n    \r\n    /*=====  End of Utils  ======*/\r\n    \r\n\r\n    /*=============================================\r\n    =            Data Input From Files            =\r\n    =============================================*/\r\n    \r\n    getCsv() {\r\n\r\n        var self = this;\r\n\r\n        d3.csv(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            return data;\r\n        });\r\n\r\n    }\r\n\r\n    getTsv() {\r\n\r\n        var self = this;\r\n\r\n        d3.tsv(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            return data;\r\n        });\r\n\r\n    }\r\n\r\n    getText() {\r\n\r\n        var self = this;\r\n\r\n        d3.text(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            return JSON.parse(data);\r\n        });\r\n\r\n    }\r\n\r\n    getJson() {\r\n        var self = this;\r\n\r\n        d3.json(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            return data;\r\n        });\r\n    }\r\n\r\n    getXml() {\r\n        var self = this;\r\n\r\n        d3.xml(self.file.url, function(err, data) {\r\n            if (err) throw err;\r\n            \r\n            // Convert the XML document to an array of objects.\r\n            // Note that querySelectorAll returns a NodeList, not a proper Array,\r\n            // so we must use map.call to invoke array methods.\r\n            data = [].map.call(data.querySelectorAll(\"data\"), function(d) {\r\n                return {\r\n                    name: d.querySelector(\"name\").textContent,\r\n                    value: d.querySelector(\"value\").textContent\r\n                };\r\n            });\r\n\r\n            return data;\r\n        });\r\n    }\r\n    \r\n    /*=====  End of Data Input From Files  ======*/\r\n    \r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/helper/C9.DataAdapter.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class DonutChart extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n        var self = this;\r\n        var R = Math.min(self.width - self.margin.left - self.margin.right, self.height - self.margin.top - self.margin.bottom) / 2;\r\n        var config = {\r\n            outerRadius: R,\r\n            innerRadius: R > 80 ? R - 80 : R - 40,\r\n            showText: true // show/hide text on middle or each donut\r\n        };\r\n\r\n        self._outerRadius   = options.outerRadius || config.outerRadius;\r\n        self._innerRadius   = options.innerRadius || config.innerRadius;\r\n        self._showText      = options.showText || config.showText;\r\n        self.body.type      = 'donut';\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        var da = new DataAdapter(dataOption);\r\n        self.dataTarget     = da.getDataTarget(\"donut\");\r\n\r\n        self.updateConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get outerRadius() {\r\n        return this._outerRadius;\r\n    }\r\n\r\n    get innerRadius() {\r\n        return this._innerRadius;\r\n    }\r\n\r\n    get showText() {\r\n        return this._showText;\r\n    }\r\n\r\n    get tooltip() {\r\n        return this._tooltip;\r\n    }\r\n\r\n    get pie() {\r\n        return this._pie;\r\n    }\r\n\r\n    get arc() {\r\n        return this._arc;\r\n    }\r\n\r\n    get currentData() {\r\n        return this._currentData;\r\n    }\r\n\r\n    get chartType() {\r\n        return this._body.type;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set outerRadius(newOuterRadius) {\r\n        if (newOuterRadius) {\r\n            this._outerRadius = newOuterRadius;\r\n        }\r\n    }\r\n\r\n    set innerRadius(newInnerRadius) {\r\n        if (newInnerRadius) {\r\n            this._innerRadius = newInnerRadius;\r\n        }\r\n    }\r\n\r\n    set showText(newShowText) {\r\n        if (newShowText) {\r\n            this._showText = newShowText;\r\n        }\r\n    }\r\n\r\n    set tooltip(newTooltip) {\r\n        if (newTooltip) {\r\n            this._tooltip = newTooltip;\r\n        }\r\n    }\r\n\r\n    set pie(newPie) {\r\n        if (newPie) {\r\n            this._pie = newPie;\r\n        }\r\n    }\r\n\r\n    set arc(newArc) {\r\n        if (newArc) {\r\n            this._arc = newArc;\r\n        }\r\n    }\r\n\r\n    set currentData(newCurrentData) {\r\n        if (newCurrentData) {\r\n            this._currentData = newCurrentData;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    /**\r\n     * Update Donut Chart Config\r\n     */\r\n    updateConfig() {\r\n        var self = this;\r\n\r\n        // chartInnerAfter, chartOuterAfter define easing radius of donut chart during animation\r\n        // TODO: Add configs allow users to define these radius\r\n        var width   = self.width - self.margin.left - self.margin.right,\r\n            height  = self.height - self.margin.top - self.margin.bottom,\r\n            color   = self.colorRange,\r\n            chartInnerBefore = self.innerRadius,\r\n            chartOuterBefore = self.outerRadius,\r\n            chartInnerAfter = self.innerRadius,\r\n            chartOuterAfter = self.outerRadius * 1.2;\r\n\r\n        var hoverOptions        = self.hover.options,\r\n            hoverEnable         = self.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback  = self.click.callback;\r\n\r\n        // Main Event Dispatch for paths in donut chart\r\n        self._eventFactory = {\r\n            'click': function(d, i) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, d);\r\n                }\r\n            },\r\n\r\n            'mouseover': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, d);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                selector.transition()\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerAfter)\r\n                            .outerRadius(chartOuterAfter)\r\n                        )\r\n                        // .style('stroke', '#000')\r\n                        .attr('fill-opacity', '1.0');\r\n\r\n                self.tooltip().mouseover(d);\r\n            },\r\n            \r\n            'mouseout': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, d);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                selector.transition()\r\n                        .duration(500)\r\n                        .ease('bounce')\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerBefore)\r\n                            .outerRadius(chartOuterBefore)\r\n                        )\r\n                        // .style('stroke', '#000')\r\n                        .attr('fill-opacity', '0.5');\r\n\r\n                self.tooltip().mouseout(d);\r\n            }\r\n\r\n        };\r\n\r\n        // Define the tooltip\r\n        // TODO: Define it as a individual CLASS, in C9.Tooltip\r\n        self.tooltip = function() {\r\n            // First, remove all before hover div\r\n            self.body.selectAll('g.c9-custom-tooltip-container').remove();\r\n\r\n            // TODO: Add margin to tooltip configs\r\n            // Default: (100, 100) relative to mouse coordinate and chart margin transformation\r\n            var divOnHover = self.body.append('g')\r\n                                .attr('class', 'c9-custom-tooltip-container')\r\n                                .attr(\"transform\", function() { return 'translate(' + (d3.mouse(this)[0] - 100) +\",\"+ (d3.mouse(this)[1]- 100) + ')'; })\r\n                                .style('display', 'none')\r\n\r\n            var arc = d3.svg.arc()\r\n                    .outerRadius(self.outerRadius)\r\n                    .innerRadius(self.innerRadius);\r\n\r\n            // Rect Container\r\n            divOnHover\r\n                .append('rect')\r\n                    .attr('class', 'c9-custom-tooltip-box')\r\n                    .attr('x', 25)\r\n                    .attr('rx', 5)\r\n                    .attr('ry', 5)\r\n                    .style('position', 'absolute')\r\n                    .style('width', '100px')\r\n                    .style('height', '50px')\r\n                    .attr('fill', '#FEE5E2')\r\n                    .attr('stroke', '#FDCCC6')\r\n                    .attr('stroke-width', 2);\r\n            // First line\r\n            var text_1 = divOnHover\r\n                            .append('text')\r\n                                .attr('class', 'c9-custom-tooltip-label')\r\n                                .attr('x', 30)\r\n                                .attr('y', 10)\r\n                                .style('font-family', 'sans-serif')\r\n                                .style('font-size', '10px');\r\n            // Second line\r\n            var text_2 = divOnHover\r\n                            .append('text')\r\n                                .attr('class', 'c9-custom-tooltip-label')\r\n                                .attr('x', 30)\r\n                                .attr('y', 20)\r\n                                .style('font-family', 'sans-serif')\r\n                                .style('font-size', '10px');\r\n\r\n            var tooltipEventFactory = {\r\n\r\n                'mouseover': function(d) {\r\n                    divOnHover.transition()\r\n                        .duration(hoverOptions.onMouseOver.fadeIn)\r\n                        .style(\"display\", 'block');\r\n                        \r\n                   let name = d.data.name || d.data.data.name,\r\n                       value = d.data.value || d.data.data.value;\r\n\r\n                    text_1.text('Name: ' + name);\r\n                    text_2.text('Value: ' + value);\r\n                },\r\n\r\n                'mouseout': function(d) {\r\n                    divOnHover.transition()\r\n                        .duration(hoverOptions.onMouseOut.fadeOut)      \r\n                        .style('display', 'none');\r\n\r\n                }\r\n\r\n            };\r\n\r\n            return tooltipEventFactory;\r\n\r\n        };\r\n\r\n        self.arc = d3.svg.arc()\r\n                    .outerRadius(self.outerRadius)\r\n                    .innerRadius(self.innerRadius);\r\n\r\n        //we can sort data here\r\n        self.pie = d3.layout.pie()\r\n                    .sort(null)\r\n                    .value(function(d) { return d.value; });\r\n\r\n        //draw chart\r\n        var arcs = self.body\r\n                    .append('g')\r\n                        .attr('class', 'c9-chart c9-custom-arc-container')\r\n                        .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\r\n                        .selectAll('.c9-chart-donut.c9-custom-arc')\r\n                        .data(self.pie(self.dataTarget)).enter()\r\n                        .append('g')\r\n                            .attr('class', 'c9-chart-donut c9-custom-arc');\r\n\r\n        // Append main path contains donut\r\n        // TODO: add a unique class to allow Legend could find selected donut/pie\r\n        arcs.append('path')\r\n                .attr('class', 'c9-chart-donut c9-custom-path')\r\n                .attr('data-ref', function(d) { return d.data['data-ref']; })\r\n                .attr('d', self.arc)\r\n                .attr('fill', function(d, i) { return color(i); })\r\n                .attr('stroke', '#ffffff')\r\n                .attr('fill-opacity', '0.5')\r\n                .each(function(d) { self._currentData = d; }); \r\n                // Current data used for calculate interpolation \r\n                // between current arc vs disabled arc\r\n\r\n\r\n        // Append middle text display name\r\n        // if (self.showText) {\r\n        //     arcs.append('text')\r\n        //             .attr('class', 'c9-chart-donut c9-custom-text')\r\n        //             .attr('transform', function(d) { return 'translate(' + self.arc.centroid(d) + ')'; })\r\n        //             .attr('dy', '.35em')\r\n        //             .attr('text-anchor', 'middle')\r\n        //             .text(function(d) { return d.data.name; });\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * Main draw function of Donut Chart\r\n     */\r\n    draw() {\r\n\r\n        var self = this;\r\n        \r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);\r\n        var legend  = new Legend(self.options, self.body, self.dataTarget);\r\n\r\n        // Draw legend\r\n        legend.draw();\r\n        legend.updateInteractionForDonutPieChart(self, self.selectAllPath(), self.pie, self.currentData, self.arc);\r\n\r\n        // Update interaction of this own chart\r\n        self.updateInteraction();\r\n\r\n    }\r\n\r\n    /**\r\n     * Select all path as type PATH in Donut Chart via its CLASS\r\n     */\r\n    selectAllPath() {\r\n        var self = this;\r\n\r\n        return self.body\r\n                // .selectAll('g')\r\n                    .selectAll('path.c9-chart-donut.c9-custom-path');\r\n    }\r\n\r\n    /**\r\n     * Update Interaction: Hover\r\n     * @return {} \r\n     */\r\n    updateInteraction() {\r\n        var self    = this,\r\n            selector= self.selectAllPath();\r\n\r\n        selector.on(self._eventFactory);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.DonutChart.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class LineChart extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n        var self    = this;\r\n        var config  = {\r\n            pointShow: false,\r\n            pointFill: \"#fb8072\",\r\n            pointStroke: \"#d26b5f\",\r\n            pointOpacity: 1.0,\r\n            pointRadius: 5,\r\n            pointHoverEnable: false,\r\n            interpolate: \"linear\" // refer: https://www.dashingd3js.com/svg-paths-and-d3js\r\n        };\r\n\r\n        self._pointShow         = options.pointShow            ||  config.pointShow;\r\n        self._pointRadius       = options.pointRadius          ||  config.pointRadius;\r\n        self._pointFill         = options.pointFill            ||  config.pointFill;\r\n        self._pointStroke       = options.pointStroke          ||  config.pointStroke;\r\n        self._pointOpacity      = options.pointOpacity         ||  config.pointOpacity;\r\n        self._pointHoverEnable  = options.pointHoverEnable    ||  config.pointHoverEnable;\r\n        self._interpolate       = options.interpolate           ||  config.interpolate;\r\n        self.body.type = \"line\";\r\n\r\n        var width   = self.width - self.margin.left - self.margin.right;\r\n        var height  = self.height - self.margin.top - self.margin.bottom;\r\n\r\n        var x = d3.scale.linear().range([0, width]);\r\n        var y = d3.scale.linear().range([height, 0]);\r\n\r\n        self._x = x;\r\n        self._y = y;\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        var da = new DataAdapter(dataOption);\r\n        self.dataTarget     = da.getDataTarget(\"line\");\r\n\r\n        self.updateConfig();\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n\r\n    get pointShow() {\r\n        return this._pointShow;\r\n    }\r\n\r\n    get pointFill() {\r\n        return this._pointFill;\r\n    }\r\n\r\n    get pointStroke() {\r\n        return this._pointStroke;\r\n    }\r\n\r\n    get pointOpacity() {\r\n        return this._pointOpacity;\r\n    }\r\n\r\n    get pointRadius() {\r\n        return this._pointRadius;\r\n    }\r\n\r\n    get pointHoverEnable() {\r\n        return this._pointHoverEnable;\r\n    }\r\n\r\n    get interpolate() {\r\n        return this._interpolate;\r\n    }\r\n    \r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    get dataGroup() {\r\n        return this._dataGroup;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n\r\n    set pointShow(newPointShow) {\r\n        if (newPointShow) {\r\n            this._pointShow = newPointShow;\r\n        }\r\n    }\r\n\r\n    set pointFill(newPointFill) {\r\n        if (newPointFill) {\r\n            this._pointFill = newPointFill;\r\n        }\r\n    }\r\n\r\n    set pointStroke(newPointStroke) {\r\n        if (newPointStroke) {\r\n            this._pointStroke = newPointStroke;\r\n        }\r\n    }\r\n\r\n    set pointOpacity(newPointOpacity) {\r\n        if (newPointOpacity) {\r\n            this._pointOpacity = newPointOpacity;\r\n        }\r\n    }\r\n\r\n    set pointRadius(newPointRadius) {\r\n        if (newPointRadius) {\r\n            this._pointRadius = newPointRadius;\r\n        }\r\n    }\r\n\r\n    set pointHoverEnable(newPointHoverEnable) {\r\n        if (newPointHoverEnable) {\r\n            this._pointHoverEnable = newPointHoverEnable;\r\n        }\r\n    }\r\n\r\n    set interpolate(newInterpolate) {\r\n        if (newInterpolate) {\r\n            this._interpolate = newInterpolate;\r\n        }\r\n    }\r\n\r\n    set x(newX) {\r\n        if (newX) {\r\n            this._x = newX;\r\n        }\r\n    }\r\n\r\n    set y(newY) {\r\n        if (newY) {\r\n            this._y = newY;\r\n        }\r\n    }\r\n\r\n    set dataGroup(newDataGroup) {\r\n        if (newDataGroup) {\r\n            this._dataGroup = newDataGroup;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n\r\n    /**\r\n     * First init Line Chart\r\n     */\r\n    updateConfig() {\r\n        var self = this,\r\n            x = self._x,\r\n            y = self._y;\r\n\r\n        self._dataGroup = d3.nest()\r\n                        .key(function(d) { return d.name; })\r\n                        .entries(self.dataTarget);\r\n\r\n        var dataGroup = self._dataGroup;\r\n\r\n        x.domain([d3.min(self.dataTarget, function(d) {\r\n                    return d.time;\r\n                }), d3.max(self.dataTarget, function(d) {\r\n                    return d.time;\r\n                })]);\r\n        y.domain([d3.min(self.dataTarget, function(d) {\r\n                    return d.value;\r\n                }), d3.max(self.dataTarget, function(d) {\r\n                    return d.value;\r\n                })]);\r\n\r\n        var lineGen = d3.svg.line()\r\n                        .x(function(d) { return x(d.time); })\r\n                        .y(function(d) { return y(d.value); })\r\n                        .interpolate(self.interpolate);\r\n\r\n        var _body        = self.body,\r\n            _pointShow  = self.pointShow,\r\n            _pointRadius= self.pointRadius,\r\n            _pointFill  = self.pointFill,\r\n            _pointStroke= self.pointStroke,\r\n            _pointOpacity= self.pointOpacity;\r\n\r\n        dataGroup.forEach(function(d,i) {\r\n            _body.append('path')\r\n                .attr('d', lineGen(d.values))\r\n                .attr('stroke', d.values[0].color)\r\n                .attr('stroke-width', 2)\r\n                .attr('data-ref', 'c9-'+d.key)\r\n                .attr('fill', 'none');\r\n\r\n            if (_pointShow) {\r\n                _body.selectAll(\"dot\")\r\n                    .data(d.values)\r\n                    .enter()\r\n                    .append(\"circle\")\r\n                    .attr('class', 'c9-chart-line c9-circle-custom')\r\n                    .attr(\"r\", _pointRadius)\r\n                    .attr(\"cx\", function(_d) { return x(_d.time); })\r\n                    .attr(\"cy\", function(_d) { return y(_d.value); })\r\n                    .attr(\"data-ref\", function (d) { return d[\"data-ref\"]; })\r\n                    .style(\"fill\", _pointFill) \r\n                    .style(\"stroke\", _pointStroke)\r\n                    .style(\"opacity\", _pointOpacity);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Main draw function of Line Chart\r\n     */\r\n    draw() {\r\n        var self = this;\r\n\r\n        var axis    = new Axis(self.options, self.body, self.data, self.width - self.margin.left - self.margin.right, self.height - self.margin.top - self.margin.bottom, self._x, self._y);\r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);\r\n        var legend  = new Legend(self.options, self.body, self.dataTarget);\r\n\r\n        // Draw legend\r\n        legend.draw();\r\n        legend.updateInteractionForLineChart(self);\r\n\r\n        self.updateInteraction();\r\n    }\r\n\r\n    /**\r\n     * Select all circle as type CIRCLE in Line Chart via its CLASS\r\n     */\r\n    selectAllCircle() {\r\n        var self = this;\r\n\r\n        return self.body\r\n                .selectAll('circle.c9-chart-line.c9-circle-custom');\r\n    }\r\n\r\n    /**\r\n     * Update Interaction: Hover\r\n     */\r\n    updateInteraction() {\r\n        var self = this,\r\n            hoverEnable     = self.hover.enable,\r\n            hoverOptions    = self.hover.options,\r\n            selector        = self.selectAllCircle(),\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback  = self.click.callback;\r\n\r\n        // Define the div for the tooltip\r\n        // TODO: Allow user to add custom DIV, CLASS\r\n        // Make sure that: \r\n        // - Rect not overflow the bar, if not, hover effect will be messed\r\n        // -> So, just align the rect to right/left (x: 25) to avoid it\r\n        // -> And, the text will be align also\r\n        var div = self.body\r\n                    .append('g')\r\n                    .style('display', 'none');\r\n                    // .style('opacity', 0);\r\n        // Rect Container\r\n        div.append('rect')\r\n            .attr('class', 'c9-custom-tooltip-box')\r\n            .attr('x', 25)\r\n            .attr('rx', 5)\r\n            .attr('ry', 5)\r\n            .style('position', 'absolute')\r\n            .style('width', '100px')\r\n            .style('height', '50px')\r\n            .style('fill', '#FEE5E2')\r\n            .style('stroke', '#FDCCC6')\r\n            .style('stroke-width', 2);\r\n        // First line\r\n        var text_1 = div.append('text')\r\n            .attr('class', 'c9-custom-tooltip-label')\r\n            .attr('x', 30)\r\n            .attr('y', 10)\r\n            .style('font-family', 'sans-serif')\r\n            .style('font-size', '10px');\r\n        // Second line\r\n        var text_2 = div.append('text')\r\n            .attr('class', 'c9-custom-tooltip-label')\r\n            .attr('x', 30)\r\n            .attr('y', 20)\r\n            .style('font-family', 'sans-serif')\r\n            .style('font-size', '10px');\r\n\r\n        // Update Event Factory\r\n        self.eventFactory = {\r\n            'click': function(d) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, d);\r\n                }\r\n            },\r\n            'mouseover': function(d) {\r\n                if (!hoverEnable) return;\r\n                \r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, d);\r\n                }\r\n\r\n                div.transition()\r\n                    .duration(hoverOptions.onMouseOver.fadeIn)\r\n                    .style(\"display\", 'block')\r\n                    .attr(\"transform\", \"translate(\" + self.x(d.time) + \",\" + self.y(d.value) + \")\");\r\n\r\n                text_1.text('Name: ' + d.time);\r\n                text_2.text('Value: ' + d.value);\r\n            },\r\n            'mouseout': function(d) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, d);\r\n                }\r\n\r\n                div.transition()\r\n                    .duration(hoverOptions.onMouseOut.fadeOut)      \r\n                    .style(\"display\", 'none');\r\n            }\r\n        }\r\n\r\n        selector.on(self.eventFactory);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\r\n\r\n// Backup - LOL\r\n// var _currentDataY = this.data;\r\n//         _currentDataY.forEach(function(_currentValue,_index,_arr) {\r\n//                                     _currentDataY[_index].coordinate.sort(function(a,b) {\r\n//                                         return (a.y > b.y) ? 1 : ((b.y > a.y) ? -1 : 0);\r\n//                                     });\r\n//                                 });\r\n//         this.sortedDataY         = _currentDataY;\r\n\r\n//         // Get maximum value of coordinate {x, y}\r\n//         var tempMaxY = [];\r\n\r\n//         for (var i=0; i<this.sortedDataY.length; i++) {\r\n//             tempMaxY[i] = this.sortedDataY[i].coordinate[this.sortedDataY[i].coordinate.length - 1].y;\r\n//         }\r\n\r\n//         var _maxY = Math.max(...tempMaxY);\r\n\r\n\r\n//         var _currentDataX = this.data;\r\n//         _currentDataX.forEach(function(currentValue,index,arr) {\r\n//                                     _currentDataX[index].coordinate.sort(function(a,b) {\r\n//                                         return (a.x > b.x) ? 1 : ((b.x > a.x) ? -1 : 0);\r\n//                                     });\r\n//                                 });\r\n//         this.sortedDataX         = _currentDataX;\r\n//         var tempMaxX = [];\r\n//         for (var i=0; i<this.sortedDataX.length; i++) {\r\n//             tempMaxX[i] = this.sortedDataX[i].coordinate[this.sortedDataX[i].coordinate.length - 1].x;\r\n//         }\r\n//         var _maxX = Math.max(...tempMaxX);\r\n\r\n//         // .1 to make outerPadding, according to: https://github.com/d3/d3/wiki/Ordinal-Scales\r\n//         var width   = this.width - this.margin.left - this.margin.right;\r\n//         var height  = this.height - this.margin.top - this.margin.bottom;\r\n\r\n//         var x = d3.scale.linear().range([0, width]);\r\n//         var y = d3.scale.linear().range([height, 0]);\r\n\r\n//         x.domain([_maxX, 0]);\r\n//         y.domain([_maxY, 0]);\r\n\r\n//         var lineFunc = d3.svg.line()\r\n//             .x(function(d, i) { return x(d.x); })\r\n//             .y(function(d, i) { return y(d.y); })\r\n//             .interpolate(\"linear\");\r\n\r\n//         // this.body.selectAll('g')\r\n//         //         .data(this.sortedDataX)\r\n//         //         .enter()\r\n//         //         .append('path')\r\n//         //         .attr('class', 'line')\r\n//         //         .attr('d', function(d){\r\n//         //             return lineFunc(d.coordinate);\r\n//         //         });\r\n//         this.body.selectAll('dot')\r\n//                 .data(this.sortedDataX)\r\n//                 .selectAll('dot')\r\n//                 .data(function(d,i) {return d;})\r\n//                 .enter()\r\n//                 .append(\"circle\")\r\n//                 .attr(\"r\", 3.5)\r\n//                 .attr(\"cx\", function(d, i) { console.log(d, i); return x(d.coordinate[i].x); })\r\n//                 .attr(\"cy\", function(d, i) { console.log(d, i); return y(d.coordinate[i].y); });\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.LineChart.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\nimport Table from './utils/C9.Table';\r\nimport Tooltip from './utils/C9.Tooltip';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class PieChart extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n\r\n        var self = this;\r\n\r\n        var R = Math.min(self.width - self.margin.left - self.margin.right, self.height - self.margin.top - self.margin.bottom) / 2;\r\n        var config = {\r\n            radius: R,\r\n            showText: true\r\n        };\r\n\r\n        self._radius    = options.radius || config.radius;\r\n        self._showText  = options.showText || config.showText;\r\n\r\n        self.body.type  = 'pie';\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        var da = new DataAdapter(dataOption);\r\n        self.dataTarget     = da.getDataTarget(\"pie\");\r\n\r\n        self.updateConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get radius() {\r\n        return this._radius;\r\n    }\r\n\r\n    get showText() {\r\n        return this._showText;\r\n    }\r\n\r\n    get pie() {\r\n        return this._pie;\r\n    }\r\n\r\n    get arc() {\r\n        return this._arc;\r\n    }\r\n\r\n    get currentData() {\r\n        return this._currentData;\r\n    }\r\n\r\n    get chartType() {\r\n        return this._body.type;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set radius(newradius) {\r\n        if (newradius) {\r\n            this._radius = newradius;\r\n        }\r\n    }\r\n\r\n    set showText(newShowText) {\r\n        if (newShowText) {\r\n            this._showText = newShowText;\r\n        }\r\n    }\r\n\r\n    set pie(newPie) {\r\n        if (newPie) {\r\n            this._pie = newPie;\r\n        }\r\n    }\r\n\r\n    set arc(newArc) {\r\n        if (newArc) {\r\n            this._arc = newArc;\r\n        }\r\n    }\r\n\r\n    set currentData(newCurrentData) {\r\n        if (newCurrentData) {\r\n            this._currentData = newCurrentData;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    /**\r\n     * Update Donut Chart Config\r\n     */\r\n    updateConfig() {\r\n        var self = this;\r\n\r\n        // chartInnerAfter, chartOuterAfter define easing radius of pie chart during animation\r\n        // TODO: Add configs allow users to define these radius\r\n        var width   = self.width - self.margin.left - self.margin.right,\r\n            height  = self.height - self.margin.top - self.margin.bottom,\r\n            color   = self.colorRange,\r\n            chartInnerBefore = 0,\r\n            chartOuterBefore = self.radius,\r\n            chartInnerAfter = 0,\r\n            chartOuterAfter = self.radius * 1.2;\r\n\r\n        var hoverOptions        = self.hover.options,\r\n            hoverEnable         = self.hover.enable,\r\n            onMouseOverCallback = hoverOptions.onMouseOver.callback,\r\n            onMouseOutCallback  = hoverOptions.onMouseOut.callback,\r\n            onClickCallback     = self.click.callback;\r\n\r\n        var tooltip = new Tooltip(self.options.tooltip);\r\n\r\n        // Main Event Dispatch for paths in pie chart\r\n        self._eventFactory = {\r\n            'click': function(d, i) {\r\n                if (Helper.isFunction(onClickCallback)) {\r\n                    onClickCallback.call(this, d);\r\n                }\r\n            },\r\n\r\n            'mouseover': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOverCallback)) {\r\n                    onMouseOverCallback.call(this, d);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                selector.transition()\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerAfter)\r\n                            .outerRadius(chartOuterAfter)\r\n                        )\r\n                        // .style('stroke', '#FFFFF3')\r\n                        .attr('fill-opacity', '1.0');\r\n\r\n                tooltip.draw(d, self, 'mouseover');\r\n            },\r\n            \r\n            'mouseout': function(d, i) {\r\n                if (!hoverEnable) return;\r\n\r\n                if (Helper.isFunction(onMouseOutCallback)) {\r\n                    onMouseOutCallback.call(this, d);\r\n                }\r\n\r\n                var selector = d3.select(this);\r\n                selector.transition()\r\n                        .duration(500)\r\n                        .ease('bounce')\r\n                        .attr('d', d3.svg.arc()\r\n                            .innerRadius(chartInnerBefore)\r\n                            .outerRadius(chartOuterBefore)\r\n                        )\r\n                        // .style('stroke', '#ffffff')\r\n                        .attr('fill-opacity', '0.5');\r\n\r\n                tooltip.draw(d, self, 'mouseout');\r\n            }\r\n\r\n        };\r\n\r\n        self.arc = d3.svg.arc()\r\n                    .innerRadius(0)\r\n                    .outerRadius(self.radius);\r\n\r\n        //we can sort data here\r\n        self.pie = d3.layout.pie()\r\n                    .sort(null)\r\n                    .value(function(d) { return d.value; });\r\n\r\n        //draw chart\r\n        var arcs = self.body\r\n                    .append('g')\r\n                        .attr('class', 'c9-chart c9-custom-arc-container')\r\n                        .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\r\n                        .selectAll('.c9-chart-pie.c9-custom-arc')\r\n                        .data(self.pie(self.dataTarget)).enter()\r\n                        .append('g')\r\n                            .attr('class', 'c9-chart-pie c9-custom-arc');\r\n\r\n        // Append main path contains pie\r\n        arcs.append('path')\r\n                .attr('class', 'c9-chart-pie c9-custom-path')\r\n                .attr('data-ref', function(d) { return d.data['data-ref']; })\r\n                .attr('d', self.arc)\r\n                .attr('fill', function(d, i) { return color(i); })\r\n                .attr('stroke', '#ffffff')\r\n                .attr('fill-opacity', '0.5')\r\n                .each(function(d) { self._currentData = d; }); \r\n                // Current data used for calculate interpolation \r\n                // between current arc vs disabled arc\r\n\r\n\r\n        // Append middle text display name\r\n        // if (self.showText) {\r\n        //     arcs.append('text')\r\n        //             .attr('class', 'c9-chart-pie c9-custom-text')\r\n        //             .attr('transform', function(d) { return 'translate(' + self.arc.centroid(d) + ')'; })\r\n        //             .attr('dy', '.35em')\r\n        //             .attr('text-anchor', 'middle')\r\n        //             .text(function(d) { return d.data.name; });\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * Main draw function of Donut Chart\r\n     */\r\n    draw() {\r\n\r\n        var self = this;\r\n        \r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);\r\n        var legend  = new Legend(self.options, self.body, self.dataTarget);\r\n        var table   = new Table(self.options.table, self.body, self.dataTarget);\r\n\r\n        // Draw legend\r\n        legend.draw();\r\n        legend.updateInteractionForDonutPieChart(self, self.selectAllPath(), self.pie, self.currentData, self.arc);\r\n\r\n        // Draw table\r\n        table.draw();\r\n\r\n        // Update interaction of this own chart\r\n        self.updateInteraction();\r\n\r\n    }\r\n\r\n    /**\r\n     * Select all path as type PATH in Donut Chart via its CLASS\r\n     */\r\n    selectAllPath() {\r\n        var self = this;\r\n\r\n        return self.body\r\n                // .selectAll('g')\r\n                    .selectAll('path.c9-chart-pie.c9-custom-path');\r\n    }\r\n\r\n    /**\r\n     * Update Interaction: Hover\r\n     * @return {} \r\n     */\r\n    updateInteraction() {\r\n        var self    = this,\r\n            selector= self.selectAllPath();\r\n\r\n        selector.on(self.eventFactory);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.PieChart.js\n **/","import Helper from '../../helper/C9.Helper';\r\n\r\nexport default class Table {\r\n    constructor(options, body, data) {\r\n        var config = {\r\n            container: \"body\",\r\n            show: false,\r\n            headings: [\"Name\", \"Value\"],\r\n            style: \"stripe\", // || \"stripe\"\r\n            serial: true,\r\n            hover: {\r\n                enable: true,\r\n                callback: null\r\n            },\r\n            click: {\r\n                enable: true,\r\n                callback: null\r\n            }\r\n        };\r\n\r\n        var self = this;\r\n\r\n        self._container = options.container || config.container;\r\n        self._show = options.show ? options.show : config.show;\r\n        self._headings = options.headings || config.headings;\r\n        self._style = options.style || config.style;\r\n        self._serial = options.serial || config.serial;\r\n        self._hover = Helper.merge(options.hover, config.hover);\r\n        self._click = Helper.merge(options.click, config.click);\r\n\r\n        self._data = data;\r\n        self._body = body;\r\n\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get data() {\r\n        return this._data;\r\n    }\r\n\r\n    get body() {\r\n        return this._body;\r\n    }\r\n\r\n    get container() {\r\n        return this._container;\r\n    }\r\n\r\n    get show() {\r\n        return this._show;\r\n    }\r\n\r\n    get headings() {\r\n        return this._headings;\r\n    }\r\n\r\n    get style() {\r\n        return this._style;\r\n    }\r\n\r\n    get serial() {\r\n        return this._serial;\r\n    }\r\n\r\n    get hover() {\r\n        return this._hover;\r\n    }\r\n\r\n    get click() {\r\n        return this._click;\r\n    }\r\n\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set data(arg) {\r\n        if (arg) {\r\n            this._data = arg;\r\n        }\r\n    }\r\n\r\n    set body(arg) {\r\n        if (arg) {\r\n            this._body = arg;\r\n        }\r\n    }\r\n\r\n    set container(arg) {\r\n        if (arg) {\r\n            this._container = arg;\r\n        }\r\n    }\r\n\r\n    set show(arg) {\r\n        if (arg) {\r\n            this._show = arg;\r\n        }\r\n    }\r\n\r\n    set headings(arg) {\r\n        if (arg) {\r\n            this._headings = arg;\r\n        }\r\n    }\r\n\r\n    set style(arg) {\r\n        if (arg) {\r\n            this._style = arg;\r\n        }\r\n    }\r\n\r\n    set serial(arg) {\r\n        if (arg) {\r\n            this._serial = arg;\r\n        }\r\n    }\r\n\r\n    set hover(arg) {\r\n        if (arg) {\r\n            this._hover = arg;\r\n        }\r\n    }\r\n\r\n    set click(arg) {\r\n        if (arg) {\r\n            this._click = arg;\r\n        }\r\n    }\r\n\r\n    /*=====  End of Setter  ======*/\r\n\r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    draw() {\r\n        var self = this;\r\n\r\n        if (self.show) {\r\n\r\n            var headTbl = d3.select(self.container).append(\"table\").attr('class', 'c9-table c9-table-header'),\r\n                thead = headTbl.append(\"thead\"),\r\n\r\n                bodyTbl = d3.select(self.container)\r\n                                .append(\"div\").attr('class', 'c9-table-container')\r\n                                    .append(\"table\").attr('class', function() {\r\n                                        if (self.style === 'default') return 'c9-table c9-table-body';\r\n                                        else if (self.style === 'stripe') return 'c9-table c9-table-body c9-stripe';\r\n                                    }),\r\n                tbody = bodyTbl.append(\"tbody\");\r\n\r\n            // Append serial no heading\r\n            // Bind each statistic to a line of the table\r\n            // Show serial no.\r\n            var hRows = thead.append(\"tr\");\r\n\r\n            if (self.serial) {\r\n                hRows.append(\"th\")\r\n                    .text(\"#\");\r\n            }\r\n\r\n            hRows.selectAll(\"thead\")\r\n                .data(self.headings)\r\n                .enter()\r\n                .append(\"th\")\r\n                    .text(function(d) {\r\n                        return d;\r\n                    });\r\n\r\n            \r\n\r\n\r\n            // Bind each statistic to a line of the table\r\n            // Show serial no.\r\n            var bRows = tbody\r\n                .selectAll(\"tr\")\r\n                .data(self.data)\r\n                    .enter()\r\n                        .append(\"tr\");\r\n\r\n            if (self.serial) {\r\n                bRows.append(\"td\")\r\n                    .text(function(d, i) {\r\n                        return i + 1;\r\n                    });\r\n            }\r\n\r\n\r\n            // Add statistic names to each row\r\n            bRows.append(\"td\")\r\n                    .text(function(d) {\r\n                        return d.name;\r\n                    });\r\n\r\n\r\n            // Add values to each row\r\n            bRows.append(\"td\")\r\n                    .text(function(d) {\r\n                        return d.value;\r\n                    });\r\n\r\n        }\r\n\r\n    }\r\n    /*=====  End of Main Functions  ======*/\r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/utils/C9.Table.js\n **/","import Chart from './C9.Chart';\r\n\r\nimport Axis from './utils/C9.Axis';\r\nimport Title from './utils/C9.Title';\r\nimport Legend from './utils/C9.Legend';\r\n\r\nimport Helper from '../helper/C9.Helper';\r\nimport DataAdapter from '../helper/C9.DataAdapter';\r\n\r\nexport default class TimeLine extends Chart {\r\n    constructor(options) {\r\n        super(options);\r\n        var self = this;\r\n\r\n        var config = {\r\n            rowSeparator: \"rgb(154, 154, 154)\",\r\n            backgroundColor: null,\r\n            starting: 0,\r\n            ending: 0,\r\n            stack: false, //test\r\n            // rotateTicks: false,\r\n            itemHeight: 25,\r\n            itemMargin: 20,\r\n            labelMargin: 20,\r\n            striped: null\r\n        };\r\n\r\n        self.body.type        = \"timeline\";\r\n        self._stack             = options.stack || config.stack;\r\n        self._starting          = options.starting || config.starting;\r\n        self._ending            = options.ending || config.ending;\r\n        self._rowSeparator      = options.rowSeparator || config.rowSeparator;\r\n        self._backgroundColor   = options.backgroundColor || config.backgroundColor;\r\n        self._itemHeight        = options.itemHeight || config.itemHeight;\r\n        self._itemMargin        = options.itemMargin || config.itemMargin;\r\n        self._labelMargin       = options.labelMargin || config.labelMargin;\r\n        self._maxStack          = 1;\r\n        self._striped           = options.striped || config.striped;\r\n\r\n        var dataOption          = self.dataOption;\r\n        dataOption.colorRange   = self.colorRange;\r\n\r\n        var da = new DataAdapter(dataOption);\r\n        self.dataTarget = da.getDataTarget(\"timeline\");\r\n\r\n        self.initTimelineConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n    get stack() {\r\n        return this._stack;\r\n    }\r\n\r\n    get backgroundColor() {\r\n        return this._backgroundColor;\r\n    }\r\n\r\n    get rowSeparator() {\r\n        return this._rowSeparator;\r\n    }\r\n\r\n    get starting() {\r\n        return this._starting;\r\n    }\r\n\r\n    get ending() {\r\n        return this._ending;\r\n    }\r\n\r\n    get itemHeight() {\r\n        return this._itemHeight;\r\n    }\r\n\r\n    get itemMargin() {\r\n        return this._itemMargin;\r\n    }\r\n\r\n    get labelMargin() {\r\n        return this._labelMargin;\r\n    }\r\n\r\n    get maxStack() {\r\n        return this._maxStack;\r\n    }\r\n\r\n    get striped() {\r\n        return this._striped;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n\r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n    set stack(newStack) {\r\n        if (newStack) {\r\n            this._stacked = newStack;\r\n        }\r\n    }\r\n\r\n    set backgroundColor(newBackgroundColor) {\r\n        if (newBackgroundColor) {\r\n            this._backgroundColor = newBackgroundColor;\r\n        }\r\n    }\r\n\r\n    set rowSeparator(newRowSeparator) {\r\n        if (newRowSeparator) {\r\n            this._rowSeparator = newRowSeparator;\r\n        }\r\n    }\r\n\r\n    set starting(newStarting) {\r\n        if (newStarting) {\r\n            this._starting = newStarting;\r\n        }\r\n    }\r\n\r\n    set ending(newEnding) {\r\n        if (newEnding) {\r\n            this._ending = newEnding;\r\n        }\r\n    }\r\n\r\n    set itemHeight(newItemHeight) {\r\n        if (newItemHeight) {\r\n            this._itemHeight = newItemHeight;\r\n        }\r\n    }\r\n\r\n    set itemMargin(newItemMargin) {\r\n        if (newItemMargin) {\r\n            this._itemMargin = newItemMargin;\r\n        }\r\n    }\r\n\r\n    set labelMargin(newLabelMargin) {\r\n        if (newLabelMargin) {\r\n            this._labelMargin = newLabelMargin;\r\n        }\r\n    }\r\n\r\n    set maxStack(newMaxStack) {\r\n        if (newMaxStack) {\r\n            this._maxStack = newMaxStack;\r\n        }\r\n    }\r\n\r\n    set striped(newStriped) {\r\n        if (newStriped) {\r\n            this._striped = newStriped;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n\r\n    initTimelineConfig() {\r\n        var self = this;\r\n        var color = self.colorRange;\r\n        var stackList = {},\r\n            maxStack = 0,\r\n            minTime = 0,\r\n            maxTime = 0,\r\n            width = self.width - self.margin.left - self.margin.right,\r\n            height = self.height - self.margin.top - self.margin.bottom;\r\n\r\n        // count number of stack and calculate min time, max time from data\r\n        if (self.stack || self.ending === 0 || self.starting === 0) {\r\n            \r\n            self.dataTarget.forEach(function (datum, index) {\r\n\r\n                if (self.stack && Object.keys(stackList).indexOf(index) == -1) {\r\n                    stackList[index] = maxStack;\r\n                    maxStack++;\r\n                }\r\n\r\n                datum.value.forEach(function (time, i) {\r\n                    if(self.starting === 0)\r\n                        if (time.start < minTime || minTime === 0)\r\n                            minTime = time.start;\r\n                    if(self.ending === 0) {\r\n                        if (time.start > maxTime)\r\n                            maxTime = time.start;\r\n                        if (time.end > maxTime)\r\n                            maxTime = time.end;\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (self.ending === 0) {\r\n              self.ending = maxTime;\r\n            }\r\n            if (self.starting === 0) {\r\n              self.starting = minTime;\r\n            }\r\n        }\r\n\r\n        self.maxStack = maxStack;\r\n        var scale = width / (self.ending - self.starting);\r\n\r\n        //draw border\r\n        self.body.append(\"rect\")\r\n            .attr(\"class\", \"timeline-border-bar\")\r\n            .attr(\"x\", 0)\r\n            .attr(\"width\", width)\r\n            .attr(\"y\", 0 - self.itemMargin / 2)\r\n            .attr(\"height\", (self.itemHeight + self.itemMargin) * self.dataTarget.length)\r\n            .attr(\"stroke\", \"rgb(154, 154, 154)\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"none\");\r\n\r\n        self.dataTarget.forEach( function(datum, index){\r\n            var data = datum.value;\r\n\r\n            //draw background\r\n            if (self.backgroundColor) { \r\n                var barYAxis = ((self.itemHeight + self.itemMargin) * stackList[index]);\r\n                self.body.selectAll(\"g\")\r\n                    .data(data).enter()\r\n                    .insert(\"rect\")\r\n                    .attr(\"class\", \"timeline-background-bar\")\r\n                    .attr(\"x\", 0)\r\n                    .attr(\"width\", width)\r\n                    .attr(\"y\", barYAxis - self.itemMargin / 2)\r\n                    .attr(\"height\", self.itemHeight + self.itemMargin)\r\n                    .attr(\"fill\", Helper.isArray(self.backgroundColor) ? self.backgroundColor[index % (self.maxStack - 1)] : self.backgroundColor);\r\n            }\r\n\r\n            if (self.striped) { \r\n                var barYAxis = ((self.itemHeight + self.itemMargin) * stackList[index]);\r\n                self.body.selectAll(\"g\")\r\n                    .data(data).enter()\r\n                    .insert(\"rect\")\r\n                    .attr(\"class\", \"timeline-background-bar\")\r\n                    .attr(\"x\", 0)\r\n                    .attr(\"width\", width)\r\n                    .attr(\"y\", barYAxis - self.itemMargin / 2)\r\n                    .attr(\"height\", self.itemHeight + self.itemMargin)\r\n                    .attr(\"fill\", index % 2 ? \"rgb(255, 255, 255)\" : \"rgb(230, 230, 230)\");\r\n            }\r\n\r\n            //draw item\r\n            self.body.selectAll(\"g\")\r\n                .data(data).enter()\r\n                .append(function (d, i) {\r\n                    return document.createElementNS(d3.ns.prefix.svg, d.end ? \"rect\" : \"circle\");\r\n                })\r\n                .attr(\"x\", getXPos)\r\n                .attr(\"y\", getStackPosition)\r\n                .attr(\"width\", function (d, i) {\r\n                    return (d.end - d.start) * scale;\r\n                })\r\n                .attr(\"cy\", function (d, i) {\r\n                    return getStackPosition(d, i) + self.itemHeight / 2;\r\n                })\r\n                .attr(\"cx\", getXPos)\r\n                .attr(\"r\", self.itemHeight / 2)\r\n                .attr(\"height\", self.itemHeight)\r\n                .style(\"fill\", color(index));\r\n\r\n            //draw label inside item\r\n            // self.body.selectAll(\"g\")\r\n            //     .data(data).enter()\r\n            //     .append(\"text\")\r\n            //     .attr(\"x\", getXTextPos)\r\n            //     .attr(\"y\", getStackTextPosition)\r\n            //     .text(function(d) {\r\n            //       return d.name;\r\n            //     });\r\n\r\n            if (self.rowSeparator && index < self.maxStack - 1) {\r\n                var lineYAxis = ( self.itemHeight + self.itemMargin / 2 + (self.itemHeight + self.itemMargin) * stackList[index]);\r\n                self.body.append(\"svg:line\")\r\n                  .attr(\"class\", \"timeline-row-separator\")\r\n                  .attr(\"x1\", 0)\r\n                  .attr(\"x2\", width)\r\n                  .attr(\"y1\", lineYAxis)\r\n                  .attr(\"y2\", lineYAxis)\r\n                  .attr(\"stroke-width\", 3)\r\n                  .attr(\"stroke\", Helper.isArray(self.rowSeparator) ? self.rowSeparator[index % (self.maxStack - 1)] : self.rowSeparator);\r\n            }\r\n\r\n            //draw the label left side item\r\n            if (!Helper.isEmpty(datum.name) && datum.name != \"\") { \r\n                var rowsDown = self.margin.top + (self.itemHeight + self.itemMargin) * (stackList[index] === undefined ? 0 : stackList[index]) + self.itemHeight * 0.75;\r\n\r\n                d3.select(self.body[0][0].parentNode).append(\"text\")\r\n                    .attr(\"class\", \"timeline-label\")\r\n                    .attr(\"transform\", \"translate(\" + self.labelMargin + \",\" + rowsDown + \")\")\r\n                    .text(datum.name);\r\n            }\r\n            //draw icon\r\n            else if (!Helper.isEmpty(datum.icon) && datum.icon != \"\") {\r\n                d3.select(self.body[0][0].parentNode).append(\"image\")\r\n                    .attr(\"class\", \"timeline-label\")\r\n                    .attr(\"transform\", \"translate(\"+ self.labelMargin +\",\"+ (self.margin.top + (self.itemHeight + self.itemMargin) * stackList[index])+\")\")\r\n                    .attr(\"xlink:href\", datum.icon)\r\n                    .attr(\"width\", self.itemHeight)\r\n                    .attr(\"height\", self.itemHeight);\r\n            }\r\n\r\n            function getStackPosition(d, i) {\r\n                if (self.stack) {\r\n                    return (self.itemHeight + self.itemMargin) * stackList[index];\r\n                }\r\n                return 0;\r\n            }\r\n            function getStackTextPosition(d, i) {\r\n                if (self.stack) {\r\n                    return (self.itemHeight + self.itemMargin) * stackList[index] + self.itemHeight * 0.75;\r\n                }\r\n                return self.itemHeight * 0.75;\r\n            }\r\n        });\r\n\r\n        function getXPos(d, i) {\r\n            return (d.start - self.starting) * scale;\r\n        }\r\n\r\n        function getXTextPos(d, i) {\r\n            return (d.start - self.starting) * scale + 5;\r\n        }\r\n    }\r\n\r\n    draw() {\r\n        var self = this;\r\n        \r\n        self.options.starting = self.starting;\r\n        self.options.ending = self.ending;\r\n        var axis    = new Axis(self.options, self.body, self.dataTarget, self.width - self.margin.left - self.margin.right, (self.itemHeight + self.itemMargin) * self.maxStack, null, null);\r\n        var title   = new Title(self.options, self.body, self.width, self.height, self.margin);    \r\n        var legend  = new Legend(self.options, self.body, self.colorRange, self.dataTarget);\r\n    }\r\n    \r\n    /*=====  End of Main Functions  ======*/\r\n    \r\n    \r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/C9.TimeLine.js\n **/","export default class Map {\r\n    constructor(options) {\r\n        var self    = this;\r\n        var config  = {\r\n            // container\r\n            id: \"body\",\r\n            \r\n            // Layers:\r\n            // BingMaps, OSM, Raster, Tile, TileImage, Vector, VectorTile,...\r\n            // REF: http://openlayers.org/en/latest/apidoc/ol.source.html?stableonly=true\r\n            layers: {\r\n                type: \"Tile\",\r\n                source: {\r\n                    name: \"OSM\"\r\n                }\r\n            }, \r\n            view: {\r\n                lat: 0,\r\n                lon: 0,\r\n                zoom: 2\r\n            }\r\n        };\r\n\r\n        self._id        = options.id        || config.id;\r\n        self._data      = options.data      || config.data;\r\n        self._view      = options.view      || config.view;\r\n        self._markers   = options.markers   || [];\r\n        self._options   = options;\r\n        self._layers    = options.layers    || config.layers;\r\n        self.initMapConfig();\r\n    }\r\n\r\n    /*==============================\r\n    =            Getter            =\r\n    ==============================*/\r\n\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    get view() {\r\n        return this._view;\r\n    }\r\n\r\n    get markers() {\r\n        return this._markers;\r\n    }\r\n\r\n    get layers() {\r\n        return this._layers;\r\n    }\r\n\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    /*=====  End of Getter  ======*/\r\n    \r\n    \r\n    /*==============================\r\n    =            Setter            =\r\n    ==============================*/\r\n\r\n    set id(newId) {\r\n        if (newId) {\r\n            this._id = newId;\r\n        }\r\n    }\r\n\r\n    set height(newHeight) {\r\n        if (newHeight) {\r\n            this._height = newHeight;    \r\n        }\r\n    }\r\n\r\n    set width(newWidth) {\r\n        if (newWidth) {\r\n            this._width = newWidth;\r\n        }\r\n    }\r\n\r\n    set view(newView) {\r\n        if (newView) {\r\n            this._view = newView;\r\n        }\r\n    }\r\n\r\n    set markers(newMarkers) {\r\n        if (newMarkers) {\r\n            this._markers = newMarkers;\r\n        }\r\n    }\r\n\r\n    set layers(newLayers) {\r\n        if (newLayers) {\r\n            this._layers = newLayers;\r\n        }\r\n    }\r\n\r\n    set data(newData) {\r\n        if (newData) {\r\n            this._data = newData;\r\n        }\r\n    }\r\n    /*=====  End of Setter  ======*/\r\n    \r\n    \r\n    /*======================================\r\n    =            Main Functions            =\r\n    ======================================*/\r\n    \r\n    initMapConfig() {\r\n        var self = this;\r\n\r\n        //c9Layers contain all layers\r\n        self.c9Layers = [];\r\n        //c9Markers contain all markers\r\n        self.c9Markers = new ol.source.Vector({});\r\n        //c9Objects contain all polygons, lines\r\n        self.c9Objs = new ol.source.Vector({});\r\n        //init all thing relating to user's data\r\n\r\n        //layer\r\n        self.initLayer();\r\n        \r\n        //quick markers\r\n        self.initMarker();\r\n\r\n        //object\r\n        self.initObj();\r\n    }\r\n\r\n    draw() {\r\n        var self = this;\r\n        self.c9View = new ol.View({\r\n            center: ol.proj.fromLonLat([self.view.lon, self.view.lat]),\r\n            zoom: self.view.zoom > 2 ? self.view.zoom : 2,\r\n            minZoom: 2,\r\n        });\r\n        self.c9Map = new ol.Map({\r\n            target: self.id,\r\n            layers: self.c9Layers,\r\n            view: self.c9View,\r\n            interactions : ol.interaction.defaults({doubleClickZoom :false})\r\n        });\r\n\r\n        //TODO - Create a function to gather all these event function\r\n        self.updateInteraction();\r\n\r\n    }\r\n    /*=====  End of Main Functions  ======*/\r\n\r\n    /**\r\n     * Create layer\r\n     * @param  {String} type of layer\r\n     * @param  {source} source data defined by C9\r\n     */\r\n    createLayer(type, source = undefined){\r\n        var self = this;\r\n        var layer = new ol.layer[type];\r\n        layer.setSource(self.setupSource(source));\r\n        self.c9Layers.push(layer);\r\n    }\r\n\r\n    /**\r\n     * Init Layer base on first user's data\r\n     */\r\n    initLayer() {\r\n        var self = this;\r\n        var layers = self.layers;\r\n\r\n        if (layers instanceof Array) {\r\n            layers.forEach(function(l, i) {\r\n                self.createLayer(l.type, l.source);\r\n            })\r\n        }\r\n        else {\r\n            self.createLayer(layers.type, layers.source);\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    /**\r\n     * Create marker\r\n     * @param  {Number} latitude of marker\r\n     * @param  {Number} longitude of marker\r\n     * @param  {String} image source (support for both local and net)\r\n     * @param  {Number} scale image if its size is too large - default = 1\r\n     */\r\n    createMarker(lat, lon, imgSrc = 'http://s21.postimg.org/blklb8scn/marker_icon.png', scale = 1){\r\n        var self = this;\r\n\r\n        var marker = new ol.Feature({\r\n            type: 'c9GeoMarker',\r\n            geometry: new ol.geom.Point(ol.proj.fromLonLat([lon, lat]))\r\n        });\r\n\r\n        /**\r\n         * Create marker style\r\n         * @param  {String} image source\r\n         * @param  {Number} scale\r\n         * @return {ol.style.Style} return marker style\r\n         */\r\n        var createMarkerStyle = function(imgSrc, scale){\r\n            return new ol.style.Style({\r\n                image: new ol.style.Icon({\r\n                    anchor: [0.5, 1], //middle-width and bottom-height of image\r\n                    src: imgSrc,\r\n                    scale: scale\r\n                })\r\n            });\r\n        }\r\n\r\n        marker.setStyle(createMarkerStyle(imgSrc, scale));\r\n\r\n        //add this marker to marker list (c9Markers)\r\n        self.c9Markers.addFeature(marker);\r\n    }\r\n\r\n    /**\r\n     * marker first set up\r\n     */\r\n    initMarker() {\r\n        var self = this;\r\n        //data\r\n        var markers = self.markers;\r\n        //add marker layer to layer list (c9Layers)\r\n        self.c9Layers.push(new ol.layer.Vector({\r\n            source: self.c9Markers\r\n        }));\r\n\r\n        if (markers.length === 0) return;\r\n\r\n        if (markers instanceof Array) {\r\n            markers.forEach(function(m, i) {\r\n                self.createMarker(m.lat, m.lon, m.img, m.scale);\r\n            });\r\n        }\r\n        else {\r\n            self.createMarker(markers.lat, markers.lon, markers.img, markers.scale);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Setup source for layer\r\n     * @param  {Object} source data style defined by c9\r\n     * @return {String} return source (ol.source)\r\n     */\r\n    setupSource(s){\r\n        var source = undefined;\r\n        switch (s.name) {\r\n            case 'BingMaps':\r\n                source = new ol.source.BingMaps({\r\n                    key: s.key,\r\n                    imagerySet: s.imagerySet || 'Road'\r\n                });\r\n                break;\r\n            case 'Stamen':\r\n                source = new ol.source.Stamen({\r\n                    layer: s.layer || 'watercolor'\r\n                });\r\n                break;\r\n            /********** TileJSON require ol >= v3.8.2 **********/\r\n            case 'TileJSON':\r\n                source = new ol.source.TileJSON({\r\n                    url: s.url,\r\n                    crossOrigin: s.crossOrigin || 'anonymous'\r\n                });\r\n                break;\r\n            case 'TileArcGISRest':\r\n                source = new ol.source.TileArcGISRest({\r\n                    url: s.url\r\n                });\r\n                break;\r\n            case 'Vector':\r\n                source = new ol.source.Vector({\r\n                    url: s.url,\r\n                    format: s.format === undefined ? null : new ol.format[s.format]({\r\n                        extractStyles: s.extractStyles || false\r\n                    })\r\n                });\r\n                break;\r\n            case 'Cluster':\r\n                source = new ol.source.Cluster({\r\n                    distance: s.distance || 20,\r\n                    source: this.setupSource(s.source)\r\n                });\r\n                break;\r\n            case 'ImageVector':\r\n                source = new ol.source.ImageVector({\r\n                    source: this.setupSource(s.source)\r\n                });\r\n                break;\r\n            default: \r\n                source = new ol.source.OSM();\r\n                break;\r\n\r\n        }\r\n        return source;\r\n    }\r\n\r\n    /**\r\n     * Create marker's flash effect\r\n     * @param  {ol.Feature}\r\n     */\r\n    createMarkerEffect(feature){\r\n        var self = this;\r\n        var duration = 3000;\r\n        var start = new Date().getTime();\r\n        var listenerKey;\r\n\r\n        function animate(event) {\r\n            var vectorContext = event.vectorContext;\r\n            var frameState = event.frameState;\r\n            var flashGeom = feature.getGeometry().clone();\r\n            var elapsed = frameState.time - start;\r\n            var elapsedRatio = elapsed / duration;\r\n            // radius will be 5 at start and 30 at end.\r\n            var radius = ol.easing.easeOut(elapsedRatio) * 25 + 5;\r\n            var opacity = ol.easing.easeOut(1 - elapsedRatio);\r\n\r\n            var style = new ol.style.Style({\r\n                image: new ol.style.Circle({\r\n                    radius: radius,\r\n                    snapToPixel: false,\r\n                    stroke: new ol.style.Stroke({\r\n                        color: 'rgba(255, 0, 0, ' + opacity + ')',\r\n                        width: 0.25 + opacity\r\n                    })\r\n                })\r\n            });\r\n\r\n            vectorContext.setStyle(style);\r\n            vectorContext.drawGeometry(flashGeom);\r\n            if (elapsed > duration) {\r\n                ol.Observable.unByKey(listenerKey);\r\n                return;\r\n            }\r\n            // tell OL3 to continue postcompose animation\r\n            self.c9Map.render();\r\n        }\r\n        listenerKey = self.c9Map.on('postcompose', animate);\r\n    }\r\n\r\n    updateInteraction(){\r\n        var self = this;\r\n        const LEFT_KEY = 37, RIGHT_KEY = 39, DURATION = 1000, LOAD_MAP_DELAY = 500;\r\n\r\n        var getCoordinatesLonLat = function(f) {\r\n            return ol.proj.transform(f.getGeometry().getCoordinates(), 'EPSG:3857', 'EPSG:4326');\r\n        }\r\n        var getCoordinates = function(f) {\r\n            return f.getGeometry().getCoordinates();\r\n        }\r\n        var transformCoordinates = function(c) {\r\n            return ol.proj.transform(c, 'EPSG:3857', 'EPSG:4326');\r\n        }\r\n        var panAnimation = function(f){\r\n            var pan = ol.animation.pan({\r\n                duration: DURATION,\r\n                source: (self.c9View.getCenter())\r\n            });\r\n            self.c9Map.beforeRender(pan);\r\n            self.c9View.setCenter(getCoordinates(f));\r\n        }\r\n        /**\r\n         * Caculate distance between marker and center view, plus direction compare with center\r\n         * @param  {ol.Feature}\r\n         * @return {[Number, Boolean]} Array of distance value and direction value (left if true, right if false)\r\n         */\r\n        var distanceAndDirection = function(f) {\r\n            var center = transformCoordinates(self.c9View.getCenter());\r\n            var fCoordinates = getCoordinatesLonLat(f);\r\n            return [Math.sqrt(Math.pow(fCoordinates[0] - center[0], 2) + Math.pow(fCoordinates[1] - center[1], 2)), (fCoordinates[0] - center[0]) <= 0];\r\n        }\r\n        //register pointer move event to show cursor as pointer if user hover on markers\r\n        self.c9Map.on('pointermove', function(evt) {\r\n            self.c9Map.getTargetElement().style.cursor = self.c9Map.hasFeatureAtPixel(evt.pixel) ? 'pointer' : '';\r\n        });\r\n\r\n        //register map first render's event to show marker's effect\r\n        self.c9Map.once('postrender', function(evt) {\r\n            setTimeout(function(){\r\n                self.c9Markers.getFeatures().forEach(function(f, i){\r\n                    self.createMarkerEffect(f);\r\n                })\r\n            }, LOAD_MAP_DELAY);\r\n        });\r\n\r\n        //register click event to show effect on markers\r\n        self.c9Map.on('click', function(evt){\r\n            var f = self.c9Map.forEachFeatureAtPixel(evt.pixel, function(feature, layer){\r\n                return feature;\r\n            });\r\n            if (f && f.get('type') == 'c9GeoMarker') {\r\n                // self.createMarkerEffect(f);\r\n                //test\r\n                panAnimation(f)\r\n            }\r\n        });\r\n\r\n        //register keydown event to change center view\r\n        $(document).keydown(function(e) {\r\n            var keydownAnimate = function(k) {\r\n                var selectedFeature = undefined;\r\n                var minDistance = Infinity;\r\n                self.c9Markers.getFeatures().forEach(function(f, i) {\r\n                    var checkAnimate = distanceAndDirection(f);\r\n\r\n                    if (((checkAnimate[1] && k == LEFT_KEY) || (!checkAnimate[1] && k == RIGHT_KEY)) && checkAnimate[0] < minDistance && checkAnimate[0] != 0) {\r\n                        minDistance = checkAnimate[0];\r\n                        selectedFeature = f;\r\n                    }\r\n                });\r\n                if (selectedFeature) {\r\n                    setTimeout(self.createMarkerEffect(selectedFeature), LOAD_MAP_DELAY);\r\n                    panAnimation(selectedFeature);\r\n                }\r\n            }\r\n            switch(e.keyCode) {\r\n                case LEFT_KEY:\r\n                    keydownAnimate(LEFT_KEY);\r\n                    break;\r\n                case RIGHT_KEY:\r\n                    keydownAnimate(RIGHT_KEY);\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * obj first set up\r\n     */\r\n    initObj() {\r\n        var self = this;\r\n\r\n        //add layer Vector to layer list (c9Layers)\r\n        self.c9Layers.push(new ol.layer.Vector({\r\n            source: self.c9Objs\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * [createObj description]\r\n     * @param  {[type]} type        [description]\r\n     * @param  {[type]} data        [description]\r\n     * @param  {[type]} strokeWidth [description]\r\n     * @param  {[type]} strokeColor [description]\r\n     * @param  {[type]} fillColor   [description]\r\n     * @return {[type]}             [description]\r\n     */\r\n    createObj(type, data, strokeWidth, strokeColor, fillColor){\r\n        var self = this;\r\n\r\n        if (type != \"polygon\" && type != \"line\")\r\n            throw \"No support\";\r\n\r\n        if (data == self.c9Markers) {\r\n            data = [];\r\n            self.c9Markers.getFeatures().forEach(function (d) {\r\n                data.push(ol.proj.transform(d.getGeometry().getCoordinates(), 'EPSG:3857', 'EPSG:4326'));\r\n            })\r\n        }\r\n\r\n        var obj = new ol.Feature({\r\n            geometry: type == \"polygon\" ? new ol.geom.Polygon([data]) : new ol.geom.LineString(data, 'XY')\r\n        });\r\n\r\n        obj.getGeometry().transform('EPSG:4326', 'EPSG:3857');\r\n\r\n        /**\r\n         * Create obj style\r\n         * @param  {Number} stroke width\r\n         * @param  {String} stroke color\r\n         * @param  {String} fill color\r\n         * @return {ol.style.Style} return obj style\r\n         */\r\n        var createObjStyle = function(strokeWidth, strokeColor, fillColor){\r\n            return new ol.style.Style({\r\n                stroke: new ol.style.Stroke({\r\n                    width: strokeWidth || 2,\r\n                    color: strokeColor || \"steelblue\"\r\n                }),\r\n                fill: new ol.style.Fill({\r\n                    color: fillColor || \"rgba(0, 0, 255, 0.2)\"\r\n                })\r\n            });\r\n        }\r\n\r\n        obj.setStyle(createObjStyle(strokeWidth, strokeColor, fillColor));\r\n\r\n        //add this marker to marker list (c9Markers)\r\n        self.c9Objs.addFeature(obj);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/map/C9.Map.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/C9.css\n ** module id = 15\n ** module chunks = 0\n **/"],"sourceRoot":""}