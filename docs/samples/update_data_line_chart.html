<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Examples - Update Data Line Chart</title>
		<!-- ICON -->
		<link rel="icon" href="../images/icon.ico">
		<!-- CSS -->
		<link rel="stylesheet" href="../libs/bootstrap/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="../css/main.css">
		<!-- JS -->
		<!-- <script src="./libs/c9/libs/jquery.min.js"></script> -->

	    <!-- D3 & OL3 & C9 -->
	    <script src="../libs/d3/d3.min.js"></script>
	    <script src="../../dist/C9.js"></script>
	    <link rel="stylesheet" href="../../dist/C9.min.css" />
	    <link rel="stylesheet" href="../libs/ol3/ol.css" />
		<!-- End of D3 & OL3 & C9 -->
	</head>
	<body>

	<!-- header -->
	<header id="header" class="header header-style">
		<nav class="navbar navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="">
						<img src="../images/icon.ico" height="25px" />
					</a> 
					<a class="navbar-brand" href="">c9js</a>
				</div>
				<div class="collapse navbar-collapse">
					<ul class="nav navbar-nav navbar-right">
						<li class="active"><a href="">Home</a></li>
						<li><a href="https://github.com/csethanhcong/d3js" target="_blank">GitHub</a></li>
						<li><p class="navbar-text">Version 1.0 <span class="glyphicon glyphicon-info-sign"></span></p></li>
					</ul>
				</div>
				<!-- /.navbar-collapse -->
			</div>
			<!-- /.container-fluid -->
		</nav>
	</header>

	<div class="container">
		<!-- Ex1: Bar Chart -->
		<div class="page-header">
		  <h3>&nbsp;<span class="glyphicon glyphicon-tag"></span>&nbsp;&nbsp;Update Data Line Chart</h3>
		</div>
		<div class="row">
			<div class="col-md-8" id="demo1"></div>
			<div class="col-md-4" id="table"></div>
		</div>
		<div id="demo1"></div>
	    <script type="text/javascript" charset="utf-8">
			var data1 = [
						 {"name": "ABC", "valueY": [100, 200, 300, 120, 320]}
						];
			var data2 = [
						 {"name": "ABC", "valueY": [100, 200, 300, 120, 320]},
						 {"name": "DEF", "valueY": [150, 210, 269, -696, 969]},
						];
			var options1 = {
				id: "#demo1", 
				width: 750, 
				height: 500, 
				margin: {
					top: 100, 
					left: 50, 
					right: 50, 
					bottom:100
				}, 
				data: {
					plain: data1,
					keys: {
						// x: 'valueX',
						y: 'valueY'
					},
				}, 
				axis: {
					x: {
						show: true,
						text: "Time",
						// type: "timeseries",
						tick: {
							// show: false,
							rotate: -60
							// padding: 10
						},
					},
					y: {
						show: false,
						text: "Sale",
						tick: {
							// show: false
						},
						grid: true
					}
				},
				titleText: 'Line Chart',
				interpolate: 'linear',
				point: {
					show: true,
					radius: 5,
					fill: 'white',
					stroke: 'steelblue',
					'stroke-width': 2
				},
				tooltip: {
					format: function(data) {
						var res = '';
						data.forEach(function(_data) {
							res += 'At moment: ' + _data.valueX + ', <strong>' + _data.name + '</strong>' + ' has ' + _data.valueY + '<br>';
						});
						return res;
					}
				},
				colorRange: ['steelblue', 'red'],
				legend: {
					show: true
				},
				table: {
					show: true,
					container: '#table'
				}
			};
			var lineChart = new C9.LineChart(options1);
			lineChart.setOption('subchart.show', true);
			lineChart.draw();

			setTimeout(function() {
				lineChart.updateData(data2);
				setTimeout(function() {
					lineChart.updateData(data1);
						setTimeout(function() {
							lineChart.updateData(data2);
						}, 2000);
				}, 2000);
			}, 2000);

		</script>
		
	</body>

</html>
